(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function od(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var id={exports:{}},Qi={},sd={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _o=Symbol.for("react.element"),Sh=Symbol.for("react.portal"),wh=Symbol.for("react.fragment"),xh=Symbol.for("react.strict_mode"),kh=Symbol.for("react.profiler"),Ih=Symbol.for("react.provider"),Ch=Symbol.for("react.context"),Eh=Symbol.for("react.forward_ref"),Ah=Symbol.for("react.suspense"),_h=Symbol.for("react.memo"),Mh=Symbol.for("react.lazy"),Cu=Symbol.iterator;function zh(e){return e===null||typeof e!="object"?null:(e=Cu&&e[Cu]||e["@@iterator"],typeof e=="function"?e:null)}var ad={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ld=Object.assign,ud={};function _r(e,t,n){this.props=e,this.context=t,this.refs=ud,this.updater=n||ad}_r.prototype.isReactComponent={};_r.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function cd(){}cd.prototype=_r.prototype;function hl(e,t,n){this.props=e,this.context=t,this.refs=ud,this.updater=n||ad}var ml=hl.prototype=new cd;ml.constructor=hl;ld(ml,_r.prototype);ml.isPureReactComponent=!0;var Eu=Array.isArray,dd=Object.prototype.hasOwnProperty,yl={current:null},fd={key:!0,ref:!0,__self:!0,__source:!0};function pd(e,t,n){var r,o={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)dd.call(t,r)&&!fd.hasOwnProperty(r)&&(o[r]=t[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:_o,type:e,key:i,ref:s,props:o,_owner:yl.current}}function jh(e,t){return{$$typeof:_o,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function gl(e){return typeof e=="object"&&e!==null&&e.$$typeof===_o}function Th(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Au=/\/+/g;function xs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Th(""+e.key):t.toString(36)}function ni(e,t,n,r,o){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case _o:case Sh:s=!0}}if(s)return s=e,o=o(s),e=r===""?"."+xs(s,0):r,Eu(o)?(n="",e!=null&&(n=e.replace(Au,"$&/")+"/"),ni(o,t,n,"",function(c){return c})):o!=null&&(gl(o)&&(o=jh(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Au,"$&/")+"/")+e)),t.push(o)),1;if(s=0,r=r===""?".":r+":",Eu(e))for(var a=0;a<e.length;a++){i=e[a];var l=r+xs(i,a);s+=ni(i,t,n,l,o)}else if(l=zh(e),typeof l=="function")for(e=l.call(e),a=0;!(i=e.next()).done;)i=i.value,l=r+xs(i,a++),s+=ni(i,t,n,l,o);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Oo(e,t,n){if(e==null)return e;var r=[],o=0;return ni(e,r,"","",function(i){return t.call(n,i,o++)}),r}function Nh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Be={current:null},ri={transition:null},Ph={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:ri,ReactCurrentOwner:yl};function hd(){throw Error("act(...) is not supported in production builds of React.")}K.Children={map:Oo,forEach:function(e,t,n){Oo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oo(e,function(){t++}),t},toArray:function(e){return Oo(e,function(t){return t})||[]},only:function(e){if(!gl(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};K.Component=_r;K.Fragment=wh;K.Profiler=kh;K.PureComponent=hl;K.StrictMode=xh;K.Suspense=Ah;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ph;K.act=hd;K.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ld({},e.props),o=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=yl.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)dd.call(t,l)&&!fd.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_o,type:e.type,key:o,ref:i,props:r,_owner:s}};K.createContext=function(e){return e={$$typeof:Ch,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ih,_context:e},e.Consumer=e};K.createElement=pd;K.createFactory=function(e){var t=pd.bind(null,e);return t.type=e,t};K.createRef=function(){return{current:null}};K.forwardRef=function(e){return{$$typeof:Eh,render:e}};K.isValidElement=gl;K.lazy=function(e){return{$$typeof:Mh,_payload:{_status:-1,_result:e},_init:Nh}};K.memo=function(e,t){return{$$typeof:_h,type:e,compare:t===void 0?null:t}};K.startTransition=function(e){var t=ri.transition;ri.transition={};try{e()}finally{ri.transition=t}};K.unstable_act=hd;K.useCallback=function(e,t){return Be.current.useCallback(e,t)};K.useContext=function(e){return Be.current.useContext(e)};K.useDebugValue=function(){};K.useDeferredValue=function(e){return Be.current.useDeferredValue(e)};K.useEffect=function(e,t){return Be.current.useEffect(e,t)};K.useId=function(){return Be.current.useId()};K.useImperativeHandle=function(e,t,n){return Be.current.useImperativeHandle(e,t,n)};K.useInsertionEffect=function(e,t){return Be.current.useInsertionEffect(e,t)};K.useLayoutEffect=function(e,t){return Be.current.useLayoutEffect(e,t)};K.useMemo=function(e,t){return Be.current.useMemo(e,t)};K.useReducer=function(e,t,n){return Be.current.useReducer(e,t,n)};K.useRef=function(e){return Be.current.useRef(e)};K.useState=function(e){return Be.current.useState(e)};K.useSyncExternalStore=function(e,t,n){return Be.current.useSyncExternalStore(e,t,n)};K.useTransition=function(){return Be.current.useTransition()};K.version="18.3.1";sd.exports=K;var E=sd.exports;const rt=od(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=E,Dh=Symbol.for("react.element"),Lh=Symbol.for("react.fragment"),Oh=Object.prototype.hasOwnProperty,$h=Rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fh={key:!0,ref:!0,__self:!0,__source:!0};function md(e,t,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Oh.call(t,r)&&!Fh.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)o[r]===void 0&&(o[r]=t[r]);return{$$typeof:Dh,type:e,key:i,ref:s,props:o,_owner:$h.current}}Qi.Fragment=Lh;Qi.jsx=md;Qi.jsxs=md;id.exports=Qi;var k=id.exports,yd={exports:{}},dt={},gd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,O){var b=T.length;T.push(O);e:for(;0<b;){var U=b-1>>>1,H=T[U];if(0<o(H,O))T[U]=O,T[b]=H,b=U;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var O=T[0],b=T.pop();if(b!==O){T[0]=b;e:for(var U=0,H=T.length,Z=H>>>1;U<Z;){var ne=2*(U+1)-1,X=T[ne],re=ne+1,q=T[re];if(0>o(X,b))re<H&&0>o(q,X)?(T[U]=q,T[re]=b,U=re):(T[U]=X,T[ne]=b,U=ne);else if(re<H&&0>o(q,b))T[U]=q,T[re]=b,U=re;else break e}}return O}function o(T,O){var b=T.sortIndex-O.sortIndex;return b!==0?b:T.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,g=!1,S=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(T){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=T)r(c),O.sortIndex=O.expirationTime,t(l,O);else break;O=n(c)}}function C(T){if(m=!1,v(T),!S)if(n(l)!==null)S=!0,R(x);else{var O=n(c);O!==null&&F(C,O.startTime-T)}}function x(T,O){S=!1,m&&(m=!1,p(z),z=-1),g=!0;var b=h;try{for(v(O),d=n(l);d!==null&&(!(d.expirationTime>O)||T&&!L());){var U=d.callback;if(typeof U=="function"){d.callback=null,h=d.priorityLevel;var H=U(d.expirationTime<=O);O=e.unstable_now(),typeof H=="function"?d.callback=H:d===n(l)&&r(l),v(O)}else r(l);d=n(l)}if(d!==null)var Z=!0;else{var ne=n(c);ne!==null&&F(C,ne.startTime-O),Z=!1}return Z}finally{d=null,h=b,g=!1}}var y=!1,I=null,z=-1,A=5,M=-1;function L(){return!(e.unstable_now()-M<A)}function P(){if(I!==null){var T=e.unstable_now();M=T;var O=!0;try{O=I(!0,T)}finally{O?_():(y=!1,I=null)}}else y=!1}var _;if(typeof f=="function")_=function(){f(P)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,D=j.port2;j.port1.onmessage=P,_=function(){D.postMessage(null)}}else _=function(){w(P,0)};function R(T){I=T,y||(y=!0,_())}function F(T,O){z=w(function(){T(e.unstable_now())},O)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,R(x))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(T){switch(h){case 1:case 2:case 3:var O=3;break;default:O=h}var b=h;h=O;try{return T()}finally{h=b}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,O){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var b=h;h=T;try{return O()}finally{h=b}},e.unstable_scheduleCallback=function(T,O,b){var U=e.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?U+b:U):b=U,T){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=b+H,T={id:u++,callback:O,priorityLevel:T,startTime:b,expirationTime:H,sortIndex:-1},b>U?(T.sortIndex=b,t(c,T),n(l)===null&&T===n(c)&&(m?(p(z),z=-1):m=!0,F(C,b-U))):(T.sortIndex=H,t(l,T),S||g||(S=!0,R(x))),T},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(T){var O=h;return function(){var b=h;h=O;try{return T.apply(this,arguments)}finally{h=b}}}})(vd);gd.exports=vd;var bh=gd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh=E,lt=bh;function $(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sd=new Set,ro={};function Fn(e,t){pr(e,t),pr(e+"Capture",t)}function pr(e,t){for(ro[e]=t,e=0;e<t.length;e++)Sd.add(t[e])}var Kt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=Object.prototype.hasOwnProperty,Vh=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_u={},Mu={};function Hh(e){return ra.call(Mu,e)?!0:ra.call(_u,e)?!1:Vh.test(e)?Mu[e]=!0:(_u[e]=!0,!1)}function Bh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Wh(e,t,n,r){if(t===null||typeof t>"u"||Bh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function We(e,t,n,r,o,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Pe[e]=new We(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Pe[t]=new We(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Pe[e]=new We(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Pe[e]=new We(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Pe[e]=new We(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Pe[e]=new We(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Pe[e]=new We(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Pe[e]=new We(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Pe[e]=new We(e,5,!1,e.toLowerCase(),null,!1,!1)});var vl=/[\-:]([a-z])/g;function Sl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(vl,Sl);Pe[t]=new We(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(vl,Sl);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(vl,Sl);Pe[t]=new We(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new We("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Pe[e]=new We(e,1,!1,e.toLowerCase(),null,!0,!0)});function wl(e,t,n,r){var o=Pe.hasOwnProperty(t)?Pe[t]:null;(o!==null?o.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Wh(t,n,o,r)&&(n=null),r||o===null?Hh(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,r=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Xt=Uh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$o=Symbol.for("react.element"),Wn=Symbol.for("react.portal"),Kn=Symbol.for("react.fragment"),xl=Symbol.for("react.strict_mode"),oa=Symbol.for("react.profiler"),wd=Symbol.for("react.provider"),xd=Symbol.for("react.context"),kl=Symbol.for("react.forward_ref"),ia=Symbol.for("react.suspense"),sa=Symbol.for("react.suspense_list"),Il=Symbol.for("react.memo"),Zt=Symbol.for("react.lazy"),kd=Symbol.for("react.offscreen"),zu=Symbol.iterator;function Tr(e){return e===null||typeof e!="object"?null:(e=zu&&e[zu]||e["@@iterator"],typeof e=="function"?e:null)}var me=Object.assign,ks;function Ur(e){if(ks===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ks=t&&t[1]||""}return`
`+ks+e}var Is=!1;function Cs(e,t){if(!e||Is)return"";Is=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Is=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ur(e):""}function Kh(e){switch(e.tag){case 5:return Ur(e.type);case 16:return Ur("Lazy");case 13:return Ur("Suspense");case 19:return Ur("SuspenseList");case 0:case 2:case 15:return e=Cs(e.type,!1),e;case 11:return e=Cs(e.type.render,!1),e;case 1:return e=Cs(e.type,!0),e;default:return""}}function aa(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Kn:return"Fragment";case Wn:return"Portal";case oa:return"Profiler";case xl:return"StrictMode";case ia:return"Suspense";case sa:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case xd:return(e.displayName||"Context")+".Consumer";case wd:return(e._context.displayName||"Context")+".Provider";case kl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Il:return t=e.displayName||null,t!==null?t:aa(e.type)||"Memo";case Zt:t=e._payload,e=e._init;try{return aa(e(t))}catch{}}return null}function Qh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aa(t);case 8:return t===xl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function pn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Id(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Yh(e){var t=Id(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fo(e){e._valueTracker||(e._valueTracker=Yh(e))}function Cd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Id(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function yi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function la(e,t){var n=t.checked;return me({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ju(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=pn(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ed(e,t){t=t.checked,t!=null&&wl(e,"checked",t,!1)}function ua(e,t){Ed(e,t);var n=pn(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?ca(e,t.type,n):t.hasOwnProperty("defaultValue")&&ca(e,t.type,pn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tu(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function ca(e,t,n){(t!=="number"||yi(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Vr=Array.isArray;function sr(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+pn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,r&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function da(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error($(91));return me({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nu(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error($(92));if(Vr(n)){if(1<n.length)throw Error($(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:pn(n)}}function Ad(e,t){var n=pn(t.value),r=pn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Pu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function _d(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fa(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?_d(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var bo,Md=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(bo=bo||document.createElement("div"),bo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=bo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function oo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Gh=["Webkit","ms","Moz","O"];Object.keys(Yr).forEach(function(e){Gh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yr[t]=Yr[e]})});function zd(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yr.hasOwnProperty(e)&&Yr[e]?(""+t).trim():t+"px"}function jd(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=zd(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}var Xh=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function pa(e,t){if(t){if(Xh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error($(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error($(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error($(61))}if(t.style!=null&&typeof t.style!="object")throw Error($(62))}}function ha(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ma=null;function Cl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ya=null,ar=null,lr=null;function Ru(e){if(e=jo(e)){if(typeof ya!="function")throw Error($(280));var t=e.stateNode;t&&(t=Zi(t),ya(e.stateNode,e.type,t))}}function Td(e){ar?lr?lr.push(e):lr=[e]:ar=e}function Nd(){if(ar){var e=ar,t=lr;if(lr=ar=null,Ru(e),t)for(e=0;e<t.length;e++)Ru(t[e])}}function Pd(e,t){return e(t)}function Rd(){}var Es=!1;function Dd(e,t,n){if(Es)return e(t,n);Es=!0;try{return Pd(e,t,n)}finally{Es=!1,(ar!==null||lr!==null)&&(Rd(),Nd())}}function io(e,t){var n=e.stateNode;if(n===null)return null;var r=Zi(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error($(231,t,typeof n));return n}var ga=!1;if(Kt)try{var Nr={};Object.defineProperty(Nr,"passive",{get:function(){ga=!0}}),window.addEventListener("test",Nr,Nr),window.removeEventListener("test",Nr,Nr)}catch{ga=!1}function Jh(e,t,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Gr=!1,gi=null,vi=!1,va=null,Zh={onError:function(e){Gr=!0,gi=e}};function qh(e,t,n,r,o,i,s,a,l){Gr=!1,gi=null,Jh.apply(Zh,arguments)}function em(e,t,n,r,o,i,s,a,l){if(qh.apply(this,arguments),Gr){if(Gr){var c=gi;Gr=!1,gi=null}else throw Error($(198));vi||(vi=!0,va=c)}}function bn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Ld(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Du(e){if(bn(e)!==e)throw Error($(188))}function tm(e){var t=e.alternate;if(!t){if(t=bn(e),t===null)throw Error($(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Du(o),e;if(i===r)return Du(o),t;i=i.sibling}throw Error($(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error($(189))}}if(n.alternate!==r)throw Error($(190))}if(n.tag!==3)throw Error($(188));return n.stateNode.current===n?e:t}function Od(e){return e=tm(e),e!==null?$d(e):null}function $d(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=$d(e);if(t!==null)return t;e=e.sibling}return null}var Fd=lt.unstable_scheduleCallback,Lu=lt.unstable_cancelCallback,nm=lt.unstable_shouldYield,rm=lt.unstable_requestPaint,we=lt.unstable_now,om=lt.unstable_getCurrentPriorityLevel,El=lt.unstable_ImmediatePriority,bd=lt.unstable_UserBlockingPriority,Si=lt.unstable_NormalPriority,im=lt.unstable_LowPriority,Ud=lt.unstable_IdlePriority,Yi=null,$t=null;function sm(e){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(Yi,e,void 0,(e.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:um,am=Math.log,lm=Math.LN2;function um(e){return e>>>=0,e===0?32:31-(am(e)/lm|0)|0}var Uo=64,Vo=4194304;function Hr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wi(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=Hr(a):(i&=s,i!==0&&(r=Hr(i)))}else s=n&~o,s!==0?r=Hr(s):i!==0&&(r=Hr(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&o)&&(o=r&-r,i=t&-t,o>=i||o===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-jt(t),o=1<<n,r|=e[n],t&=~o;return r}function cm(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dm(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-jt(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=cm(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}function Sa(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vd(){var e=Uo;return Uo<<=1,!(Uo&4194240)&&(Uo=64),e}function As(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-jt(t),e[t]=n}function fm(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-jt(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}function Al(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-jt(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var te=0;function Hd(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Bd,_l,Wd,Kd,Qd,wa=!1,Ho=[],on=null,sn=null,an=null,so=new Map,ao=new Map,en=[],pm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ou(e,t){switch(e){case"focusin":case"focusout":on=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":an=null;break;case"pointerover":case"pointerout":so.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(t.pointerId)}}function Pr(e,t,n,r,o,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},t!==null&&(t=jo(t),t!==null&&_l(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function hm(e,t,n,r,o){switch(t){case"focusin":return on=Pr(on,e,t,n,r,o),!0;case"dragenter":return sn=Pr(sn,e,t,n,r,o),!0;case"mouseover":return an=Pr(an,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return so.set(i,Pr(so.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,ao.set(i,Pr(ao.get(i)||null,e,t,n,r,o)),!0}return!1}function Yd(e){var t=_n(e.target);if(t!==null){var n=bn(t);if(n!==null){if(t=n.tag,t===13){if(t=Ld(n),t!==null){e.blockedOn=t,Qd(e.priority,function(){Wd(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function oi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=xa(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ma=r,n.target.dispatchEvent(r),ma=null}else return t=jo(n),t!==null&&_l(t),e.blockedOn=n,!1;t.shift()}return!0}function $u(e,t,n){oi(e)&&n.delete(t)}function mm(){wa=!1,on!==null&&oi(on)&&(on=null),sn!==null&&oi(sn)&&(sn=null),an!==null&&oi(an)&&(an=null),so.forEach($u),ao.forEach($u)}function Rr(e,t){e.blockedOn===t&&(e.blockedOn=null,wa||(wa=!0,lt.unstable_scheduleCallback(lt.unstable_NormalPriority,mm)))}function lo(e){function t(o){return Rr(o,e)}if(0<Ho.length){Rr(Ho[0],e);for(var n=1;n<Ho.length;n++){var r=Ho[n];r.blockedOn===e&&(r.blockedOn=null)}}for(on!==null&&Rr(on,e),sn!==null&&Rr(sn,e),an!==null&&Rr(an,e),so.forEach(t),ao.forEach(t),n=0;n<en.length;n++)r=en[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<en.length&&(n=en[0],n.blockedOn===null);)Yd(n),n.blockedOn===null&&en.shift()}var ur=Xt.ReactCurrentBatchConfig,xi=!0;function ym(e,t,n,r){var o=te,i=ur.transition;ur.transition=null;try{te=1,Ml(e,t,n,r)}finally{te=o,ur.transition=i}}function gm(e,t,n,r){var o=te,i=ur.transition;ur.transition=null;try{te=4,Ml(e,t,n,r)}finally{te=o,ur.transition=i}}function Ml(e,t,n,r){if(xi){var o=xa(e,t,n,r);if(o===null)Ls(e,t,r,ki,n),Ou(e,r);else if(hm(o,e,t,n,r))r.stopPropagation();else if(Ou(e,r),t&4&&-1<pm.indexOf(e)){for(;o!==null;){var i=jo(o);if(i!==null&&Bd(i),i=xa(e,t,n,r),i===null&&Ls(e,t,r,ki,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Ls(e,t,r,null,n)}}var ki=null;function xa(e,t,n,r){if(ki=null,e=Cl(r),e=_n(e),e!==null)if(t=bn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Ld(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ki=e,null}function Gd(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(om()){case El:return 1;case bd:return 4;case Si:case im:return 16;case Ud:return 536870912;default:return 16}default:return 16}}var nn=null,zl=null,ii=null;function Xd(){if(ii)return ii;var e,t=zl,n=t.length,r,o="value"in nn?nn.value:nn.textContent,i=o.length;for(e=0;e<n&&t[e]===o[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===o[i-r];r++);return ii=o.slice(e,1<r?1-r:void 0)}function si(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bo(){return!0}function Fu(){return!1}function ft(e){function t(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bo:Fu,this.isPropagationStopped=Fu,this}return me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),t}var Mr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=ft(Mr),zo=me({},Mr,{view:0,detail:0}),vm=ft(zo),_s,Ms,Dr,Gi=me({},zo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dr&&(Dr&&e.type==="mousemove"?(_s=e.screenX-Dr.screenX,Ms=e.screenY-Dr.screenY):Ms=_s=0,Dr=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:Ms}}),bu=ft(Gi),Sm=me({},Gi,{dataTransfer:0}),wm=ft(Sm),xm=me({},zo,{relatedTarget:0}),zs=ft(xm),km=me({},Mr,{animationName:0,elapsedTime:0,pseudoElement:0}),Im=ft(km),Cm=me({},Mr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Em=ft(Cm),Am=me({},Mr,{data:0}),Uu=ft(Am),_m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=zm[e])?!!t[e]:!1}function Tl(){return jm}var Tm=me({},zo,{key:function(e){if(e.key){var t=_m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=si(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Mm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tl,charCode:function(e){return e.type==="keypress"?si(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?si(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nm=ft(Tm),Pm=me({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=ft(Pm),Rm=me({},zo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tl}),Dm=ft(Rm),Lm=me({},Mr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Om=ft(Lm),$m=me({},Gi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fm=ft($m),bm=[9,13,27,32],Nl=Kt&&"CompositionEvent"in window,Xr=null;Kt&&"documentMode"in document&&(Xr=document.documentMode);var Um=Kt&&"TextEvent"in window&&!Xr,Jd=Kt&&(!Nl||Xr&&8<Xr&&11>=Xr),Hu=" ",Bu=!1;function Zd(e,t){switch(e){case"keyup":return bm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Qn=!1;function Vm(e,t){switch(e){case"compositionend":return qd(t);case"keypress":return t.which!==32?null:(Bu=!0,Hu);case"textInput":return e=t.data,e===Hu&&Bu?null:e;default:return null}}function Hm(e,t){if(Qn)return e==="compositionend"||!Nl&&Zd(e,t)?(e=Xd(),ii=zl=nn=null,Qn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Jd&&t.locale!=="ko"?null:t.data;default:return null}}var Bm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bm[e.type]:t==="textarea"}function ef(e,t,n,r){Td(r),t=Ii(t,"onChange"),0<t.length&&(n=new jl("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Jr=null,uo=null;function Wm(e){ff(e,0)}function Xi(e){var t=Xn(e);if(Cd(t))return e}function Km(e,t){if(e==="change")return t}var tf=!1;if(Kt){var js;if(Kt){var Ts="oninput"in document;if(!Ts){var Ku=document.createElement("div");Ku.setAttribute("oninput","return;"),Ts=typeof Ku.oninput=="function"}js=Ts}else js=!1;tf=js&&(!document.documentMode||9<document.documentMode)}function Qu(){Jr&&(Jr.detachEvent("onpropertychange",nf),uo=Jr=null)}function nf(e){if(e.propertyName==="value"&&Xi(uo)){var t=[];ef(t,uo,e,Cl(e)),Dd(Wm,t)}}function Qm(e,t,n){e==="focusin"?(Qu(),Jr=t,uo=n,Jr.attachEvent("onpropertychange",nf)):e==="focusout"&&Qu()}function Ym(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xi(uo)}function Gm(e,t){if(e==="click")return Xi(t)}function Xm(e,t){if(e==="input"||e==="change")return Xi(t)}function Jm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Nt=typeof Object.is=="function"?Object.is:Jm;function co(e,t){if(Nt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!ra.call(t,o)||!Nt(e[o],t[o]))return!1}return!0}function Yu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gu(e,t){var n=Yu(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yu(n)}}function rf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?rf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function of(){for(var e=window,t=yi();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=yi(e.document)}return t}function Pl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Zm(e){var t=of(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&rf(n.ownerDocument.documentElement,n)){if(r!==null&&Pl(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=Gu(n,i);var s=Gu(n,r);o&&s&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qm=Kt&&"documentMode"in document&&11>=document.documentMode,Yn=null,ka=null,Zr=null,Ia=!1;function Xu(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ia||Yn==null||Yn!==yi(r)||(r=Yn,"selectionStart"in r&&Pl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Zr&&co(Zr,r)||(Zr=r,r=Ii(ka,"onSelect"),0<r.length&&(t=new jl("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Yn)))}function Wo(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Gn={animationend:Wo("Animation","AnimationEnd"),animationiteration:Wo("Animation","AnimationIteration"),animationstart:Wo("Animation","AnimationStart"),transitionend:Wo("Transition","TransitionEnd")},Ns={},sf={};Kt&&(sf=document.createElement("div").style,"AnimationEvent"in window||(delete Gn.animationend.animation,delete Gn.animationiteration.animation,delete Gn.animationstart.animation),"TransitionEvent"in window||delete Gn.transitionend.transition);function Ji(e){if(Ns[e])return Ns[e];if(!Gn[e])return e;var t=Gn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in sf)return Ns[e]=t[n];return e}var af=Ji("animationend"),lf=Ji("animationiteration"),uf=Ji("animationstart"),cf=Ji("transitionend"),df=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mn(e,t){df.set(e,t),Fn(t,[e])}for(var Ps=0;Ps<Ju.length;Ps++){var Rs=Ju[Ps],ey=Rs.toLowerCase(),ty=Rs[0].toUpperCase()+Rs.slice(1);mn(ey,"on"+ty)}mn(af,"onAnimationEnd");mn(lf,"onAnimationIteration");mn(uf,"onAnimationStart");mn("dblclick","onDoubleClick");mn("focusin","onFocus");mn("focusout","onBlur");mn(cf,"onTransitionEnd");pr("onMouseEnter",["mouseout","mouseover"]);pr("onMouseLeave",["mouseout","mouseover"]);pr("onPointerEnter",["pointerout","pointerover"]);pr("onPointerLeave",["pointerout","pointerover"]);Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ny=new Set("cancel close invalid load scroll toggle".split(" ").concat(Br));function Zu(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,em(r,t,void 0,e),e.currentTarget=null}function ff(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Zu(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Zu(o,a,c),i=l}}}if(vi)throw e=va,vi=!1,va=null,e}function ae(e,t){var n=t[Ma];n===void 0&&(n=t[Ma]=new Set);var r=e+"__bubble";n.has(r)||(pf(t,e,2,!1),n.add(r))}function Ds(e,t,n){var r=0;t&&(r|=4),pf(n,e,r,t)}var Ko="_reactListening"+Math.random().toString(36).slice(2);function fo(e){if(!e[Ko]){e[Ko]=!0,Sd.forEach(function(n){n!=="selectionchange"&&(ny.has(n)||Ds(n,!1,e),Ds(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ko]||(t[Ko]=!0,Ds("selectionchange",!1,t))}}function pf(e,t,n,r){switch(Gd(t)){case 1:var o=ym;break;case 4:o=gm;break;default:o=Ml}n=o.bind(null,t,n,e),o=void 0,!ga||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),r?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Ls(e,t,n,r,o){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=_n(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Dd(function(){var c=i,u=Cl(n),d=[];e:{var h=df.get(e);if(h!==void 0){var g=jl,S=e;switch(e){case"keypress":if(si(n)===0)break e;case"keydown":case"keyup":g=Nm;break;case"focusin":S="focus",g=zs;break;case"focusout":S="blur",g=zs;break;case"beforeblur":case"afterblur":g=zs;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=Dm;break;case af:case lf:case uf:g=Im;break;case cf:g=Om;break;case"scroll":g=vm;break;case"wheel":g=Fm;break;case"copy":case"cut":case"paste":g=Em;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Vu}var m=(t&4)!==0,w=!m&&e==="scroll",p=m?h!==null?h+"Capture":null:h;m=[];for(var f=c,v;f!==null;){v=f;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,p!==null&&(C=io(f,p),C!=null&&m.push(po(f,C,v)))),w)break;f=f.return}0<m.length&&(h=new g(h,S,null,n,u),d.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&n!==ma&&(S=n.relatedTarget||n.fromElement)&&(_n(S)||S[Qt]))break e;if((g||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,g?(S=n.relatedTarget||n.toElement,g=c,S=S?_n(S):null,S!==null&&(w=bn(S),S!==w||S.tag!==5&&S.tag!==6)&&(S=null)):(g=null,S=c),g!==S)){if(m=bu,C="onMouseLeave",p="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(m=Vu,C="onPointerLeave",p="onPointerEnter",f="pointer"),w=g==null?h:Xn(g),v=S==null?h:Xn(S),h=new m(C,f+"leave",g,n,u),h.target=w,h.relatedTarget=v,C=null,_n(u)===c&&(m=new m(p,f+"enter",S,n,u),m.target=v,m.relatedTarget=w,C=m),w=C,g&&S)t:{for(m=g,p=S,f=0,v=m;v;v=Vn(v))f++;for(v=0,C=p;C;C=Vn(C))v++;for(;0<f-v;)m=Vn(m),f--;for(;0<v-f;)p=Vn(p),v--;for(;f--;){if(m===p||p!==null&&m===p.alternate)break t;m=Vn(m),p=Vn(p)}m=null}else m=null;g!==null&&qu(d,h,g,m,!1),S!==null&&w!==null&&qu(d,w,S,m,!0)}}e:{if(h=c?Xn(c):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var x=Km;else if(Wu(h))if(tf)x=Xm;else{x=Ym;var y=Qm}else(g=h.nodeName)&&g.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=Gm);if(x&&(x=x(e,c))){ef(d,x,n,u);break e}y&&y(e,h,c),e==="focusout"&&(y=h._wrapperState)&&y.controlled&&h.type==="number"&&ca(h,"number",h.value)}switch(y=c?Xn(c):window,e){case"focusin":(Wu(y)||y.contentEditable==="true")&&(Yn=y,ka=c,Zr=null);break;case"focusout":Zr=ka=Yn=null;break;case"mousedown":Ia=!0;break;case"contextmenu":case"mouseup":case"dragend":Ia=!1,Xu(d,n,u);break;case"selectionchange":if(qm)break;case"keydown":case"keyup":Xu(d,n,u)}var I;if(Nl)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else Qn?Zd(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(Jd&&n.locale!=="ko"&&(Qn||z!=="onCompositionStart"?z==="onCompositionEnd"&&Qn&&(I=Xd()):(nn=u,zl="value"in nn?nn.value:nn.textContent,Qn=!0)),y=Ii(c,z),0<y.length&&(z=new Uu(z,e,null,n,u),d.push({event:z,listeners:y}),I?z.data=I:(I=qd(n),I!==null&&(z.data=I)))),(I=Um?Vm(e,n):Hm(e,n))&&(c=Ii(c,"onBeforeInput"),0<c.length&&(u=new Uu("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=I))}ff(d,t)})}function po(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ii(e,t){for(var n=t+"Capture",r=[];e!==null;){var o=e,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=io(e,n),i!=null&&r.unshift(po(e,i,o)),i=io(e,t),i!=null&&r.push(po(e,i,o))),e=e.return}return r}function Vn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function qu(e,t,n,r,o){for(var i=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=io(n,i),l!=null&&s.unshift(po(n,l,a))):o||(l=io(n,i),l!=null&&s.push(po(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var ry=/\r\n?/g,oy=/\u0000|\uFFFD/g;function ec(e){return(typeof e=="string"?e:""+e).replace(ry,`
`).replace(oy,"")}function Qo(e,t,n){if(t=ec(t),ec(e)!==t&&n)throw Error($(425))}function Ci(){}var Ca=null,Ea=null;function Aa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var _a=typeof setTimeout=="function"?setTimeout:void 0,iy=typeof clearTimeout=="function"?clearTimeout:void 0,tc=typeof Promise=="function"?Promise:void 0,sy=typeof queueMicrotask=="function"?queueMicrotask:typeof tc<"u"?function(e){return tc.resolve(null).then(e).catch(ay)}:_a;function ay(e){setTimeout(function(){throw e})}function Os(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){e.removeChild(o),lo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);lo(t)}function ln(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function nc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+zr,ho="__reactProps$"+zr,Qt="__reactContainer$"+zr,Ma="__reactEvents$"+zr,ly="__reactListeners$"+zr,uy="__reactHandles$"+zr;function _n(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Qt]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=nc(e);e!==null;){if(n=e[Ot])return n;e=nc(e)}return t}e=n,n=e.parentNode}return null}function jo(e){return e=e[Ot]||e[Qt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error($(33))}function Zi(e){return e[ho]||null}var za=[],Jn=-1;function yn(e){return{current:e}}function le(e){0>Jn||(e.current=za[Jn],za[Jn]=null,Jn--)}function se(e,t){Jn++,za[Jn]=e.current,e.current=t}var hn={},be=yn(hn),et=yn(!1),Nn=hn;function hr(e,t){var n=e.type.contextTypes;if(!n)return hn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function tt(e){return e=e.childContextTypes,e!=null}function Ei(){le(et),le(be)}function rc(e,t,n){if(be.current!==hn)throw Error($(168));se(be,t),se(et,n)}function hf(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in t))throw Error($(108,Qh(e)||"Unknown",o));return me({},n,r)}function Ai(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hn,Nn=be.current,se(be,e),se(et,et.current),!0}function oc(e,t,n){var r=e.stateNode;if(!r)throw Error($(169));n?(e=hf(e,t,Nn),r.__reactInternalMemoizedMergedChildContext=e,le(et),le(be),se(be,e)):le(et),se(et,n)}var Vt=null,qi=!1,$s=!1;function mf(e){Vt===null?Vt=[e]:Vt.push(e)}function cy(e){qi=!0,mf(e)}function gn(){if(!$s&&Vt!==null){$s=!0;var e=0,t=te;try{var n=Vt;for(te=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Vt=null,qi=!1}catch(o){throw Vt!==null&&(Vt=Vt.slice(e+1)),Fd(El,gn),o}finally{te=t,$s=!1}}return null}var Zn=[],qn=0,_i=null,Mi=0,mt=[],yt=0,Pn=null,Ht=1,Bt="";function In(e,t){Zn[qn++]=Mi,Zn[qn++]=_i,_i=e,Mi=t}function yf(e,t,n){mt[yt++]=Ht,mt[yt++]=Bt,mt[yt++]=Pn,Pn=e;var r=Ht;e=Bt;var o=32-jt(r)-1;r&=~(1<<o),n+=1;var i=32-jt(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Ht=1<<32-jt(t)+o|n<<o|r,Bt=i+e}else Ht=1<<i|n<<o|r,Bt=e}function Rl(e){e.return!==null&&(In(e,1),yf(e,1,0))}function Dl(e){for(;e===_i;)_i=Zn[--qn],Zn[qn]=null,Mi=Zn[--qn],Zn[qn]=null;for(;e===Pn;)Pn=mt[--yt],mt[yt]=null,Bt=mt[--yt],mt[yt]=null,Ht=mt[--yt],mt[yt]=null}var at=null,st=null,de=!1,Mt=null;function gf(e,t){var n=gt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ic(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,st=ln(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,st=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Pn!==null?{id:Ht,overflow:Bt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=gt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,st=null,!0):!1;default:return!1}}function ja(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ta(e){if(de){var t=st;if(t){var n=t;if(!ic(e,t)){if(ja(e))throw Error($(418));t=ln(n.nextSibling);var r=at;t&&ic(e,t)?gf(r,n):(e.flags=e.flags&-4097|2,de=!1,at=e)}}else{if(ja(e))throw Error($(418));e.flags=e.flags&-4097|2,de=!1,at=e}}}function sc(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Yo(e){if(e!==at)return!1;if(!de)return sc(e),de=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Aa(e.type,e.memoizedProps)),t&&(t=st)){if(ja(e))throw vf(),Error($(418));for(;t;)gf(e,t),t=ln(t.nextSibling)}if(sc(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error($(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){st=ln(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}st=null}}else st=at?ln(e.stateNode.nextSibling):null;return!0}function vf(){for(var e=st;e;)e=ln(e.nextSibling)}function mr(){st=at=null,de=!1}function Ll(e){Mt===null?Mt=[e]:Mt.push(e)}var dy=Xt.ReactCurrentBatchConfig;function Lr(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($(309));var r=n.stateNode}if(!r)throw Error($(147,e));var o=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var a=o.refs;s===null?delete a[i]:a[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error($(284));if(!n._owner)throw Error($(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error($(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ac(e){var t=e._init;return t(e._payload)}function Sf(e){function t(p,f){if(e){var v=p.deletions;v===null?(p.deletions=[f],p.flags|=16):v.push(f)}}function n(p,f){if(!e)return null;for(;f!==null;)t(p,f),f=f.sibling;return null}function r(p,f){for(p=new Map;f!==null;)f.key!==null?p.set(f.key,f):p.set(f.index,f),f=f.sibling;return p}function o(p,f){return p=fn(p,f),p.index=0,p.sibling=null,p}function i(p,f,v){return p.index=v,e?(v=p.alternate,v!==null?(v=v.index,v<f?(p.flags|=2,f):v):(p.flags|=2,f)):(p.flags|=1048576,f)}function s(p){return e&&p.alternate===null&&(p.flags|=2),p}function a(p,f,v,C){return f===null||f.tag!==6?(f=Ws(v,p.mode,C),f.return=p,f):(f=o(f,v),f.return=p,f)}function l(p,f,v,C){var x=v.type;return x===Kn?u(p,f,v.props.children,C,v.key):f!==null&&(f.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Zt&&ac(x)===f.type)?(C=o(f,v.props),C.ref=Lr(p,f,v),C.return=p,C):(C=pi(v.type,v.key,v.props,null,p.mode,C),C.ref=Lr(p,f,v),C.return=p,C)}function c(p,f,v,C){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=Ks(v,p.mode,C),f.return=p,f):(f=o(f,v.children||[]),f.return=p,f)}function u(p,f,v,C,x){return f===null||f.tag!==7?(f=Tn(v,p.mode,C,x),f.return=p,f):(f=o(f,v),f.return=p,f)}function d(p,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Ws(""+f,p.mode,v),f.return=p,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case $o:return v=pi(f.type,f.key,f.props,null,p.mode,v),v.ref=Lr(p,null,f),v.return=p,v;case Wn:return f=Ks(f,p.mode,v),f.return=p,f;case Zt:var C=f._init;return d(p,C(f._payload),v)}if(Vr(f)||Tr(f))return f=Tn(f,p.mode,v,null),f.return=p,f;Go(p,f)}return null}function h(p,f,v,C){var x=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(p,f,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case $o:return v.key===x?l(p,f,v,C):null;case Wn:return v.key===x?c(p,f,v,C):null;case Zt:return x=v._init,h(p,f,x(v._payload),C)}if(Vr(v)||Tr(v))return x!==null?null:u(p,f,v,C,null);Go(p,v)}return null}function g(p,f,v,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(v)||null,a(f,p,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case $o:return p=p.get(C.key===null?v:C.key)||null,l(f,p,C,x);case Wn:return p=p.get(C.key===null?v:C.key)||null,c(f,p,C,x);case Zt:var y=C._init;return g(p,f,v,y(C._payload),x)}if(Vr(C)||Tr(C))return p=p.get(v)||null,u(f,p,C,x,null);Go(f,C)}return null}function S(p,f,v,C){for(var x=null,y=null,I=f,z=f=0,A=null;I!==null&&z<v.length;z++){I.index>z?(A=I,I=null):A=I.sibling;var M=h(p,I,v[z],C);if(M===null){I===null&&(I=A);break}e&&I&&M.alternate===null&&t(p,I),f=i(M,f,z),y===null?x=M:y.sibling=M,y=M,I=A}if(z===v.length)return n(p,I),de&&In(p,z),x;if(I===null){for(;z<v.length;z++)I=d(p,v[z],C),I!==null&&(f=i(I,f,z),y===null?x=I:y.sibling=I,y=I);return de&&In(p,z),x}for(I=r(p,I);z<v.length;z++)A=g(I,p,z,v[z],C),A!==null&&(e&&A.alternate!==null&&I.delete(A.key===null?z:A.key),f=i(A,f,z),y===null?x=A:y.sibling=A,y=A);return e&&I.forEach(function(L){return t(p,L)}),de&&In(p,z),x}function m(p,f,v,C){var x=Tr(v);if(typeof x!="function")throw Error($(150));if(v=x.call(v),v==null)throw Error($(151));for(var y=x=null,I=f,z=f=0,A=null,M=v.next();I!==null&&!M.done;z++,M=v.next()){I.index>z?(A=I,I=null):A=I.sibling;var L=h(p,I,M.value,C);if(L===null){I===null&&(I=A);break}e&&I&&L.alternate===null&&t(p,I),f=i(L,f,z),y===null?x=L:y.sibling=L,y=L,I=A}if(M.done)return n(p,I),de&&In(p,z),x;if(I===null){for(;!M.done;z++,M=v.next())M=d(p,M.value,C),M!==null&&(f=i(M,f,z),y===null?x=M:y.sibling=M,y=M);return de&&In(p,z),x}for(I=r(p,I);!M.done;z++,M=v.next())M=g(I,p,z,M.value,C),M!==null&&(e&&M.alternate!==null&&I.delete(M.key===null?z:M.key),f=i(M,f,z),y===null?x=M:y.sibling=M,y=M);return e&&I.forEach(function(P){return t(p,P)}),de&&In(p,z),x}function w(p,f,v,C){if(typeof v=="object"&&v!==null&&v.type===Kn&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case $o:e:{for(var x=v.key,y=f;y!==null;){if(y.key===x){if(x=v.type,x===Kn){if(y.tag===7){n(p,y.sibling),f=o(y,v.props.children),f.return=p,p=f;break e}}else if(y.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===Zt&&ac(x)===y.type){n(p,y.sibling),f=o(y,v.props),f.ref=Lr(p,y,v),f.return=p,p=f;break e}n(p,y);break}else t(p,y);y=y.sibling}v.type===Kn?(f=Tn(v.props.children,p.mode,C,v.key),f.return=p,p=f):(C=pi(v.type,v.key,v.props,null,p.mode,C),C.ref=Lr(p,f,v),C.return=p,p=C)}return s(p);case Wn:e:{for(y=v.key;f!==null;){if(f.key===y)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(p,f.sibling),f=o(f,v.children||[]),f.return=p,p=f;break e}else{n(p,f);break}else t(p,f);f=f.sibling}f=Ks(v,p.mode,C),f.return=p,p=f}return s(p);case Zt:return y=v._init,w(p,f,y(v._payload),C)}if(Vr(v))return S(p,f,v,C);if(Tr(v))return m(p,f,v,C);Go(p,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(p,f.sibling),f=o(f,v),f.return=p,p=f):(n(p,f),f=Ws(v,p.mode,C),f.return=p,p=f),s(p)):n(p,f)}return w}var yr=Sf(!0),wf=Sf(!1),zi=yn(null),ji=null,er=null,Ol=null;function $l(){Ol=er=ji=null}function Fl(e){var t=zi.current;le(zi),e._currentValue=t}function Na(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function cr(e,t){ji=e,Ol=er=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Ze=!0),e.firstContext=null)}function xt(e){var t=e._currentValue;if(Ol!==e)if(e={context:e,memoizedValue:t,next:null},er===null){if(ji===null)throw Error($(308));er=e,ji.dependencies={lanes:0,firstContext:e}}else er=er.next=e;return t}var Mn=null;function bl(e){Mn===null?Mn=[e]:Mn.push(e)}function xf(e,t,n,r){var o=t.interleaved;return o===null?(n.next=n,bl(t)):(n.next=o.next,o.next=n),t.interleaved=n,Yt(e,r)}function Yt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var qt=!1;function Ul(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function kf(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function un(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,G&2){var o=r.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Yt(e,n)}return o=r.interleaved,o===null?(t.next=t,bl(r)):(t.next=o.next,o.next=t),r.interleaved=t,Yt(e,n)}function ai(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Al(e,n)}}function lc(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=t:i=i.next=t}else o=i=t;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ti(e,t,n,r){var o=e.updateQueue;qt=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,u=c=l=null,a=i;do{var h=a.lane,g=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var S=e,m=a;switch(h=t,g=n,m.tag){case 1:if(S=m.payload,typeof S=="function"){d=S.call(g,d,h);break e}d=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=m.payload,h=typeof S=="function"?S.call(g,d,h):S,h==null)break e;d=me({},d,h);break e;case 2:qt=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else g={eventTime:g,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=g,l=d):u=u.next=g,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,t=o.shared.interleaved,t!==null){o=t;do s|=o.lane,o=o.next;while(o!==t)}else i===null&&(o.shared.lanes=0);Dn|=s,e.lanes=s,e.memoizedState=d}}function uc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error($(191,o));o.call(r)}}}var To={},Ft=yn(To),mo=yn(To),yo=yn(To);function zn(e){if(e===To)throw Error($(174));return e}function Vl(e,t){switch(se(yo,t),se(mo,e),se(Ft,To),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:fa(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=fa(t,e)}le(Ft),se(Ft,t)}function gr(){le(Ft),le(mo),le(yo)}function If(e){zn(yo.current);var t=zn(Ft.current),n=fa(t,e.type);t!==n&&(se(mo,e),se(Ft,n))}function Hl(e){mo.current===e&&(le(Ft),le(mo))}var pe=yn(0);function Ni(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fs=[];function Bl(){for(var e=0;e<Fs.length;e++)Fs[e]._workInProgressVersionPrimary=null;Fs.length=0}var li=Xt.ReactCurrentDispatcher,bs=Xt.ReactCurrentBatchConfig,Rn=0,he=null,Ce=null,Ae=null,Pi=!1,qr=!1,go=0,fy=0;function Oe(){throw Error($(321))}function Wl(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Nt(e[n],t[n]))return!1;return!0}function Kl(e,t,n,r,o,i){if(Rn=i,he=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,li.current=e===null||e.memoizedState===null?yy:gy,e=n(r,o),qr){i=0;do{if(qr=!1,go=0,25<=i)throw Error($(301));i+=1,Ae=Ce=null,t.updateQueue=null,li.current=vy,e=n(r,o)}while(qr)}if(li.current=Ri,t=Ce!==null&&Ce.next!==null,Rn=0,Ae=Ce=he=null,Pi=!1,t)throw Error($(300));return e}function Ql(){var e=go!==0;return go=0,e}function Lt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ae===null?he.memoizedState=Ae=e:Ae=Ae.next=e,Ae}function kt(){if(Ce===null){var e=he.alternate;e=e!==null?e.memoizedState:null}else e=Ce.next;var t=Ae===null?he.memoizedState:Ae.next;if(t!==null)Ae=t,Ce=e;else{if(e===null)throw Error($(310));Ce=e,e={memoizedState:Ce.memoizedState,baseState:Ce.baseState,baseQueue:Ce.baseQueue,queue:Ce.queue,next:null},Ae===null?he.memoizedState=Ae=e:Ae=Ae.next=e}return Ae}function vo(e,t){return typeof t=="function"?t(e):t}function Us(e){var t=kt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=Ce,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((Rn&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,he.lanes|=u,Dn|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Nt(r,t.memoizedState)||(Ze=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){o=e;do i=o.lane,he.lanes|=i,Dn|=i,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Vs(e){var t=kt(),n=t.queue;if(n===null)throw Error($(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,i=t.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=e(i,s.action),s=s.next;while(s!==o);Nt(i,t.memoizedState)||(Ze=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Cf(){}function Ef(e,t){var n=he,r=kt(),o=t(),i=!Nt(r.memoizedState,o);if(i&&(r.memoizedState=o,Ze=!0),r=r.queue,Yl(Mf.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||Ae!==null&&Ae.memoizedState.tag&1){if(n.flags|=2048,So(9,_f.bind(null,n,r,o,t),void 0,null),_e===null)throw Error($(349));Rn&30||Af(n,t,o)}return o}function Af(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function _f(e,t,n,r){t.value=n,t.getSnapshot=r,zf(t)&&jf(e)}function Mf(e,t,n){return n(function(){zf(t)&&jf(e)})}function zf(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Nt(e,n)}catch{return!0}}function jf(e){var t=Yt(e,1);t!==null&&Tt(t,e,1,-1)}function cc(e){var t=Lt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:e},t.queue=e,e=e.dispatch=my.bind(null,he,e),[t.memoizedState,e]}function So(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=he.updateQueue,t===null?(t={lastEffect:null,stores:null},he.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Tf(){return kt().memoizedState}function ui(e,t,n,r){var o=Lt();he.flags|=e,o.memoizedState=So(1|t,n,void 0,r===void 0?null:r)}function es(e,t,n,r){var o=kt();r=r===void 0?null:r;var i=void 0;if(Ce!==null){var s=Ce.memoizedState;if(i=s.destroy,r!==null&&Wl(r,s.deps)){o.memoizedState=So(t,n,i,r);return}}he.flags|=e,o.memoizedState=So(1|t,n,i,r)}function dc(e,t){return ui(8390656,8,e,t)}function Yl(e,t){return es(2048,8,e,t)}function Nf(e,t){return es(4,2,e,t)}function Pf(e,t){return es(4,4,e,t)}function Rf(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Df(e,t,n){return n=n!=null?n.concat([e]):null,es(4,4,Rf.bind(null,t,e),n)}function Gl(){}function Lf(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wl(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Of(e,t){var n=kt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Wl(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function $f(e,t,n){return Rn&21?(Nt(n,t)||(n=Vd(),he.lanes|=n,Dn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Ze=!0),e.memoizedState=n)}function py(e,t){var n=te;te=n!==0&&4>n?n:4,e(!0);var r=bs.transition;bs.transition={};try{e(!1),t()}finally{te=n,bs.transition=r}}function Ff(){return kt().memoizedState}function hy(e,t,n){var r=dn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bf(e))Uf(t,n);else if(n=xf(e,t,n,r),n!==null){var o=He();Tt(n,e,r,o),Vf(n,t,r)}}function my(e,t,n){var r=dn(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bf(e))Uf(t,o);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Nt(a,s)){var l=t.interleaved;l===null?(o.next=o,bl(t)):(o.next=l.next,l.next=o),t.interleaved=o;return}}catch{}finally{}n=xf(e,t,o,r),n!==null&&(o=He(),Tt(n,e,r,o),Vf(n,t,r))}}function bf(e){var t=e.alternate;return e===he||t!==null&&t===he}function Uf(e,t){qr=Pi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Vf(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Al(e,n)}}var Ri={readContext:xt,useCallback:Oe,useContext:Oe,useEffect:Oe,useImperativeHandle:Oe,useInsertionEffect:Oe,useLayoutEffect:Oe,useMemo:Oe,useReducer:Oe,useRef:Oe,useState:Oe,useDebugValue:Oe,useDeferredValue:Oe,useTransition:Oe,useMutableSource:Oe,useSyncExternalStore:Oe,useId:Oe,unstable_isNewReconciler:!1},yy={readContext:xt,useCallback:function(e,t){return Lt().memoizedState=[e,t===void 0?null:t],e},useContext:xt,useEffect:dc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ui(4194308,4,Rf.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ui(4194308,4,e,t)},useInsertionEffect:function(e,t){return ui(4,2,e,t)},useMemo:function(e,t){var n=Lt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Lt();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=hy.bind(null,he,e),[r.memoizedState,e]},useRef:function(e){var t=Lt();return e={current:e},t.memoizedState=e},useState:cc,useDebugValue:Gl,useDeferredValue:function(e){return Lt().memoizedState=e},useTransition:function(){var e=cc(!1),t=e[0];return e=py.bind(null,e[1]),Lt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=he,o=Lt();if(de){if(n===void 0)throw Error($(407));n=n()}else{if(n=t(),_e===null)throw Error($(349));Rn&30||Af(r,t,n)}o.memoizedState=n;var i={value:n,getSnapshot:t};return o.queue=i,dc(Mf.bind(null,r,i,e),[e]),r.flags|=2048,So(9,_f.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Lt(),t=_e.identifierPrefix;if(de){var n=Bt,r=Ht;n=(r&~(1<<32-jt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=go++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=fy++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},gy={readContext:xt,useCallback:Lf,useContext:xt,useEffect:Yl,useImperativeHandle:Df,useInsertionEffect:Nf,useLayoutEffect:Pf,useMemo:Of,useReducer:Us,useRef:Tf,useState:function(){return Us(vo)},useDebugValue:Gl,useDeferredValue:function(e){var t=kt();return $f(t,Ce.memoizedState,e)},useTransition:function(){var e=Us(vo)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Cf,useSyncExternalStore:Ef,useId:Ff,unstable_isNewReconciler:!1},vy={readContext:xt,useCallback:Lf,useContext:xt,useEffect:Yl,useImperativeHandle:Df,useInsertionEffect:Nf,useLayoutEffect:Pf,useMemo:Of,useReducer:Vs,useRef:Tf,useState:function(){return Vs(vo)},useDebugValue:Gl,useDeferredValue:function(e){var t=kt();return Ce===null?t.memoizedState=e:$f(t,Ce.memoizedState,e)},useTransition:function(){var e=Vs(vo)[0],t=kt().memoizedState;return[e,t]},useMutableSource:Cf,useSyncExternalStore:Ef,useId:Ff,unstable_isNewReconciler:!1};function At(e,t){if(e&&e.defaultProps){t=me({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Pa(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:me({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ts={isMounted:function(e){return(e=e._reactInternals)?bn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=He(),o=dn(e),i=Wt(r,o);i.payload=t,n!=null&&(i.callback=n),t=un(e,i,o),t!==null&&(Tt(t,e,o,r),ai(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=He(),o=dn(e),i=Wt(r,o);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=un(e,i,o),t!==null&&(Tt(t,e,o,r),ai(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=He(),r=dn(e),o=Wt(n,r);o.tag=2,t!=null&&(o.callback=t),t=un(e,o,r),t!==null&&(Tt(t,e,r,n),ai(t,e,r))}};function fc(e,t,n,r,o,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!co(n,r)||!co(o,i):!0}function Hf(e,t,n){var r=!1,o=hn,i=t.contextType;return typeof i=="object"&&i!==null?i=xt(i):(o=tt(t)?Nn:be.current,r=t.contextTypes,i=(r=r!=null)?hr(e,o):hn),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ts,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function pc(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ts.enqueueReplaceState(t,t.state,null)}function Ra(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Ul(e);var i=t.contextType;typeof i=="object"&&i!==null?o.context=xt(i):(i=tt(t)?Nn:be.current,o.context=hr(e,i)),o.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Pa(e,t,i,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&ts.enqueueReplaceState(o,o.state,null),Ti(e,n,o,r),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function vr(e,t){try{var n="",r=t;do n+=Kh(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:o,digest:null}}function Hs(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Sy=typeof WeakMap=="function"?WeakMap:Map;function Bf(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Li||(Li=!0,Wa=r),Da(e,t)},n}function Wf(e,t,n){n=Wt(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){Da(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Da(e,t),typeof r!="function"&&(cn===null?cn=new Set([this]):cn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function hc(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Sy;var o=new Set;r.set(t,o)}else o=r.get(t),o===void 0&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Py.bind(null,e,t,n),t.then(e,e))}function mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function yc(e,t,n,r,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,un(n,t,1))),n.lanes|=1),e)}var wy=Xt.ReactCurrentOwner,Ze=!1;function Ue(e,t,n,r){t.child=e===null?wf(t,null,n,r):yr(t,e.child,n,r)}function gc(e,t,n,r,o){n=n.render;var i=t.ref;return cr(t,o),r=Kl(e,t,n,r,i,o),n=Ql(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gt(e,t,o)):(de&&n&&Rl(t),t.flags|=1,Ue(e,t,r,o),t.child)}function vc(e,t,n,r,o){if(e===null){var i=n.type;return typeof i=="function"&&!ru(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Kf(e,t,i,r,o)):(e=pi(n.type,null,r,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(s,r)&&e.ref===t.ref)return Gt(e,t,o)}return t.flags|=1,e=fn(i,r),e.ref=t.ref,e.return=t,t.child=e}function Kf(e,t,n,r,o){if(e!==null){var i=e.memoizedProps;if(co(i,r)&&e.ref===t.ref)if(Ze=!1,t.pendingProps=r=i,(e.lanes&o)!==0)e.flags&131072&&(Ze=!0);else return t.lanes=e.lanes,Gt(e,t,o)}return La(e,t,n,r,o)}function Qf(e,t,n){var r=t.pendingProps,o=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},se(nr,it),it|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,se(nr,it),it|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,se(nr,it),it|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,se(nr,it),it|=r;return Ue(e,t,o,n),t.child}function Yf(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function La(e,t,n,r,o){var i=tt(n)?Nn:be.current;return i=hr(t,i),cr(t,o),n=Kl(e,t,n,r,i,o),r=Ql(),e!==null&&!Ze?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Gt(e,t,o)):(de&&r&&Rl(t),t.flags|=1,Ue(e,t,n,o),t.child)}function Sc(e,t,n,r,o){if(tt(n)){var i=!0;Ai(t)}else i=!1;if(cr(t,o),t.stateNode===null)ci(e,t),Hf(t,n,r),Ra(t,n,r,o),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=xt(c):(c=tt(n)?Nn:be.current,c=hr(t,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&pc(t,s,r,c),qt=!1;var h=t.memoizedState;s.state=h,Ti(t,r,s,o),l=t.memoizedState,a!==r||h!==l||et.current||qt?(typeof u=="function"&&(Pa(t,n,u,r),l=t.memoizedState),(a=qt||fc(t,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,kf(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:At(t.type,a),s.props=c,d=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=xt(l):(l=tt(n)?Nn:be.current,l=hr(t,l));var g=n.getDerivedStateFromProps;(u=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&pc(t,s,r,l),qt=!1,h=t.memoizedState,s.state=h,Ti(t,r,s,o);var S=t.memoizedState;a!==d||h!==S||et.current||qt?(typeof g=="function"&&(Pa(t,n,g,r),S=t.memoizedState),(c=qt||fc(t,n,c,r,h,S,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,S,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,S,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=S),s.props=r,s.state=S,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,i,o)}function Oa(e,t,n,r,o,i){Yf(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return o&&oc(t,n,!1),Gt(e,t,i);r=t.stateNode,wy.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=yr(t,e.child,null,i),t.child=yr(t,null,a,i)):Ue(e,t,a,i),t.memoizedState=r.state,o&&oc(t,n,!0),t.child}function Gf(e){var t=e.stateNode;t.pendingContext?rc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&rc(e,t.context,!1),Vl(e,t.containerInfo)}function wc(e,t,n,r,o){return mr(),Ll(o),t.flags|=256,Ue(e,t,n,r),t.child}var $a={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xf(e,t,n){var r=t.pendingProps,o=pe.current,i=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(o&2)!==0),a?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),se(pe,o&1),e===null)return Ta(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=os(s,r,0,null),e=Tn(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Fa(n),t.memoizedState=$a,e):Xl(t,s));if(o=e.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return xy(e,t,s,r,a,o,n);if(i){i=r.fallback,s=t.mode,o=e.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==o?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=fn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=fn(a,i):(i=Tn(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?Fa(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=$a,r}return i=e.child,e=i.sibling,r=fn(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Xl(e,t){return t=os({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Xo(e,t,n,r){return r!==null&&Ll(r),yr(t,e.child,null,n),e=Xl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function xy(e,t,n,r,o,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Hs(Error($(422))),Xo(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,o=t.mode,r=os({mode:"visible",children:r.children},o,0,null),i=Tn(i,o,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&yr(t,e.child,null,s),t.child.memoizedState=Fa(s),t.memoizedState=$a,i);if(!(t.mode&1))return Xo(e,t,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error($(419)),r=Hs(i,r,void 0),Xo(e,t,s,r)}if(a=(s&e.childLanes)!==0,Ze||a){if(r=_e,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,Yt(e,o),Tt(r,e,o,-1))}return nu(),r=Hs(Error($(421))),Xo(e,t,s,r)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=Ry.bind(null,e),o._reactRetry=t,null):(e=i.treeContext,st=ln(o.nextSibling),at=t,de=!0,Mt=null,e!==null&&(mt[yt++]=Ht,mt[yt++]=Bt,mt[yt++]=Pn,Ht=e.id,Bt=e.overflow,Pn=t),t=Xl(t,r.children),t.flags|=4096,t)}function xc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Na(e.return,t,n)}function Bs(e,t,n,r,o){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Jf(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(Ue(e,t,r.children,n),r=pe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&xc(e,n,t);else if(e.tag===19)xc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(se(pe,r),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ni(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Bs(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ni(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Bs(t,!0,n,null,i);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ci(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Gt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Dn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error($(153));if(t.child!==null){for(e=t.child,n=fn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=fn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ky(e,t,n){switch(t.tag){case 3:Gf(t),mr();break;case 5:If(t);break;case 1:tt(t.type)&&Ai(t);break;case 4:Vl(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;se(zi,r._currentValue),r._currentValue=o;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(se(pe,pe.current&1),t.flags|=128,null):n&t.child.childLanes?Xf(e,t,n):(se(pe,pe.current&1),e=Gt(e,t,n),e!==null?e.sibling:null);se(pe,pe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return Jf(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),se(pe,pe.current),r)break;return null;case 22:case 23:return t.lanes=0,Qf(e,t,n)}return Gt(e,t,n)}var Zf,ba,qf,ep;Zf=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ba=function(){};qf=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,zn(Ft.current);var i=null;switch(n){case"input":o=la(e,o),r=la(e,r),i=[];break;case"select":o=me({},o,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":o=da(e,o),r=da(e,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ci)}pa(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ro.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ro.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ae("scroll",e),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(t.updateQueue=c)&&(t.flags|=4)}};ep=function(e,t,n,r){n!==r&&(t.flags|=4)};function Or(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Iy(e,t,n){var r=t.pendingProps;switch(Dl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return tt(t.type)&&Ei(),$e(t),null;case 3:return r=t.stateNode,gr(),le(et),le(be),Bl(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yo(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(Ya(Mt),Mt=null))),ba(e,t),$e(t),null;case 5:Hl(t);var o=zn(yo.current);if(n=t.type,e!==null&&t.stateNode!=null)qf(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error($(166));return $e(t),null}if(e=zn(Ft.current),Yo(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Ot]=t,r[ho]=i,e=(t.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(o=0;o<Br.length;o++)ae(Br[o],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":ju(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":Nu(r,i),ae("invalid",r)}pa(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Qo(r.textContent,a,e),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Qo(r.textContent,a,e),o=["children",""+a]):ro.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ae("scroll",r)}switch(n){case"input":Fo(r),Tu(r,i,!0);break;case"textarea":Fo(r),Pu(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Ci)}r=o,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=_d(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Ot]=t,e[ho]=r,Zf(e,t,!1,!1),t.stateNode=e;e:{switch(s=ha(n,r),n){case"dialog":ae("cancel",e),ae("close",e),o=r;break;case"iframe":case"object":case"embed":ae("load",e),o=r;break;case"video":case"audio":for(o=0;o<Br.length;o++)ae(Br[o],e);o=r;break;case"source":ae("error",e),o=r;break;case"img":case"image":case"link":ae("error",e),ae("load",e),o=r;break;case"details":ae("toggle",e),o=r;break;case"input":ju(e,r),o=la(e,r),ae("invalid",e);break;case"option":o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=me({},r,{value:void 0}),ae("invalid",e);break;case"textarea":Nu(e,r),o=da(e,r),ae("invalid",e);break;default:o=r}pa(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?jd(e,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Md(e,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&oo(e,l):typeof l=="number"&&oo(e,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ro.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ae("scroll",e):l!=null&&wl(e,i,l,s))}switch(n){case"input":Fo(e),Tu(e,r,!1);break;case"textarea":Fo(e),Pu(e);break;case"option":r.value!=null&&e.setAttribute("value",""+pn(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?sr(e,!!r.multiple,i,!1):r.defaultValue!=null&&sr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=Ci)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return $e(t),null;case 6:if(e&&t.stateNode!=null)ep(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error($(166));if(n=zn(yo.current),zn(Ft.current),Yo(t)){if(r=t.stateNode,n=t.memoizedProps,r[Ot]=t,(i=r.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:Qo(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qo(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ot]=t,t.stateNode=r}return $e(t),null;case 13:if(le(pe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(de&&st!==null&&t.mode&1&&!(t.flags&128))vf(),mr(),t.flags|=98560,i=!1;else if(i=Yo(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error($(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error($(317));i[Ot]=t}else mr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;$e(t),i=!1}else Mt!==null&&(Ya(Mt),Mt=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||pe.current&1?Ee===0&&(Ee=3):nu())),t.updateQueue!==null&&(t.flags|=4),$e(t),null);case 4:return gr(),ba(e,t),e===null&&fo(t.stateNode.containerInfo),$e(t),null;case 10:return Fl(t.type._context),$e(t),null;case 17:return tt(t.type)&&Ei(),$e(t),null;case 19:if(le(pe),i=t.memoizedState,i===null)return $e(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Or(i,!1);else{if(Ee!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Ni(e),s!==null){for(t.flags|=128,Or(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return se(pe,pe.current&1|2),t.child}e=e.sibling}i.tail!==null&&we()>Sr&&(t.flags|=128,r=!0,Or(i,!1),t.lanes=4194304)}else{if(!r)if(e=Ni(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Or(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!de)return $e(t),null}else 2*we()-i.renderingStartTime>Sr&&n!==1073741824&&(t.flags|=128,r=!0,Or(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=we(),t.sibling=null,n=pe.current,se(pe,r?n&1|2:n&1),t):($e(t),null);case 22:case 23:return tu(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?it&1073741824&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),null;case 24:return null;case 25:return null}throw Error($(156,t.tag))}function Cy(e,t){switch(Dl(t),t.tag){case 1:return tt(t.type)&&Ei(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gr(),le(et),le(be),Bl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Hl(t),null;case 13:if(le(pe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error($(340));mr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return le(pe),null;case 4:return gr(),null;case 10:return Fl(t.type._context),null;case 22:case 23:return tu(),null;case 24:return null;default:return null}}var Jo=!1,Fe=!1,Ey=typeof WeakSet=="function"?WeakSet:Set,V=null;function tr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ge(e,t,r)}else n.current=null}function Ua(e,t,n){try{n()}catch(r){ge(e,t,r)}}var kc=!1;function Ay(e,t){if(Ca=xi,e=of(),Pl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=e,h=null;t:for(;;){for(var g;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)h=d,d=g;for(;;){if(d===e)break t;if(h===n&&++c===o&&(a=s),h===i&&++u===r&&(l=s),(g=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ea={focusedElem:e,selectionRange:n},xi=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var m=S.memoizedProps,w=S.memoizedState,p=t.stateNode,f=p.getSnapshotBeforeUpdate(t.elementType===t.type?m:At(t.type,m),w);p.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($(163))}}catch(C){ge(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return S=kc,kc=!1,S}function eo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ua(t,n,i)}o=o.next}while(o!==r)}}function ns(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Va(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function tp(e){var t=e.alternate;t!==null&&(e.alternate=null,tp(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[ho],delete t[Ma],delete t[ly],delete t[uy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function np(e){return e.tag===5||e.tag===3||e.tag===4}function Ic(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||np(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ha(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ci));else if(r!==4&&(e=e.child,e!==null))for(Ha(e,t,n),e=e.sibling;e!==null;)Ha(e,t,n),e=e.sibling}function Ba(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ba(e,t,n),e=e.sibling;e!==null;)Ba(e,t,n),e=e.sibling}var je=null,_t=!1;function Jt(e,t,n){for(n=n.child;n!==null;)rp(e,t,n),n=n.sibling}function rp(e,t,n){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(Yi,n)}catch{}switch(n.tag){case 5:Fe||tr(n,t);case 6:var r=je,o=_t;je=null,Jt(e,t,n),je=r,_t=o,je!==null&&(_t?(e=je,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):je.removeChild(n.stateNode));break;case 18:je!==null&&(_t?(e=je,n=n.stateNode,e.nodeType===8?Os(e.parentNode,n):e.nodeType===1&&Os(e,n),lo(e)):Os(je,n.stateNode));break;case 4:r=je,o=_t,je=n.stateNode.containerInfo,_t=!0,Jt(e,t,n),je=r,_t=o;break;case 0:case 11:case 14:case 15:if(!Fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ua(n,t,s),o=o.next}while(o!==r)}Jt(e,t,n);break;case 1:if(!Fe&&(tr(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ge(n,t,a)}Jt(e,t,n);break;case 21:Jt(e,t,n);break;case 22:n.mode&1?(Fe=(r=Fe)||n.memoizedState!==null,Jt(e,t,n),Fe=r):Jt(e,t,n);break;default:Jt(e,t,n)}}function Cc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Ey),t.forEach(function(r){var o=Dy.bind(null,e,r);n.has(r)||(n.add(r),r.then(o,o))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:je=a.stateNode,_t=!1;break e;case 3:je=a.stateNode.containerInfo,_t=!0;break e;case 4:je=a.stateNode.containerInfo,_t=!0;break e}a=a.return}if(je===null)throw Error($(160));rp(i,s,o),je=null,_t=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){ge(o,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)op(t,e),t=t.sibling}function op(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),Dt(e),r&4){try{eo(3,e,e.return),ns(3,e)}catch(m){ge(e,e.return,m)}try{eo(5,e,e.return)}catch(m){ge(e,e.return,m)}}break;case 1:Et(t,e),Dt(e),r&512&&n!==null&&tr(n,n.return);break;case 5:if(Et(t,e),Dt(e),r&512&&n!==null&&tr(n,n.return),e.flags&32){var o=e.stateNode;try{oo(o,"")}catch(m){ge(e,e.return,m)}}if(r&4&&(o=e.stateNode,o!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ed(o,i),ha(a,s);var c=ha(a,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?jd(o,d):u==="dangerouslySetInnerHTML"?Md(o,d):u==="children"?oo(o,d):wl(o,u,d,c)}switch(a){case"input":ua(o,i);break;case"textarea":Ad(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?sr(o,!!i.multiple,g,!1):h!==!!i.multiple&&(i.defaultValue!=null?sr(o,!!i.multiple,i.defaultValue,!0):sr(o,!!i.multiple,i.multiple?[]:"",!1))}o[ho]=i}catch(m){ge(e,e.return,m)}}break;case 6:if(Et(t,e),Dt(e),r&4){if(e.stateNode===null)throw Error($(162));o=e.stateNode,i=e.memoizedProps;try{o.nodeValue=i}catch(m){ge(e,e.return,m)}}break;case 3:if(Et(t,e),Dt(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(t.containerInfo)}catch(m){ge(e,e.return,m)}break;case 4:Et(t,e),Dt(e);break;case 13:Et(t,e),Dt(e),o=e.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(ql=we())),r&4&&Cc(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(Fe=(c=Fe)||u,Et(t,e),Fe=c):Et(t,e),Dt(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(d=V=u;V!==null;){switch(h=V,g=h.child,h.tag){case 0:case 11:case 14:case 15:eo(4,h,h.return);break;case 1:tr(h,h.return);var S=h.stateNode;if(typeof S.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(m){ge(r,n,m)}}break;case 5:tr(h,h.return);break;case 22:if(h.memoizedState!==null){Ac(d);continue}}g!==null?(g.return=h,V=g):Ac(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zd("display",s))}catch(m){ge(e,e.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){ge(e,e.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Et(t,e),Dt(e),r&4&&Cc(e);break;case 21:break;default:Et(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(np(n)){var r=n;break e}n=n.return}throw Error($(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(oo(o,""),r.flags&=-33);var i=Ic(e);Ba(e,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Ic(e);Ha(e,a,s);break;default:throw Error($(161))}}catch(l){ge(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _y(e,t,n){V=e,ip(e)}function ip(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var o=V,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Jo;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Fe;a=Jo;var c=Fe;if(Jo=s,(Fe=l)&&!c)for(V=o;V!==null;)s=V,l=s.child,s.tag===22&&s.memoizedState!==null?_c(o):l!==null?(l.return=s,V=l):_c(o);for(;i!==null;)V=i,ip(i),i=i.sibling;V=o,Jo=a,Fe=c}Ec(e)}else o.subtreeFlags&8772&&i!==null?(i.return=o,V=i):Ec(e)}}function Ec(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Fe||ns(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Fe)if(n===null)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:At(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&uc(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}uc(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&lo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($(163))}Fe||t.flags&512&&Va(t)}catch(h){ge(t,t.return,h)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function Ac(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function _c(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ns(4,t)}catch(l){ge(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var o=t.return;try{r.componentDidMount()}catch(l){ge(t,o,l)}}var i=t.return;try{Va(t)}catch(l){ge(t,i,l)}break;case 5:var s=t.return;try{Va(t)}catch(l){ge(t,s,l)}}}catch(l){ge(t,t.return,l)}if(t===e){V=null;break}var a=t.sibling;if(a!==null){a.return=t.return,V=a;break}V=t.return}}var My=Math.ceil,Di=Xt.ReactCurrentDispatcher,Jl=Xt.ReactCurrentOwner,St=Xt.ReactCurrentBatchConfig,G=0,_e=null,ke=null,Ne=0,it=0,nr=yn(0),Ee=0,wo=null,Dn=0,rs=0,Zl=0,to=null,Xe=null,ql=0,Sr=1/0,Ut=null,Li=!1,Wa=null,cn=null,Zo=!1,rn=null,Oi=0,no=0,Ka=null,di=-1,fi=0;function He(){return G&6?we():di!==-1?di:di=we()}function dn(e){return e.mode&1?G&2&&Ne!==0?Ne&-Ne:dy.transition!==null?(fi===0&&(fi=Vd()),fi):(e=te,e!==0||(e=window.event,e=e===void 0?16:Gd(e.type)),e):1}function Tt(e,t,n,r){if(50<no)throw no=0,Ka=null,Error($(185));Mo(e,n,r),(!(G&2)||e!==_e)&&(e===_e&&(!(G&2)&&(rs|=n),Ee===4&&tn(e,Ne)),nt(e,r),n===1&&G===0&&!(t.mode&1)&&(Sr=we()+500,qi&&gn()))}function nt(e,t){var n=e.callbackNode;dm(e,t);var r=wi(e,e===_e?Ne:0);if(r===0)n!==null&&Lu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Lu(n),t===1)e.tag===0?cy(Mc.bind(null,e)):mf(Mc.bind(null,e)),sy(function(){!(G&6)&&gn()}),n=null;else{switch(Hd(r)){case 1:n=El;break;case 4:n=bd;break;case 16:n=Si;break;case 536870912:n=Ud;break;default:n=Si}n=pp(n,sp.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sp(e,t){if(di=-1,fi=0,G&6)throw Error($(327));var n=e.callbackNode;if(dr()&&e.callbackNode!==n)return null;var r=wi(e,e===_e?Ne:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=$i(e,r);else{t=r;var o=G;G|=2;var i=lp();(_e!==e||Ne!==t)&&(Ut=null,Sr=we()+500,jn(e,t));do try{Ty();break}catch(a){ap(e,a)}while(!0);$l(),Di.current=i,G=o,ke!==null?t=0:(_e=null,Ne=0,t=Ee)}if(t!==0){if(t===2&&(o=Sa(e),o!==0&&(r=o,t=Qa(e,o))),t===1)throw n=wo,jn(e,0),tn(e,r),nt(e,we()),n;if(t===6)tn(e,r);else{if(o=e.current.alternate,!(r&30)&&!zy(o)&&(t=$i(e,r),t===2&&(i=Sa(e),i!==0&&(r=i,t=Qa(e,i))),t===1))throw n=wo,jn(e,0),tn(e,r),nt(e,we()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error($(345));case 2:Cn(e,Xe,Ut);break;case 3:if(tn(e,r),(r&130023424)===r&&(t=ql+500-we(),10<t)){if(wi(e,0)!==0)break;if(o=e.suspendedLanes,(o&r)!==r){He(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=_a(Cn.bind(null,e,Xe,Ut),t);break}Cn(e,Xe,Ut);break;case 4:if(tn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,o=-1;0<r;){var s=31-jt(r);i=1<<s,s=t[s],s>o&&(o=s),r&=~i}if(r=o,r=we()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*My(r/1960))-r,10<r){e.timeoutHandle=_a(Cn.bind(null,e,Xe,Ut),r);break}Cn(e,Xe,Ut);break;case 5:Cn(e,Xe,Ut);break;default:throw Error($(329))}}}return nt(e,we()),e.callbackNode===n?sp.bind(null,e):null}function Qa(e,t){var n=to;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=$i(e,t),e!==2&&(t=Xe,Xe=n,t!==null&&Ya(t)),e}function Ya(e){Xe===null?Xe=e:Xe.push.apply(Xe,e)}function zy(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Nt(i(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function tn(e,t){for(t&=~Zl,t&=~rs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-jt(t),r=1<<n;e[n]=-1,t&=~r}}function Mc(e){if(G&6)throw Error($(327));dr();var t=wi(e,0);if(!(t&1))return nt(e,we()),null;var n=$i(e,t);if(e.tag!==0&&n===2){var r=Sa(e);r!==0&&(t=r,n=Qa(e,r))}if(n===1)throw n=wo,jn(e,0),tn(e,t),nt(e,we()),n;if(n===6)throw Error($(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cn(e,Xe,Ut),nt(e,we()),null}function eu(e,t){var n=G;G|=1;try{return e(t)}finally{G=n,G===0&&(Sr=we()+500,qi&&gn())}}function Ln(e){rn!==null&&rn.tag===0&&!(G&6)&&dr();var t=G;G|=1;var n=St.transition,r=te;try{if(St.transition=null,te=1,e)return e()}finally{te=r,St.transition=n,G=t,!(G&6)&&gn()}}function tu(){it=nr.current,le(nr)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,iy(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Dl(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ei();break;case 3:gr(),le(et),le(be),Bl();break;case 5:Hl(r);break;case 4:gr();break;case 13:le(pe);break;case 19:le(pe);break;case 10:Fl(r.type._context);break;case 22:case 23:tu()}n=n.return}if(_e=e,ke=e=fn(e.current,null),Ne=it=t,Ee=0,wo=null,Zl=rs=Dn=0,Xe=to=null,Mn!==null){for(t=0;t<Mn.length;t++)if(n=Mn[t],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}Mn=null}return e}function ap(e,t){do{var n=ke;try{if($l(),li.current=Ri,Pi){for(var r=he.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Pi=!1}if(Rn=0,Ae=Ce=he=null,qr=!1,go=0,Jl.current=null,n===null||n.return===null){Ee=1,wo=t,ke=null;break}e:{var i=e,s=n.return,a=n,l=t;if(t=Ne,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var g=mc(s);if(g!==null){g.flags&=-257,yc(g,s,a,i,t),g.mode&1&&hc(i,c,t),t=g,l=c;var S=t.updateQueue;if(S===null){var m=new Set;m.add(l),t.updateQueue=m}else S.add(l);break e}else{if(!(t&1)){hc(i,c,t),nu();break e}l=Error($(426))}}else if(de&&a.mode&1){var w=mc(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),yc(w,s,a,i,t),Ll(vr(l,a));break e}}i=l=vr(l,a),Ee!==4&&(Ee=2),to===null?to=[i]:to.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var p=Bf(i,l,t);lc(i,p);break e;case 1:a=l;var f=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(cn===null||!cn.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=Wf(i,a,t);lc(i,C);break e}}i=i.return}while(i!==null)}cp(n)}catch(x){t=x,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function lp(){var e=Di.current;return Di.current=Ri,e===null?Ri:e}function nu(){(Ee===0||Ee===3||Ee===2)&&(Ee=4),_e===null||!(Dn&268435455)&&!(rs&268435455)||tn(_e,Ne)}function $i(e,t){var n=G;G|=2;var r=lp();(_e!==e||Ne!==t)&&(Ut=null,jn(e,t));do try{jy();break}catch(o){ap(e,o)}while(!0);if($l(),G=n,Di.current=r,ke!==null)throw Error($(261));return _e=null,Ne=0,Ee}function jy(){for(;ke!==null;)up(ke)}function Ty(){for(;ke!==null&&!nm();)up(ke)}function up(e){var t=fp(e.alternate,e,it);e.memoizedProps=e.pendingProps,t===null?cp(e):ke=t,Jl.current=null}function cp(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Cy(n,t),n!==null){n.flags&=32767,ke=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ee=6,ke=null;return}}else if(n=Iy(n,t,it),n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);Ee===0&&(Ee=5)}function Cn(e,t,n){var r=te,o=St.transition;try{St.transition=null,te=1,Ny(e,t,n,r)}finally{St.transition=o,te=r}return null}function Ny(e,t,n,r){do dr();while(rn!==null);if(G&6)throw Error($(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error($(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(fm(e,i),e===_e&&(ke=_e=null,Ne=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zo||(Zo=!0,pp(Si,function(){return dr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=St.transition,St.transition=null;var s=te;te=1;var a=G;G|=4,Jl.current=null,Ay(e,n),op(n,e),Zm(Ea),xi=!!Ca,Ea=Ca=null,e.current=n,_y(n),rm(),G=a,te=s,St.transition=i}else e.current=n;if(Zo&&(Zo=!1,rn=e,Oi=o),i=e.pendingLanes,i===0&&(cn=null),sm(n.stateNode),nt(e,we()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Li)throw Li=!1,e=Wa,Wa=null,e;return Oi&1&&e.tag!==0&&dr(),i=e.pendingLanes,i&1?e===Ka?no++:(no=0,Ka=e):no=0,gn(),null}function dr(){if(rn!==null){var e=Hd(Oi),t=St.transition,n=te;try{if(St.transition=null,te=16>e?16:e,rn===null)var r=!1;else{if(e=rn,rn=null,Oi=0,G&6)throw Error($(331));var o=G;for(G|=4,V=e.current;V!==null;){var i=V,s=i.child;if(V.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(V=c;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:eo(8,u,i)}var d=u.child;if(d!==null)d.return=u,V=d;else for(;V!==null;){u=V;var h=u.sibling,g=u.return;if(tp(u),u===c){V=null;break}if(h!==null){h.return=g,V=h;break}V=g}}}var S=i.alternate;if(S!==null){var m=S.child;if(m!==null){S.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}V=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,V=s;else e:for(;V!==null;){if(i=V,i.flags&2048)switch(i.tag){case 0:case 11:case 15:eo(9,i,i.return)}var p=i.sibling;if(p!==null){p.return=i.return,V=p;break e}V=i.return}}var f=e.current;for(V=f;V!==null;){s=V;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,V=v;else e:for(s=f;V!==null;){if(a=V,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ns(9,a)}}catch(x){ge(a,a.return,x)}if(a===s){V=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,V=C;break e}V=a.return}}if(G=o,gn(),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(Yi,e)}catch{}r=!0}return r}finally{te=n,St.transition=t}}return!1}function zc(e,t,n){t=vr(n,t),t=Bf(e,t,1),e=un(e,t,1),t=He(),e!==null&&(Mo(e,1,t),nt(e,t))}function ge(e,t,n){if(e.tag===3)zc(e,e,n);else for(;t!==null;){if(t.tag===3){zc(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cn===null||!cn.has(r))){e=vr(n,e),e=Wf(t,e,1),t=un(t,e,1),e=He(),t!==null&&(Mo(t,1,e),nt(t,e));break}}t=t.return}}function Py(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=He(),e.pingedLanes|=e.suspendedLanes&n,_e===e&&(Ne&n)===n&&(Ee===4||Ee===3&&(Ne&130023424)===Ne&&500>we()-ql?jn(e,0):Zl|=n),nt(e,t)}function dp(e,t){t===0&&(e.mode&1?(t=Vo,Vo<<=1,!(Vo&130023424)&&(Vo=4194304)):t=1);var n=He();e=Yt(e,t),e!==null&&(Mo(e,t,n),nt(e,n))}function Ry(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),dp(e,n)}function Dy(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error($(314))}r!==null&&r.delete(t),dp(e,n)}var fp;fp=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||et.current)Ze=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Ze=!1,ky(e,t,n);Ze=!!(e.flags&131072)}else Ze=!1,de&&t.flags&1048576&&yf(t,Mi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;ci(e,t),e=t.pendingProps;var o=hr(t,be.current);cr(t,n),o=Kl(null,t,r,e,o,n);var i=Ql();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,tt(r)?(i=!0,Ai(t)):i=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Ul(t),o.updater=ts,t.stateNode=o,o._reactInternals=t,Ra(t,r,e,n),t=Oa(null,t,r,!0,i,n)):(t.tag=0,de&&i&&Rl(t),Ue(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(ci(e,t),e=t.pendingProps,o=r._init,r=o(r._payload),t.type=r,o=t.tag=Oy(r),e=At(r,e),o){case 0:t=La(null,t,r,e,n);break e;case 1:t=Sc(null,t,r,e,n);break e;case 11:t=gc(null,t,r,e,n);break e;case 14:t=vc(null,t,r,At(r.type,e),n);break e}throw Error($(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:At(r,o),La(e,t,r,o,n);case 1:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:At(r,o),Sc(e,t,r,o,n);case 3:e:{if(Gf(t),e===null)throw Error($(387));r=t.pendingProps,i=t.memoizedState,o=i.element,kf(e,t),Ti(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){o=vr(Error($(423)),t),t=wc(e,t,r,n,o);break e}else if(r!==o){o=vr(Error($(424)),t),t=wc(e,t,r,n,o);break e}else for(st=ln(t.stateNode.containerInfo.firstChild),at=t,de=!0,Mt=null,n=wf(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(mr(),r===o){t=Gt(e,t,n);break e}Ue(e,t,r,n)}t=t.child}return t;case 5:return If(t),e===null&&Ta(t),r=t.type,o=t.pendingProps,i=e!==null?e.memoizedProps:null,s=o.children,Aa(r,o)?s=null:i!==null&&Aa(r,i)&&(t.flags|=32),Yf(e,t),Ue(e,t,s,n),t.child;case 6:return e===null&&Ta(t),null;case 13:return Xf(e,t,n);case 4:return Vl(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=yr(t,null,r,n):Ue(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:At(r,o),gc(e,t,r,o,n);case 7:return Ue(e,t,t.pendingProps,n),t.child;case 8:return Ue(e,t,t.pendingProps.children,n),t.child;case 12:return Ue(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,i=t.memoizedProps,s=o.value,se(zi,r._currentValue),r._currentValue=s,i!==null)if(Nt(i.value,s)){if(i.children===o.children&&!et.current){t=Gt(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Wt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Na(i.return,n,t),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error($(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Na(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ue(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,cr(t,n),o=xt(o),r=r(o),t.flags|=1,Ue(e,t,r,n),t.child;case 14:return r=t.type,o=At(r,t.pendingProps),o=At(r.type,o),vc(e,t,r,o,n);case 15:return Kf(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:At(r,o),ci(e,t),t.tag=1,tt(r)?(e=!0,Ai(t)):e=!1,cr(t,n),Hf(t,r,o),Ra(t,r,o,n),Oa(null,t,r,!0,e,n);case 19:return Jf(e,t,n);case 22:return Qf(e,t,n)}throw Error($(156,t.tag))};function pp(e,t){return Fd(e,t)}function Ly(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gt(e,t,n,r){return new Ly(e,t,n,r)}function ru(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Oy(e){if(typeof e=="function")return ru(e)?1:0;if(e!=null){if(e=e.$$typeof,e===kl)return 11;if(e===Il)return 14}return 2}function fn(e,t){var n=e.alternate;return n===null?(n=gt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function pi(e,t,n,r,o,i){var s=2;if(r=e,typeof e=="function")ru(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Kn:return Tn(n.children,o,i,t);case xl:s=8,o|=8;break;case oa:return e=gt(12,n,t,o|2),e.elementType=oa,e.lanes=i,e;case ia:return e=gt(13,n,t,o),e.elementType=ia,e.lanes=i,e;case sa:return e=gt(19,n,t,o),e.elementType=sa,e.lanes=i,e;case kd:return os(n,o,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case wd:s=10;break e;case xd:s=9;break e;case kl:s=11;break e;case Il:s=14;break e;case Zt:s=16,r=null;break e}throw Error($(130,e==null?e:typeof e,""))}return t=gt(s,n,t,o),t.elementType=e,t.type=r,t.lanes=i,t}function Tn(e,t,n,r){return e=gt(7,e,r,t),e.lanes=n,e}function os(e,t,n,r){return e=gt(22,e,r,t),e.elementType=kd,e.lanes=n,e.stateNode={isHidden:!1},e}function Ws(e,t,n){return e=gt(6,e,null,t),e.lanes=n,e}function Ks(e,t,n){return t=gt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $y(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=As(0),this.expirationTimes=As(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function ou(e,t,n,r,o,i,s,a,l){return e=new $y(e,t,n,a,l),t===1?(t=1,i===!0&&(t|=8)):t=0,i=gt(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ul(i),e}function Fy(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wn,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function hp(e){if(!e)return hn;e=e._reactInternals;e:{if(bn(e)!==e||e.tag!==1)throw Error($(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(tt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error($(171))}if(e.tag===1){var n=e.type;if(tt(n))return hf(e,n,t)}return t}function mp(e,t,n,r,o,i,s,a,l){return e=ou(n,r,!0,e,o,i,s,a,l),e.context=hp(null),n=e.current,r=He(),o=dn(n),i=Wt(r,o),i.callback=t??null,un(n,i,o),e.current.lanes=o,Mo(e,o,r),nt(e,r),e}function is(e,t,n,r){var o=t.current,i=He(),s=dn(o);return n=hp(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=un(o,t,s),e!==null&&(Tt(e,o,s,i),ai(e,o,s)),s}function Fi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function iu(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}function by(){return null}var yp=typeof reportError=="function"?reportError:function(e){console.error(e)};function su(e){this._internalRoot=e}ss.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error($(409));is(e,t,null,null)};ss.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ln(function(){is(null,e,null,null)}),t[Qt]=null}};function ss(e){this._internalRoot=e}ss.prototype.unstable_scheduleHydration=function(e){if(e){var t=Kd();e={blockedOn:null,target:e,priority:t};for(var n=0;n<en.length&&t!==0&&t<en[n].priority;n++);en.splice(n,0,e),n===0&&Yd(e)}};function au(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function as(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Tc(){}function Uy(e,t,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=Fi(s);i.call(c)}}var s=mp(t,r,e,0,null,!1,!1,"",Tc);return e._reactRootContainer=s,e[Qt]=s.current,fo(e.nodeType===8?e.parentNode:e),Ln(),s}for(;o=e.lastChild;)e.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Fi(l);a.call(c)}}var l=ou(e,0,!1,null,null,!1,!1,"",Tc);return e._reactRootContainer=l,e[Qt]=l.current,fo(e.nodeType===8?e.parentNode:e),Ln(function(){is(t,l,n,r)}),l}function ls(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=Fi(s);a.call(l)}}is(t,s,e,o)}else s=Uy(n,t,e,o,r);return Fi(s)}Bd=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Hr(t.pendingLanes);n!==0&&(Al(t,n|1),nt(t,we()),!(G&6)&&(Sr=we()+500,gn()))}break;case 13:Ln(function(){var r=Yt(e,1);if(r!==null){var o=He();Tt(r,e,1,o)}}),iu(e,1)}};_l=function(e){if(e.tag===13){var t=Yt(e,134217728);if(t!==null){var n=He();Tt(t,e,134217728,n)}iu(e,134217728)}};Wd=function(e){if(e.tag===13){var t=dn(e),n=Yt(e,t);if(n!==null){var r=He();Tt(n,e,t,r)}iu(e,t)}};Kd=function(){return te};Qd=function(e,t){var n=te;try{return te=e,t()}finally{te=n}};ya=function(e,t,n){switch(t){case"input":if(ua(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=Zi(r);if(!o)throw Error($(90));Cd(r),ua(r,o)}}}break;case"textarea":Ad(e,n);break;case"select":t=n.value,t!=null&&sr(e,!!n.multiple,t,!1)}};Pd=eu;Rd=Ln;var Vy={usingClientEntryPoint:!1,Events:[jo,Xn,Zi,Td,Nd,eu]},$r={findFiberByHostInstance:_n,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Hy={bundleType:$r.bundleType,version:$r.version,rendererPackageName:$r.rendererPackageName,rendererConfig:$r.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Od(e),e===null?null:e.stateNode},findFiberByHostInstance:$r.findFiberByHostInstance||by,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qo.isDisabled&&qo.supportsFiber)try{Yi=qo.inject(Hy),$t=qo}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Vy;dt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!au(t))throw Error($(200));return Fy(e,t,null,n)};dt.createRoot=function(e,t){if(!au(e))throw Error($(299));var n=!1,r="",o=yp;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=ou(e,1,!1,null,null,n,!1,r,o),e[Qt]=t.current,fo(e.nodeType===8?e.parentNode:e),new su(t)};dt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error($(188)):(e=Object.keys(e).join(","),Error($(268,e)));return e=Od(t),e=e===null?null:e.stateNode,e};dt.flushSync=function(e){return Ln(e)};dt.hydrate=function(e,t,n){if(!as(t))throw Error($(200));return ls(null,e,t,!0,n)};dt.hydrateRoot=function(e,t,n){if(!au(e))throw Error($(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=yp;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=mp(t,null,e,1,n??null,o,!1,i,s),e[Qt]=t.current,fo(e),r)for(e=0;e<r.length;e++)n=r[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new ss(t)};dt.render=function(e,t,n){if(!as(t))throw Error($(200));return ls(null,e,t,!1,n)};dt.unmountComponentAtNode=function(e){if(!as(e))throw Error($(40));return e._reactRootContainer?(Ln(function(){ls(null,null,e,!1,function(){e._reactRootContainer=null,e[Qt]=null})}),!0):!1};dt.unstable_batchedUpdates=eu;dt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!as(n))throw Error($(200));if(e==null||e._reactInternals===void 0)throw Error($(38));return ls(e,t,n,!1,r)};dt.version="18.3.1-next-f1338f8080-20240426";function gp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gp)}catch(e){console.error(e)}}gp(),yd.exports=dt;var wr=yd.exports,vp,Nc=wr;vp=Nc.createRoot,Nc.hydrateRoot;var Sp=(e=>(e[e.CRITICAL=1e3]="CRITICAL",e[e.HIGH=800]="HIGH",e[e.NORMAL=500]="NORMAL",e[e.LOW=200]="LOW",e[e.BACKGROUND=100]="BACKGROUND",e))(Sp||{});const oe={LEAD:"LEAD",FOLLOW:"FOLLOW",SELF:"SELF"};class By{constructor(t={}){this.plugins=new Map,this.validators=new Map,this.actionHandlers=new Map,this.menuActionsByType=new Map,this.options={...t},t.defaultValidators&&(this.validators=new Map(Object.entries(t.defaultValidators)))}registerPlugin(t){this.plugins.set(t.id,t),t.onRegister&&t.onRegister()}unregisterPlugin(t){const n=this.plugins.get(t);n!=null&&n.onUnregister&&n.onUnregister(),this.plugins.delete(t)}registerValidator(t,n){const r=this.validators.get(t)||[];this.validators.set(t,[...r,n])}unregisterValidators(t){this.validators.delete(t)}registerActionHandler(t,n,r){if(this.actionHandlers.set(t,{handler:n,metadata:r}),r!=null&&r.menuType){const o=this.menuActionsByType.get(r.menuType)||new Set;o.add(t),this.menuActionsByType.set(r.menuType,o)}}unregisterActionHandler(t){var r;const n=this.actionHandlers.get(t);if((r=n==null?void 0:n.metadata)!=null&&r.menuType){const o=this.menuActionsByType.get(n.metadata.menuType);o&&(o.delete(t),o.size===0&&this.menuActionsByType.delete(n.metadata.menuType))}this.actionHandlers.delete(t)}validateAction(t){const n=this.validators.get(t.type)||[];for(const r of n){const o=r(t);if(!o.valid)return o}return{valid:!0}}handleAction(t){const n=this.validateAction(t);if(!n.valid){console.warn(`Invalid action: ${n.message}`);return}const r=Array.from(this.plugins.values()).sort((o,i)=>i.priority-o.priority);for(const o of r)if(o.actionTypes===null||o.actionTypes.includes(t.type))try{o.handler(t)}catch(i){console.error(`Error in plugin ${o.id}:`,i)}}executeAction(t,n){const r=this.actionHandlers.get(t);return r!=null&&r.handler?(r.handler(n),!0):!1}getMenuActions(t){const n=this.menuActionsByType.get(t)||new Set;return Array.from(n).map(r=>{const o=this.actionHandlers.get(r);return o?{id:r,...o}:null}).filter(r=>r!==null&&r.metadata!==void 0).sort((r,o)=>(r.order||0)-(o.order||0))}}const Q=new By,Wy={initialize:e=>{e.areas.types.forEach(t=>{}),e.actions.plugins.forEach(t=>{Q.registerPlugin(t)}),e.actions.validators.forEach(({actionType:t,validator:n})=>{Q.registerValidator(t,n)}),e.contextMenu.actions.forEach(t=>{})},cleanup:()=>{}},Pc=e=>{let t;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(t):c;if(!Object.is(d,t)){const h=t;t=u??(typeof d!="object"||d===null)?d:Object.assign({},t,d),n.forEach(g=>g(t,h))}},o=()=>t,a={setState:r,getState:o,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,o,a);return a},Ky=e=>e?Pc(e):Pc,Qy=e=>e;function Yy(e,t=Qy){const n=rt.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return rt.useDebugValue(n),n}const Gy=e=>{const t=Ky(e),n=r=>Yy(t,r);return Object.assign(n,t),n},lu=e=>Gy;var wp=Symbol.for("immer-nothing"),Rc=Symbol.for("immer-draftable"),ut=Symbol.for("immer-state");function zt(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var xr=Object.getPrototypeOf;function kr(e){return!!e&&!!e[ut]}function On(e){var t;return e?xp(e)||Array.isArray(e)||!!e[Rc]||!!((t=e.constructor)!=null&&t[Rc])||cs(e)||ds(e):!1}var Xy=Object.prototype.constructor.toString();function xp(e){if(!e||typeof e!="object")return!1;const t=xr(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===Xy}function bi(e,t){us(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function us(e){const t=e[ut];return t?t.type_:Array.isArray(e)?1:cs(e)?2:ds(e)?3:0}function Ga(e,t){return us(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function kp(e,t,n){const r=us(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Jy(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function cs(e){return e instanceof Map}function ds(e){return e instanceof Set}function En(e){return e.copy_||e.base_}function Xa(e,t){if(cs(e))return new Map(e);if(ds(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=xp(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[ut];let o=Reflect.ownKeys(r);for(let i=0;i<o.length;i++){const s=o[i],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(xr(e),r)}else{const r=xr(e);if(r!==null&&n)return{...e};const o=Object.create(r);return Object.assign(o,e)}}function uu(e,t=!1){return fs(e)||kr(e)||!On(e)||(us(e)>1&&(e.set=e.add=e.clear=e.delete=Zy),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>uu(r,!0))),e}function Zy(){zt(2)}function fs(e){return Object.isFrozen(e)}var qy={};function $n(e){const t=qy[e];return t||zt(0,e),t}var xo;function Ip(){return xo}function eg(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Dc(e,t){t&&($n("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ja(e){Za(e),e.drafts_.forEach(tg),e.drafts_=null}function Za(e){e===xo&&(xo=e.parent_)}function Lc(e){return xo=eg(xo,e)}function tg(e){const t=e[ut];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Oc(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[ut].modified_&&(Ja(t),zt(4)),On(e)&&(e=Ui(t,e),t.parent_||Vi(t,e)),t.patches_&&$n("Patches").generateReplacementPatches_(n[ut].base_,e,t.patches_,t.inversePatches_)):e=Ui(t,n,[]),Ja(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==wp?e:void 0}function Ui(e,t,n){if(fs(t))return t;const r=t[ut];if(!r)return bi(t,(o,i)=>$c(e,r,t,o,i,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return Vi(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),bi(i,(a,l)=>$c(e,r,o,a,l,n,s)),Vi(e,o,!1),n&&e.patches_&&$n("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function $c(e,t,n,r,o,i,s){if(kr(o)){const a=i&&t&&t.type_!==3&&!Ga(t.assigned_,r)?i.concat(r):void 0,l=Ui(e,o,a);if(kp(n,r,l),kr(l))e.canAutoFreeze_=!1;else return}else s&&n.add(o);if(On(o)&&!fs(o)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ui(e,o),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Vi(e,o)}}function Vi(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&uu(t,n)}function ng(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:Ip(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=cu;n&&(o=[r],i=ko);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var cu={get(e,t){if(t===ut)return e;const n=En(e);if(!Ga(n,t))return rg(e,n,t);const r=n[t];return e.finalized_||!On(r)?r:r===Qs(e.base_,t)?(Ys(e),e.copy_[t]=el(r,e)):r},has(e,t){return t in En(e)},ownKeys(e){return Reflect.ownKeys(En(e))},set(e,t,n){const r=Cp(En(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const o=Qs(En(e),t),i=o==null?void 0:o[ut];if(i&&i.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(Jy(n,o)&&(n!==void 0||Ga(e.base_,t)))return!0;Ys(e),qa(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Qs(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Ys(e),qa(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=En(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){zt(11)},getPrototypeOf(e){return xr(e.base_)},setPrototypeOf(){zt(12)}},ko={};bi(cu,(e,t)=>{ko[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});ko.deleteProperty=function(e,t){return ko.set.call(this,e,t,void 0)};ko.set=function(e,t,n){return cu.set.call(this,e[0],t,n,e[0])};function Qs(e,t){const n=e[ut];return(n?En(n):e)[t]}function rg(e,t,n){var o;const r=Cp(t,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(e.draft_):void 0}function Cp(e,t){if(!(t in e))return;let n=xr(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=xr(n)}}function qa(e){e.modified_||(e.modified_=!0,e.parent_&&qa(e.parent_))}function Ys(e){e.copy_||(e.copy_=Xa(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var og=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const i=n;n=t;const s=this;return function(l=i,...c){return s.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&zt(6),r!==void 0&&typeof r!="function"&&zt(7);let o;if(On(t)){const i=Lc(this),s=el(t,void 0);let a=!0;try{o=n(s),a=!1}finally{a?Ja(i):Za(i)}return Dc(i,r),Oc(o,i)}else if(!t||typeof t!="object"){if(o=n(t),o===void 0&&(o=t),o===wp&&(o=void 0),this.autoFreeze_&&uu(o,!0),r){const i=[],s=[];$n("Patches").generateReplacementPatches_(t,o,i,s),r(i,s)}return o}else zt(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,o;return[this.produce(t,n,(s,a)=>{r=s,o=a}),r,o]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){On(e)||zt(8),kr(e)&&(e=ig(e));const t=Lc(this),n=el(e,void 0);return n[ut].isManual_=!0,Za(t),n}finishDraft(e,t){const n=e&&e[ut];(!n||!n.isManual_)&&zt(9);const{scope_:r}=n;return Dc(r,t),Oc(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const o=t[n];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}n>-1&&(t=t.slice(n+1));const r=$n("Patches").applyPatches_;return kr(e)?r(e,t):this.produce(e,o=>r(o,t))}};function el(e,t){const n=cs(e)?$n("MapSet").proxyMap_(e,t):ds(e)?$n("MapSet").proxySet_(e,t):ng(e,t);return(t?t.scope_:Ip()).drafts_.push(n),n}function ig(e){return kr(e)||zt(10,e),Ep(e)}function Ep(e){if(!On(e)||fs(e))return e;const t=e[ut];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Xa(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Xa(e,!0);return bi(n,(r,o)=>{kp(n,r,Ep(o))}),t&&(t.finalized_=!1),n}var ct=new og,sg=ct.produce;ct.produceWithPatches.bind(ct);ct.setAutoFreeze.bind(ct);ct.setUseStrictShallowCopy.bind(ct);ct.applyPatches.bind(ct);ct.createDraft.bind(ct);ct.finishDraft.bind(ct);const ag=e=>(t,n,r)=>(r.setState=(o,i,...s)=>{const a=typeof o=="function"?sg(o):o;return t(a,i,...s)},e(r.setState,n,r)),du=ag,ei=5,vt=30,Hi=32,lg=.25;let Hn=null,Gs=0,Xs=0,Bn=0;const ug=500,Io=()=>{var i,s;const e={top:0,left:0,height:Math.floor(((i=window.document.querySelector(".area-root"))==null?void 0:i.getBoundingClientRect().height)||0),width:Math.floor(((s=window.document.querySelector(".area-root"))==null?void 0:s.getBoundingClientRect().width)||0)},t=Date.now();if(window.__AREA_RESIZING__){if(Bn||(Bn=t,Hn||(Hn={...e},Gs=e.width,Xs=e.height)),Hn)return Hn}else Bn&&t-Bn>ug&&(Bn=0);const n=Math.abs(e.width-Gs),r=Math.abs(e.height-Xs),o=n>5||r>5;return!window.__AREA_RESIZING__&&o&&!Bn&&(Hn={...e},Gs=e.width,Xs=e.height),Hn||e},tl=(e,t,n)=>e*(1-n)+t*n,Ap=(e,t,n)=>Math.min(t,Math.max(e,n)),ot=e=>e instanceof ve?e:typeof e.left=="number"?new ve(e.left,e.top):new ve(e.x,e.y),ee=class ee{static new(t,n){return typeof t=="number"?new ee(t,n):typeof t.left=="number"?new ee(t.left,t.top):new ee(t.x,t.y)}static fromEvent(t){return new ee(t.clientX,t.clientY)}static dot(t,n){const r=ot(t),o=ot(n);return r.x*o.x+r.y*o.y}constructor(t,n){typeof t=="number"?(this._x=t,this._y=n):(this._x=t.x,this._y=t.y),this.atOrigin=this.x===0&&this.y===0,this.apply=this.apply.bind(this)}set x(t){this._x=t,this.atOrigin=this.x===0&&this.y===0}get x(){return this._x}set y(t){this._y=t,this.atOrigin=this.x===0&&this.y===0}get y(){return this._y}add(t){const n=ot(t);return n.atOrigin?this:new ee(this.x+n.x,this.y+n.y)}addX(t){return new ee(this.x+t,this.y)}addY(t){return new ee(this.x,this.y+t)}sub(t){const n=ot(t);return n.atOrigin?this:new ee(this.x-n.x,this.y-n.y)}subX(t){return new ee(this.x-t,this.y)}subY(t){return new ee(this.x,this.y-t)}subXY(t,n){return new ee(this.x-t,this.y-n)}scale(t,n=ee.new(0,0)){if(t===1)return this;const r=ot(n);return new ee(r.x+(this.x-r.x)*t,r.y+(this.y-r.y)*t)}scaleX(t,n=ee.new(0,0)){if(t===1)return this;const r=ot(n);return new ee(r.x+(this.x-r.x)*t,this.y)}scaleY(t,n=ee.new(0,0)){if(t===1)return this;const r=ot(n);return new ee(this.x,r.y+(this.y-r.y)*t)}scaleXY(t,n,r=ee.new(0,0)){if(t===1&&n===1)return this;const o=ot(r);return new ee(o.x+(this.x-o.x)*t,o.y+(this.y-o.y)*n)}rotate(t,n=ee.new(0,0)){if(t===0)return this;const r=ot(n),o=this.x-r.x,i=this.y-r.y,s=Math.cos(t),a=Math.sin(t),l=o*s-i*a,c=o*a+i*s;return new ee(l+r.x,c+r.y)}multiplyMat2(t,n=ee.new(0,0)){const r=ot(n);return t.multiplyVec2(this.sub(r)).add(r)}copy(){return new ee(this.x,this.y)}lerp(t,n){const r=ot(t);return new ee(tl(this.x,r.x,n),tl(this.y,r.y,n))}round(){return ee.new(Math.round(this.x),Math.round(this.y))}apply(t){return ot(t(this))}length(){return Math.hypot(this.x,this.y)}eq(t){const n=ot(t);return n.x===this.x&&n.y===this.y}toJSON(){return{x:this.x,y:this.y,__objectType:"vec2"}}};ee.ORIGIN=ee.new(0,0);let ve=ee;const cg=rt.createContext(""),dg=(e,t)=>{const n={};if(t[e].type==="area")return{};function o(i){const s=t[i];if(s.type==="area")return{width:1,height:1};const a={height:0,width:0},l=s.areas.map(c=>o(c.id));return s.orientation==="horizontal"?(a.width=l.reduce((c,u)=>c+u.width,0),a.height=Math.max(...l.map(c=>c.height))):(a.height=l.reduce((c,u)=>c+u.height,0),a.width=Math.max(...l.map(c=>c.width))),n[i]=a,a}return n[e]=o(e),n};function An(e,t){const n={};if(!e)return console.error("computeAreaToParentRow received null or undefined layout."),{};const r=Object.keys(e);for(let o=0;o<r.length;o+=1){const i=e[r[o]];if(!i||i.type!=="area_row")continue;const s=i;if(s.areas&&Array.isArray(s.areas))for(let a=0;a<s.areas.length;a+=1)s.areas[a]&&s.areas[a].id&&(n[s.areas[a].id]=s.id)}return n}const rr={lastCalculation:0,totalCalculations:0,failedIds:new Set,reportedProblems:new Set,reset(){this.failedIds.clear(),this.reportedProblems.clear()}};setInterval(()=>{Date.now()-rr.lastCalculation>6e4&&rr.reset()},6e4);let Fr={width:0,height:0};const Ir=(e,t,n)=>{if(Math.random().toString(36).substring(2,7),!t)return{};const r=JSON.parse(JSON.stringify(e));if(rr.lastCalculation=Date.now(),rr.totalCalculations++,!n||n.width<=0||n.height<=0)if(console.error("Invalid viewport dimensions",n),Fr.width>0&&Fr.height>0)console.warn("Using last valid viewport dimensions"),n={...n,width:Fr.width,height:Fr.height};else return{};else Fr={width:n.width,height:n.height};if(!e||Object.keys(e).length===0)return console.error("Empty layout provided to computeAreaToViewport"),{};if(!t||!r[t])return console.error(`Invalid rootId: ${t} - not found in layout`,e),{};const o={},i=new Set,s=rr.reportedProblems;Object.entries(r).forEach(([d,h])=>{h?h.type==="area_row"&&(!h.areas||!Array.isArray(h.areas))&&console.error(`Area row ${d} has invalid areas property`,h):console.error(`Invalid area definition for id ${d}`,h)});function a(d,h){if(!d||!h){console.error("Invalid area or contentArea in computeArea",{area:d,contentArea:h});return}if(!i.has(d.id)){if(d.type||(console.warn(`Area ${d.id} has no type, defaulting to 'area'`),d.type="area"),h.width<=0||h.height<=0){console.warn(`Area ${d.id} has invalid content area size: ${h.width}x${h.height}`);return}i.add(d.id),o[d.id]={...h}}}function l(d,h){if(!d||!h||i.has(d.id)){if(d&&i.has(d.id))return;if(!d){console.error("computeRow: Invalid row");return}if(!h){console.error("computeRow: Invalid contentArea for row",d.id);return}}if(i.add(d.id),(!d.areas||!Array.isArray(d.areas))&&(console.error("Row without proper areas array in computeRow",{rowId:d.id,areas:d.areas}),d.areas=[]),(h.width<=0||h.height<=0)&&(console.error("ContentArea with invalid dimensions in computeRow",{rowId:d.id,contentArea:h}),h={...h,width:Math.max(h.width,10),height:Math.max(h.height,10)},console.warn("Corrected contentArea to minimum size for row",d.id,h)),d.areas.length===0){console.warn("Row with empty areas array in computeRow, skipping children but assigning viewport",{rowId:d.id}),o[d.id]={...h};return}o[d.id]={...h};const g=d.areas.map(y=>y.id).filter(y=>!r[y]);g.length>0&&g.forEach(y=>{s.has(`auto_creating_${y}`)||(console.warn(`Auto-creating area ${y} referenced in row ${d.id}`),s.add(`auto_creating_${y}`)),r[y]={type:"area",id:y}});const S=.05;let m=0;d.areas.forEach((y,I)=>{y.size>1&&(y.size=y.size/100),typeof y.size!="number"||isNaN(y.size)||y.size<=0?(y.size===0&&m++,s.has(`${d.id}_${I}_size`)||(console.warn(`Invalid size for area ${y.id}: ${y.size}, defaulting to 1/${d.areas.length}`),s.add(`${d.id}_${I}_size`)),y.size=1/d.areas.length):y.size<S&&(s.has(`${d.id}_${I}_min_size`)||(console.warn(`Area ${y.id} has very small size: ${y.size}, setting to minimum ${S}`),s.add(`${d.id}_${I}_min_size`)),y.size=S)});const w=d.areas.reduce((y,I)=>y+(I.size||0),0);if(w===0||m===d.areas.length){console.warn(`All areas in row ${d.id} have zero size, setting equal distribution`);const y=1/d.areas.length;d.areas.forEach(I=>{I.size=y})}else if(Math.abs(w-1)>.001){const y=1/w;d.areas.forEach(I=>{I.size=I.size*y})}const p=d.areas.reduce((y,I)=>y+(I.size||0),0);if(Math.abs(p-1)>.001){console.error(`Failed to normalize sizes in row ${d.id}: final total=${p}`);const y=1/d.areas.length;d.areas.forEach(I=>{I.size=y})}let f=h.left,v=h.top,C=0,x=0;for(let y=0;y<d.areas.length;y++){const I=d.areas[y];if(!I||!I.id)continue;const z=I.id,A=r[z],M=y===d.areas.length-1;if(!A)continue;let L,P;d.orientation==="horizontal"?(P=h.height,M?L=Math.max(0,h.width-C):(L=Math.max(0,Math.floor(I.size*h.width)),C+=L)):(L=h.width,M?P=Math.max(0,h.height-x):(P=Math.max(0,Math.floor(I.size*h.height)),x+=P));const _={left:f,top:v,width:L,height:P};try{A.type==="area"?a(A,_):A.type==="area_row"&&l(A,_)}catch(j){console.error(`[computeRow RECURSE_ERROR ${y}] Error computing viewport for area ${z}:`,j)}d.orientation==="horizontal"?f+=L:v+=P}}const c=r[t];c.type==="area"?a(c,n):c.type==="area_row"&&l(c,n);const u=Object.keys(r).filter(d=>!o[d]);return u.length>0&&u.forEach(d=>{o[d]||(rr.failedIds.add(d),o[d]={left:0,top:0,width:100,height:100})}),o},_p=(e,t,n,r)=>{const o=r?ve.new(e.x+r.x/15,e.y+r.y/15):e;let i,s,a=1/0,l;return Object.entries(n).forEach(([c,u])=>{const d=t.layout[c];if(!d||d.type!=="area"&&!(d.type==="area_row"&&d.orientation==="stack"))return;if(o.x>=u.left&&o.x<=u.left+u.width&&o.y>=u.top&&o.y<=u.top+u.height){d.type==="area_row"&&d.orientation==="stack"?i=c:d.type==="area"&&(s=c);return}const g=Math.abs(o.x-u.left),S=Math.abs(o.x-(u.left+u.width)),m=Math.abs(o.y-u.top),w=Math.abs(o.y-(u.top+u.height)),p=Math.min(g,S,m,w);p<a&&(a=p,l=c)}),i||s||l};function Mp(e,t){const n=t.x-e.left,r=t.y-e.top,o=n,i=e.width-n,s=r,a=e.height-r,l=e.width/2,c=e.height/2,u=Math.abs(n-l),d=Math.abs(r-c),h=e.width*.3,g=e.height*.3;if(u<h&&d<g)return"stack";const S=Math.min(o,i,s,a);let m;return S===o?m="left":S===i?m="right":S===s?m="top":m="bottom",m}const fg=(e,t,n)=>{const r=t,o=r+n;if(r<0||r>=e.areas.length||o<0||o>=e.areas.length)throw new Error(`Invalid indices: source=${r}, target=${o}, length=${e.areas.length}, direction=${n===-1?"west":"east"}`);const i=e.areas[r],s=e.areas[o];if(!i||!s)throw new Error(`Missing areas: source=${i}, target=${s}`);const a=i.size||1,l=s.size||1,c=a+l;if(e.areas.length===2)return{area:{type:"area",id:i.id},removedAreaId:s.id};const u=[...e.areas];return u[o]={id:i.id,size:c},u.splice(r,1),{area:{...e,areas:u},removedAreaId:s.id}},pg=e=>{const t=[];return e.id||t.push("Missing ID"),e.type||t.push("Missing type"),e.state||t.push("Missing state"),{isValid:t.length===0,errors:t}},Js=e=>{const t=[];return typeof e.x!="number"&&t.push("Position X must be a number"),typeof e.y!="number"&&t.push("Position Y must be a number"),isNaN(e.x)&&t.push("Position X is NaN"),isNaN(e.y)&&t.push("Position Y is NaN"),{isValid:t.length===0,errors:t}},Fc=e=>{const t=[];return e.id||t.push("Missing ID"),e.label||t.push("Missing label"),e.actionId||t.push("Missing actionId"),{isValid:t.length===0,errors:t}},bc={BASE_URL:"./",DEV:!1,MODE:"production",PROD:!0,SSR:!1},Co=new Map,ti=e=>{const t=Co.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([n,r])=>[n,r.getState()])):{}},hg=(e,t,n)=>{if(e===void 0)return{type:"untracked",connection:t.connect(n)};const r=Co.get(n.name);if(r)return{type:"tracked",store:e,...r};const o={connection:t.connect(n),stores:{}};return Co.set(n.name,o),{type:"tracked",store:e,...o}},mg=(e,t)=>{if(t===void 0)return;const n=Co.get(e);n&&(delete n.stores[t],Object.keys(n.stores).length===0&&Co.delete(e))},yg=e=>{var t,n;if(!e)return;const r=e.split(`
`),o=r.findIndex(s=>s.includes("api.setState"));if(o<0)return;const i=((t=r[o+1])==null?void 0:t.trim())||"";return(n=/.+ (.+) .+/.exec(i))==null?void 0:n[1]},gg=(e,t={})=>(n,r,o)=>{const{enabled:i,anonymousActionType:s,store:a,...l}=t;let c;try{c=(i??(bc?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!c)return e(n,r,o);const{connection:u,...d}=hg(a,c,l);let h=!0;o.setState=(m,w,p)=>{const f=n(m,w);if(!h)return f;const v=yg(new Error().stack),C=p===void 0?{type:s||v||"anonymous"}:typeof p=="string"?{type:p}:p;return a===void 0?(u==null||u.send(C,r()),f):(u==null||u.send({...C,type:`${a}/${C.type}`},{...ti(l.name),[a]:o.getState()}),f)},o.devtools={cleanup:()=>{u&&typeof u.unsubscribe=="function"&&u.unsubscribe(),mg(l.name,a)}};const g=(...m)=>{const w=h;h=!1,n(...m),h=w},S=e(o.setState,r,o);if(d.type==="untracked"?u==null||u.init(S):(d.stores[d.store]=o,u==null||u.init(Object.fromEntries(Object.entries(d.stores).map(([m,w])=>[m,m===d.store?S:w.getState()])))),o.dispatchFromDevtools&&typeof o.dispatch=="function"){let m=!1;const w=o.dispatch;o.dispatch=(...p)=>{(bc?"production":void 0)!=="production"&&p[0].type==="__setState"&&!m&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),m=!0),w(...p)}}return u.subscribe(m=>{var w;switch(m.type){case"ACTION":if(typeof m.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Zs(m.payload,p=>{if(p.type==="__setState"){if(a===void 0){g(p.state);return}Object.keys(p.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const f=p.state[a];if(f==null)return;JSON.stringify(o.getState())!==JSON.stringify(f)&&g(f);return}o.dispatchFromDevtools&&typeof o.dispatch=="function"&&o.dispatch(p)});case"DISPATCH":switch(m.payload.type){case"RESET":return g(S),a===void 0?u==null?void 0:u.init(o.getState()):u==null?void 0:u.init(ti(l.name));case"COMMIT":if(a===void 0){u==null||u.init(o.getState());return}return u==null?void 0:u.init(ti(l.name));case"ROLLBACK":return Zs(m.state,p=>{if(a===void 0){g(p),u==null||u.init(o.getState());return}g(p[a]),u==null||u.init(ti(l.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Zs(m.state,p=>{if(a===void 0){g(p);return}JSON.stringify(o.getState())!==JSON.stringify(p[a])&&g(p[a])});case"IMPORT_STATE":{const{nextLiftedState:p}=m.payload,f=(w=p.computedStates.slice(-1)[0])==null?void 0:w.state;if(!f)return;g(a===void 0?f:f[a]),u==null||u.send(null,p);return}case"PAUSE_RECORDING":return h=!h}return}}),S},zp=gg,Zs=(e,t)=>{let n;try{n=JSON.parse(e)}catch(r){console.error("[zustand devtools middleware] Could not parse the received json",r)}n!==void 0&&t(n)};function jp(e,t){let n;try{n=e()}catch{return}return{getItem:o=>{var i;const s=l=>l===null?null:JSON.parse(l,void 0),a=(i=n.getItem(o))!=null?i:null;return a instanceof Promise?a.then(s):s(a)},setItem:(o,i)=>n.setItem(o,JSON.stringify(i,void 0)),removeItem:o=>n.removeItem(o)}}const nl=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return nl(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return nl(r)(n)}}}},vg=(e,t)=>(n,r,o)=>{let i={storage:jp(()=>localStorage),partialize:m=>m,version:0,merge:(m,w)=>({...w,...m}),...t},s=!1;const a=new Set,l=new Set;let c=i.storage;if(!c)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...m)},r,o);const u=()=>{const m=i.partialize({...r()});return c.setItem(i.name,{state:m,version:i.version})},d=o.setState;o.setState=(m,w)=>{d(m,w),u()};const h=e((...m)=>{n(...m),u()},r,o);o.getInitialState=()=>h;let g;const S=()=>{var m,w;if(!c)return;s=!1,a.forEach(f=>{var v;return f((v=r())!=null?v:h)});const p=((w=i.onRehydrateStorage)==null?void 0:w.call(i,(m=r())!=null?m:h))||void 0;return nl(c.getItem.bind(c))(i.name).then(f=>{if(f)if(typeof f.version=="number"&&f.version!==i.version){if(i.migrate){const v=i.migrate(f.state,f.version);return v instanceof Promise?v.then(C=>[!0,C]):[!0,v]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,f.state];return[!1,void 0]}).then(f=>{var v;const[C,x]=f;if(g=i.merge(x,(v=r())!=null?v:h),n(g,!0),C)return u()}).then(()=>{p==null||p(g,void 0),g=r(),s=!0,l.forEach(f=>f(g))}).catch(f=>{p==null||p(void 0,f)})};return o.persist={setOptions:m=>{i={...i,...m},m.storage&&(c=m.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>S(),hasHydrated:()=>s,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(l.add(m),()=>{l.delete(m)})},i.skipHydration||S(),g||h},Tp=vg,xe=new Map,W={registerComponent:(e,t)=>{const n=xe.get(e)||{};xe.set(e,{...n,component:t})},registerInitialState:(e,t)=>{const n=xe.get(e)||{};xe.set(e,{...n,initialState:t})},registerDisplayName:(e,t)=>{const n=xe.get(e)||{};xe.set(e,{...n,displayName:t})},registerIcon:(e,t)=>{const n=xe.get(e)||{};xe.set(e,{...n,icon:t})},registerDefaultSize:(e,t)=>{const n=xe.get(e)||{};xe.set(e,{...n,defaultSize:t})},registerSupportedActions:(e,t)=>{const n=xe.get(e)||{};xe.set(e,{...n,supportedActions:t})},getComponent:e=>{var t;return(t=xe.get(e))==null?void 0:t.component},getInitialState:e=>{var t;return((t=xe.get(e))==null?void 0:t.initialState)||{}},getDisplayName:e=>{var t;return((t=xe.get(e))==null?void 0:t.displayName)||e},getIcon:e=>{var t;return(t=xe.get(e))==null?void 0:t.icon},getDefaultSize:e=>{var t;return(t=xe.get(e))==null?void 0:t.defaultSize},getSupportedActions:e=>{var t;return(t=xe.get(e))==null?void 0:t.supportedActions},getRegisteredTypes:()=>new Set(Array.from(xe.keys())),unregisterAreaType:e=>{xe.delete(e)}},ze=[];for(let e=0;e<256;++e)ze.push((e+256).toString(16).slice(1));function Sg(e,t=0){return(ze[e[t+0]]+ze[e[t+1]]+ze[e[t+2]]+ze[e[t+3]]+"-"+ze[e[t+4]]+ze[e[t+5]]+"-"+ze[e[t+6]]+ze[e[t+7]]+"-"+ze[e[t+8]]+ze[e[t+9]]+"-"+ze[e[t+10]]+ze[e[t+11]]+ze[e[t+12]]+ze[e[t+13]]+ze[e[t+14]]+ze[e[t+15]]).toLowerCase()}let qs;const wg=new Uint8Array(16);function xg(){if(!qs){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");qs=crypto.getRandomValues.bind(crypto)}return qs(wg)}const kg=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Uc={randomUUID:kg};function hi(e,t,n){var o;if(Uc.randomUUID&&!e)return Uc.randomUUID();e=e||{};const r=e.random??((o=e.rng)==null?void 0:o.call(e))??xg();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,Sg(r)}function Ig(e,t){const n=[];function r(o,i,s){if(i!==s){if(typeof i!=typeof s){n.push({path:o,oldValue:i,newValue:s});return}if(typeof i=="object"&&i!==null&&s!==null){const a=i,l=s,c=Object.keys(a),u=Object.keys(l);c.forEach(d=>{u.includes(d)||n.push({path:[...o,d],oldValue:a[d],newValue:void 0})}),u.forEach(d=>{c.includes(d)?r([...o,d],a[d],l[d]):n.push({path:[...o,d],oldValue:void 0,newValue:l[d]})})}else n.push({path:o,oldValue:i,newValue:s})}}return r([],e,t),n}function Vc(e,t){let n={...e};return t.changes.forEach(r=>{let o=n;for(let i=0;i<r.path.length-1;i++)o=o[r.path[i]];o[r.path[r.path.length-1]]=r.oldValue}),n}function Cg(e){return{...e,changes:e.changes.map(t=>({...t,oldValue:t.newValue,newValue:t.oldValue}))}}const Eg=du((e,t)=>({spaces:{},activeSpaceId:null,openSpaceIds:[],errors:[],pilotMode:"AUTO",addSpace:n=>{var i;if(!n.name){e(s=>{s.errors=["Space name cannot be empty."]}),console.error("Validation failed for space:",t().errors);return}const r=hi(),o={id:r,name:n.name,description:n.description??"",sharedState:{color:((i=n.sharedState)==null?void 0:i.color)??"#ff0000",pastDiffs:[],futureDiffs:[],...n.sharedState||{}}};return e(s=>{s.spaces[r]=o,s.openSpaceIds.push(r),s.errors=[]}),r},removeSpace:n=>{e(r=>{delete r.spaces[n],r.activeSpaceId===n&&(r.activeSpaceId=null),r.openSpaceIds=r.openSpaceIds.filter(o=>o!==n),r.errors=[]})},setActiveSpace:n=>{e(r=>{n===null||r.spaces[n]?r.activeSpaceId=n:console.warn(`Attempted to set active space to non-existent ID: ${n}`),r.errors=[]})},setPilotMode:n=>{e(r=>{r.pilotMode=n})},openSpace:n=>{e(r=>{r.spaces[n]&&!r.openSpaceIds.includes(n)&&r.openSpaceIds.push(n)})},closeSpace:n=>{e(r=>{r.openSpaceIds=r.openSpaceIds.filter(o=>o!==n),r.activeSpaceId===n&&(r.activeSpaceId=r.openSpaceIds[r.openSpaceIds.length-1]||null)})},updateSpace:n=>{e(r=>{const o=r.spaces[n.id];if(o){if(n.name===""){r.errors=["Space name cannot be empty."],console.error("Validation failed for space update:",r.errors);return}const{id:i,...s}=n;r.spaces[i]={...o,...s},r.errors=[]}else r.errors=[`Space with ID ${n.id} not found for update.`],console.error("Update failed:",r.errors)})},updateSpaceGenericSharedState:n=>{var d;const{spaceId:r,changes:o}=n,i=t().spaces[r];if(!i){e(h=>{h.errors=[`Space with ID ${n.spaceId} not found for shared state update.`]}),console.error("Shared state update failed: Space not found");return}const s=i.sharedState,a=o.actionType||"UPDATE_SHARED_STATE",l=o.payload||{};e(h=>{const g=h.spaces[r];if(g){const{actionType:S,payload:m,...w}=o;g.sharedState={...g.sharedState,...w},h.errors=[]}});const c=(d=t().spaces[r])==null?void 0:d.sharedState;if(!c){console.error("Shared state update failed: Space disappeared after update?");return}const u=Ig(s,c);Array.isArray(u)&&u.length>0&&e(h=>{const g=h.spaces[r];g&&(g.sharedState.pastDiffs||(g.sharedState.pastDiffs=[]),g.sharedState.pastDiffs.push({timestamp:Date.now(),actionType:a,payload:l,changes:u}),g.sharedState.futureDiffs=[])})},clearErrors:()=>{e(n=>{n.errors=[]})},undoSharedState:n=>{e(r=>{var l,c;const o=r.spaces[n];if(!((c=(l=o==null?void 0:o.sharedState)==null?void 0:l.pastDiffs)!=null&&c.length))return;const i=o.sharedState.pastDiffs.pop(),s=o.sharedState,a=Vc(s,i);o.sharedState=a,o.sharedState.futureDiffs||(o.sharedState.futureDiffs=[]),o.sharedState.futureDiffs.push(i)})},redoSharedState:n=>{e(r=>{var c,u;const o=r.spaces[n];if(!((u=(c=o==null?void 0:o.sharedState)==null?void 0:c.futureDiffs)!=null&&u.length))return;const i=o.sharedState.futureDiffs.pop(),s=Cg(i),a=o.sharedState,l=Vc(a,s);o.sharedState=l,o.sharedState.pastDiffs||(o.sharedState.pastDiffs=[]),o.sharedState.pastDiffs.push(i)})},getSpaceById:n=>t().spaces[n],getAllSpaces:()=>t().spaces,getActiveSpace:()=>{const n=t();return n.activeSpaceId?n.spaces[n.activeSpaceId]:null},getActiveSpaceId:()=>t().activeSpaceId,getOpenSpaces:()=>{const n=t();return n.openSpaceIds.map(r=>n.spaces[r]).filter(r=>r!==void 0)},getSpaceErrors:()=>t().errors,getPilotMode:()=>t().pilotMode})),Ag=Tp(Eg,{name:"space-storage",partialize:e=>{const t={};for(const o in e.spaces){const{sharedState:i,...s}=e.spaces[o],{pastDiffs:a,futureDiffs:l,...c}=i??{};t[o]={...s,sharedState:c}}const{activeSpaceId:n}=e;return{spaces:t,activeSpaceId:n}},merge:(e,t)=>{const n=e,r={},o=(n==null?void 0:n.spaces)??{},i=t.spaces,s=new Set([...Object.keys(o),...Object.keys(i)]);for(const l of s){const c=o[l],u=i[l];if(!c&&!u)continue;const d=(u==null?void 0:u.sharedState)??{},h=(c==null?void 0:c.sharedState)??{};r[l]={id:(c==null?void 0:c.id)??(u==null?void 0:u.id)??l,name:(c==null?void 0:c.name)??(u==null?void 0:u.name)??`Space ${l}`,description:(c==null?void 0:c.description)??(u==null?void 0:u.description)??"",sharedState:{...d,...h,pastDiffs:[],futureDiffs:[]}},r[l].sharedState.color||(r[l].sharedState.color="#000000")}return{...t,activeSpaceId:(n==null?void 0:n.activeSpaceId)??t.activeSpaceId,spaces:r,errors:[]}}}),B=lu()(zp(Ag,{name:"SpaceStore"})),Np={_id:0,rootId:null,updateLayout:()=>{},errors:[],activeAreaId:null,joinPreview:null,layout:{},areas:{},viewports:{},areaToOpen:null,lastSplitResultData:null,lastLeadAreaId:null,addArea:()=>"",removeArea:()=>{},setActiveArea:()=>{},updateArea:()=>{},setAreaToOpen:()=>{},updateAreaToOpenPosition:()=>{},finalizeAreaPlacement:()=>{},cleanupTemporaryStates:()=>{},setViewports:()=>{},setRowSizes:()=>{},splitArea:()=>null,setJoinPreview:()=>{},joinOrMoveArea:()=>{},getLastSplitResult:()=>null,getActiveArea:()=>null,getAreaById:()=>{},getAllAreas:()=>({}),getAreaErrors:()=>[],getLastLeadAreaId:()=>null},or=()=>JSON.parse(JSON.stringify({areas:Np}));function rl(e,t,n){for(const r in e){const o=e[r];if(o.type==="area_row"){const i=o,s=i.areas.findIndex(l=>l.id===t),a=i.areas.findIndex(l=>l.id===n);if(s!==-1&&a!==-1&&Math.abs(s-a)===1)return{parentRow:i,sourceIndex:s,targetIndex:a}}}return{parentRow:null,sourceIndex:-1,targetIndex:-1}}function _g(e,t){var i;const n=new Set,r=[t],o=new Set;for(;r.length>0;){const s=r.shift();if(o.has(s))continue;o.add(s);const a=e[s];if(a){if(a.type==="area")n.add(s);else if(a.type==="area_row"){const l=a;l.areas&&Array.isArray(l.areas)&&l.areas.forEach(c=>{c&&c.id&&r.push(c.id)})}}}return((i=e[t])==null?void 0:i.type)==="area"&&n.add(t),n}function Wr(e,t){var l;if(!t)return;const n=e.layout[t];if(!n||n.type!=="area_row")return;const r=n;if(r.areas.length!==1)return;const o=r.areas[0],i=o.id,a=An(e.layout,e.rootId)[t];if(a&&((l=e.layout[a])==null?void 0:l.type)==="area_row"){const c=e.layout[a],u=c.areas.findIndex(d=>d.id===t);if(u!==-1){const d=c.areas[u].size??o.size??.5;c.areas[u]={id:i,size:d}}else{console.error(`[simplifyLayoutNodeIfNeeded] Cleanup Error: Row ${t} not found in parent ${a}.`);return}}else e.rootId===t?e.rootId=i:console.warn(`[simplifyLayoutNodeIfNeeded] Row ${t} has single child ${i} but no parent and is not root. Removing row.`);delete e.layout[t]}function Pp(e,t){const n=e[t];return n?n.type==="area"?t:n.type==="area_row"&&n.areas.length>0?Pp(e,n.areas[0].id):null:null}const Mg=(e,t)=>({...Np,addArea:n=>{let r="";return e(o=>{var u;const i=(u=o.screens[o.activeScreenId])==null?void 0:u.areas;if(!i)return;const s=n.id||hi();let a;n.type&&(a=(W._roleMap||{})[n.type]);const l={...n,id:s,role:a};if(a===oe.LEAD&&!l.spaceId){const d=B.getState().spaces,h=Object.keys(d);if(h.length>0){const g=B.getState().activeSpaceId;l.spaceId=g||h[0]}else{const g=B.getState().addSpace({name:`Space for ${n.type}`,sharedState:{}});g&&(l.spaceId=g)}}const c=pg(l);c.isValid?(i.areas[s]=l,i._id+=1,i.errors=[],r=s,o.lastUpdated=Date.now()):(i.errors=c.errors,console.error("Validation failed for area:",c.errors))}),r},removeArea:n=>e(r=>{var s,a;const o=(s=r.screens[r.activeScreenId])==null?void 0:s.areas;if(!o)return;if(Object.keys(o.areas).length<=1){console.warn("Cannot remove the last area of a screen");return}delete o.areas[n],delete o.layout[n];for(const l in o.layout){const c=o.layout[l];if(c.type==="area_row"){const u=c,d=u.areas.findIndex(h=>h.id===n);if(d!==-1)if(u.areas.splice(d,1),u.orientation==="stack"){if(u.activeTabId===n&&(u.activeTabId=((a=u.areas[0])==null?void 0:a.id)||void 0),u.areas.length===0)delete o.layout[l];else if(u.areas.length===1){const h=Object.keys(o.layout).find(g=>{const S=o.layout[g];return S.type==="area_row"&&S.areas.some(m=>m.id===l)});if(h){const g=o.layout[h],S=g.areas.findIndex(m=>m.id===l);S!==-1&&(g.areas[S]={...u.areas[0]}),delete o.layout[l]}else o.rootId===l&&(o.rootId=u.areas[0].id,delete o.layout[l])}}else u.areas.length===0&&delete o.layout[l]}}o.rootId===n&&(o.rootId=null),o.activeAreaId===n&&(o.activeAreaId=null),o.errors=[],r.lastUpdated=Date.now()}),setActiveArea:n=>e(r=>{var i,s;const o=(i=r.screens[r.activeScreenId])==null?void 0:i.areas;o&&(n===null||o.areas[n])&&o.activeAreaId!==n&&(o.activeAreaId=n,n&&((s=o.areas[n])==null?void 0:s.role)===oe.LEAD&&(o.lastLeadAreaId=n),o.errors=[],r.lastUpdated=Date.now())}),updateArea:n=>e(r=>{var s;const o=(s=r.screens[r.activeScreenId])==null?void 0:s.areas;if(!o)return;const i=o.areas[n.id];if(i){const a=n.type||i.type;let l=i.role;(!l||n.type&&n.type!==i.type)&&(l=(W._roleMap||{})[a]);const c=JSON.stringify(i);Object.assign(i,n,{role:l});const u=JSON.stringify(i);c!==u&&(o.errors=[],r.lastUpdated=Date.now())}else o.errors=[`Area with ID ${n.id} not found for update.`]}),updateLayout:n=>e(r=>{var s;const o=(s=r.screens[r.activeScreenId])==null?void 0:s.areas;if(!o)return;const i=o.layout[n.id];if(i&&i.type==="area_row"){const a=JSON.stringify(i);n.activeTabId!==void 0&&(i.activeTabId=n.activeTabId),n.areas!==void 0&&(i.areas=n.areas);const l=JSON.stringify(i);a!==l&&(o.errors=[],r.lastUpdated=Date.now())}else o.errors=[`Layout with ID ${n.id} not found or not a row.`]}),setAreaToOpen:n=>e(r=>{var i;const o=(i=r.screens[r.activeScreenId])==null?void 0:i.areas;o&&o.areaToOpen!==n&&(o.areaToOpen=n,r.lastUpdated=Date.now())}),updateAreaToOpenPosition:n=>e(r=>{var i;const o=(i=r.screens[r.activeScreenId])==null?void 0:i.areas;o!=null&&o.areaToOpen&&(o.areaToOpen.position.x!==n.x||o.areaToOpen.position.y!==n.y)&&(o.areaToOpen.position=n)}),finalizeAreaPlacement:n=>e(r=>{var s,a,l,c,u,d,h,g,S;const o=(s=r.screens[r.activeScreenId])==null?void 0:s.areas;if(!o)return;const i=o.areaToOpen;if(!i){o.errors=["No area to open"];return}try{const{position:m,area:w}=i,p=(a=w.state)==null?void 0:a.sourceId,f=p||hi(),v=new ve(m.x,m.y);if(!p){if(o.areas[f]){console.error(`finalizeAreaPlacement: ID conflict for new area ${f}`),o.areaToOpen=null;return}o.areas[f]={id:f,type:w.type,state:w.state},o._id+=1}const C=Io(),x=Ir(o.layout,o.rootId||"",C);let y=n==null?void 0:n.targetId,I=n==null?void 0:n.placement;if(!y){const P=new ve(300,200);y=_p(v,o,x,P)}if(!y){p||delete o.areas[f],o.areaToOpen=null;return}const z=x[y];if(!z){console.error(`[areaStore] finalizeAreaPlacement: Viewport not found for target ${y}. Bailing out.`),p||delete o.areas[f],o.areaToOpen=null;return}I||(I=Mp(z,v)),o.areaToOpen=null;let A=null,M=null;if(p){const P=An(o.layout,o.rootId),_=P[p];if(A=_,_&&((l=o.layout[_])==null?void 0:l.type)==="area_row"){const j=o.layout[_],D=j.areas.findIndex(R=>R.id===p);if(D!==-1)if(j.areas.splice(D,1),j.areas.length===0){delete o.layout[_];const R=P[_];Wr(o,R)}else{const R=j.areas.reduce((F,T)=>F+(T.size||0),0);if(R>0){const F=1/R;j.areas.forEach(T=>{T.size=(T.size||0)*F})}j.areas.length===1&&(M=j.areas[0].id),Wr(o,_)}}else o.layout[p]&&delete o.layout[p];p!==f&&delete o.areas[p],o.rootId===p&&(o.rootId=null)}y&&y===A&&M&&!o.layout[y]&&(y=M);let L=I==="stack"?"horizontal":I==="top"||I==="bottom"?"vertical":"horizontal";if(I==="stack"){let P=y,_=o.areas[P],j=null;if(((c=o.layout[P])==null?void 0:c.type)==="area_row"&&o.layout[P].orientation==="stack")_=o.areas[P];else if(!_&&((u=o.layout[P])==null?void 0:u.type)==="area_row"){const U=Pp(o.layout,P);U&&(j=P,P=U,_=o.areas[P])}const D=o.areas[f];if(!D||!_){console.error("[finalizeAreaPlacement] Stack creation failed: Source or target area not found.");return}if(!(((d=t().options)==null?void 0:d.allowStackMixedRoles)!==!1)){const U=D.role||D.type&&((h=W._roleMap)==null?void 0:h[D.type]),H=_.role||_.type&&((g=W._roleMap)==null?void 0:g[_.type]);if(U&&H&&U!==H){o.errors=["Impossible de stacker des areas de rôles différents (option de configuration)"];return}}const F=`row-${o._id+1}`;o._id+=1;const T={type:"area_row",id:F,orientation:"stack",areas:[{id:P,size:.5},{id:f,size:.5}],activeTabId:P},b=An(o.layout,o.rootId)[P];if(b&&((S=o.layout[b])==null?void 0:S.type)==="area_row"){const U=o.layout[b],H=U.areas.findIndex(Z=>Z.id===P);if(H!==-1){const Z=U.areas[H].size;U.areas[H]={id:F,size:Z}}}else o.rootId===P&&(o.rootId=F);o.layout[F]=T,o.activeAreaId=P}else{const _=An(o.layout,o.rootId)[y],j=_?o.layout[_]:null,D=hi();if(o.layout[f]||(o.layout[f]={type:"area",id:f}),j&&j.type==="area_row"){const R=j.areas.findIndex(F=>F.id===y);if(R===-1){console.error(`[finalizeAreaPlacement] Target ${y} not found in parent ${_}`);return}if(j.orientation===L){const F=R+(I==="bottom"||I==="right"?1:0);let T=[];F===0?T=[j.areas[0]]:F===j.areas.length?T=[j.areas[j.areas.length-1]]:T=[j.areas[F-1],j.areas[F]];const b=T.reduce((U,H)=>U+(H.size||0),0)/(T.length+1);T.forEach(U=>U.size=b),j.areas.splice(F,0,{id:f,size:b})}else{o._id+=1;const F={type:"area_row",id:D,orientation:L,areas:I==="bottom"||I==="right"?[{id:y,size:.5},{id:f,size:.5}]:[{id:f,size:.5},{id:y,size:.5}]};o.layout[D]=F,j.areas[R]={id:D,size:j.areas[R].size}}}else{o._id+=1;const R={type:"area_row",id:D,orientation:L,areas:I==="bottom"||I==="right"?[{id:y,size:.5},{id:f,size:.5}]:[{id:f,size:.5},{id:y,size:.5}]};o.layout[D]=R,o.rootId=D,o.layout[y]||(o.layout[y]={type:"area",id:y})}}if(o.areas[f]&&(r.screens[r.activeScreenId].areas.activeAreaId=f,o.areas[f].role===oe.LEAD&&(r.screens[r.activeScreenId].areas.lastLeadAreaId=f)),o.rootId&&C&&C.width>0&&C.height>0){const P=Ir(o.layout,o.rootId,C);o.viewports=P}else o.viewports={};r.lastUpdated=Date.now()}catch(m){o&&(o.areaToOpen=null),o.errors=[`Error finalizing area placement: ${m}`]}}),cleanupTemporaryStates:()=>e(n=>{var o;const r=(o=n.screens[n.activeScreenId])==null?void 0:o.areas;r&&(r.joinPreview||r.areaToOpen||r.lastSplitResultData)&&(r.joinPreview=null,r.areaToOpen=null,r.lastSplitResultData=null,n.lastUpdated=Date.now())}),setViewports:n=>e(r=>{var i;const o=(i=r.screens[r.activeScreenId])==null?void 0:i.areas;o&&(o.viewports=n)}),setRowSizes:n=>e(r=>{var s;const o=(s=r.screens[r.activeScreenId])==null?void 0:s.areas;if(!o)return;const i=o.layout[n.rowId];if(i&&i.type==="area_row"){const a=i;if(a.areas.length===n.sizes.length){let l=n.sizes.reduce((c,u)=>c+u,0);if(Math.abs(l-1)>.001&&l>0){const c=1/l;a.areas.forEach((u,d)=>{u&&(u.size=n.sizes[d]*c)})}else a.areas.forEach((c,u)=>{c&&(c.size=n.sizes[u])});r.lastUpdated=Date.now()}}}),splitArea:n=>{let r=null;return e(o=>{var v,C;const i=(v=o.screens[o.activeScreenId])==null?void 0:v.areas;if(!i)return;const{areaIdToSplit:s,parentRowId:a,horizontal:l}=n,c=i.layout[s];if(c.type==="area_row"&&c.orientation==="stack"){const x=c.areas,y=[];for(const L of x){const P=i.areas[L.id];if(!P)continue;const _=`area-${i._id+1}`;i._id+=1,i.areas[_]={id:_,type:P.type,state:{...P.state}},i.layout[_]={type:"area",id:_},y.push({id:_,size:L.size})}const I=`row-${i._id+1}`;i._id+=1;const z={id:I,type:"area_row",orientation:"stack",areas:y,activeTabId:(C=y[0])==null?void 0:C.id};i.layout[I]=z;const A=`row-${i._id+1}`;i._id+=1;const M={id:A,type:"area_row",orientation:l?"horizontal":"vertical",areas:[{id:s,size:.5},{id:I,size:.5}]};if(i.layout[A]=M,a){const L=i.layout[a];if((L==null?void 0:L.type)==="area_row"){const P=L.areas.findIndex(_=>_.id===s);if(P!==-1){const _=L.areas[P].size??.5;L.areas[P]={id:A,size:_}}}}else i.rootId=A;r={newRowId:A,separatorIndex:1};return}i._id+=1;const u=i._id,d=`area-${u}`,h=`row-${u+1}`;if(i.areas[d]||i.layout[d]){console.error(`splitArea: ID conflict for new area ${d}`);return}const g=i.areas[s];if(i.areas[d]={id:d,type:(g==null?void 0:g.type)||c.type,state:{...g==null?void 0:g.state},spaceId:g==null?void 0:g.spaceId},i.layout[d]={type:"area",id:d},i.layout[h]){console.error(`splitArea: ID conflict for new row ${h}`);return}const S={id:h,type:"area_row",orientation:l?"horizontal":"vertical",areas:[{id:s,size:.5},{id:d,size:.5}]};i.layout[h]=S;let m=.5;if(a){const x=i.layout[a];if((x==null?void 0:x.type)==="area_row"){const y=x.areas.findIndex(I=>I.id===s);if(y!==-1)if(m=x.areas[y].size??.5,x.orientation===S.orientation){const I=S.areas.map(z=>({id:z.id,size:(z.size??.5)*m}));x.areas.splice(y,1,...I),r={newRowId:a,separatorIndex:y+1}}else x.areas[y]={id:h,size:m},r={newRowId:h,separatorIndex:1};else console.error(`splitArea Error: Area ${s} not in parent ${a}.`)}else console.error(`splitArea Error: Parent ${a} not found or not row.`)}else i.rootId===s?(i.rootId=h,r={newRowId:h,separatorIndex:1}):console.error(`splitArea Error: Area ${s} has no parent and is not root.`);i._id=u+2,i.lastSplitResultData=r;function w(x){if(!x)return;let y=x;for(;y;){const I=i.layout[y];if(Wr(i,y),y=An(i.layout,i.rootId)[y],!(I&&!i.layout[I.id]))break}}function p(x,y=null){if(!x)return;const I=i.layout[x];if(!I||I.type!=="area_row")return;let z=!1;for(let A=0;A<I.areas.length;){const M=I.areas[A].id,L=i.layout[M];if(L&&L.type==="area_row"&&L.orientation===I.orientation){const P=L,_=I.areas[A].size??1/I.areas.length,j=P.areas.reduce((R,F)=>R+(F.size??0),0)||1,D=P.areas.map(R=>({id:R.id,size:(R.size??1/P.areas.length)*_/j}));I.areas.splice(A,1,...D.filter(R=>!I.areas.some(F=>F.id===R.id))),delete i.layout[M],z=!0}else A++}for(const A of I.areas)p(A.id,x);z&&p(x,y)}function f(){const x=new Set;function y(I){if(!I||x.has(I))return;x.add(I);const z=i.layout[I];if(z&&z.type==="area_row")for(const A of z.areas)y(A.id)}y(i.rootId);for(const I in i.layout){const z=i.layout[I];z&&z.type==="area_row"&&!x.has(I)&&delete i.layout[I]}}w(a),p(i.rootId),f(),o.lastUpdated=Date.now()}),r},setJoinPreview:n=>e(r=>{var i;const o=(i=r.screens[r.activeScreenId])==null?void 0:i.areas;o&&o.joinPreview!==n&&(o.joinPreview=n,r.lastUpdated=Date.now())}),joinOrMoveArea:n=>e(r=>{var p,f,v;const o=(p=r.screens[r.activeScreenId])==null?void 0:p.areas;if(!o)return;const{sourceAreaId:i,targetAreaId:s,direction:a}=n,{parentRow:l,sourceIndex:c,targetIndex:u}=rl(o.layout,i,s);if(!l||l.type!=="area_row"){o.errors=[`Could not find adjacent areas ${i}/${s} in the same row.`],o.joinPreview=null;return}const d=l.id,g=An(o.layout,o.rootId)[d],S=JSON.parse(JSON.stringify(l)),m=u>c?1:-1,w=c;try{const C=fg(S,w,m),{area:x,removedAreaId:y}=C,I=_g(o.layout,y);if(I.add(y),I.forEach(z=>{delete o.areas[z],delete o.layout[z]}),x.id===d&&x.type==="area_row"){const z=x;if(o.layout[d]=z,z.areas){const A=z.areas.reduce((M,L)=>M+(L.size||0),0);if(A>0){const M=1/A;z.areas.forEach(L=>{L.size=(L.size||0)*M})}}((f=z.areas)==null?void 0:f.length)===1&&Wr(o,d)}else if(delete o.layout[d],o.layout[x.id]||x.type!=="area_row"&&(o.layout[x.id]={type:"area",id:x.id}),g&&((v=o.layout[g])==null?void 0:v.type)==="area_row"){const z=o.layout[g],A=z.areas.findIndex(M=>M.id===d);if(A!==-1){const M=z.areas[A].size??.5;z.areas[A]={id:x.id,size:M}}else console.error(`[joinOrMoveArea] Cleanup Error: Row ${d} not found in grandparent ${g}.`)}else o.rootId===d&&(o.rootId=x.id);o.activeAreaId&&I.has(o.activeAreaId)&&(x.type==="area"?o.activeAreaId=x.id:o.activeAreaId=null),o.errors=[],o.joinPreview=null}catch(C){console.error("Error during joinOrMoveArea:",C),o.errors=[C instanceof Error?C.message:String(C)],o.joinPreview=null}r.lastUpdated=Date.now()}),getLastSplitResult:()=>{var r;const n=(r=t().screens[t().activeScreenId])==null?void 0:r.areas;return n?n.lastSplitResultData:null},getActiveArea:()=>{var o;const n=t(),r=(o=n.screens[n.activeScreenId])==null?void 0:o.areas;return r&&r.activeAreaId?r.areas[r.activeAreaId]:null},getAreaById:n=>{var i;const r=t(),o=(i=r.screens[r.activeScreenId])==null?void 0:i.areas;return o?o.areas[n]:void 0},getAllAreas:()=>{var o;const n=t(),r=(o=n.screens[n.activeScreenId])==null?void 0:o.areas;return r?r.areas:{}},getAreaErrors:()=>{var o;const n=t(),r=(o=n.screens[n.activeScreenId])==null?void 0:o.areas;return r?r.errors:[]},getLastLeadAreaId:()=>{var o;const n=t(),r=(o=n.screens[n.activeScreenId])==null?void 0:o.areas;return(r==null?void 0:r.lastLeadAreaId)||null},findParentRowAndIndices:rl}),zg=(e,t)=>{const n=Mg(e,t);return{screens:{1:or()},activeScreenId:"1",nextScreenId:2,options:{allowStackMixedRoles:!0},lastUpdated:Date.now(),layout_preset:[],addScreen:()=>e(r=>{const o=r.nextScreenId.toString();r.screens[o]=or();const i=`area-default-${o}-0`,s=r.screens[o].areas;s.areas[i]={id:i,type:"text-note",state:{content:"New Screen"}},s.layout={[i]:{type:"area",id:i}},s.rootId=i,s._id=1,s.activeAreaId=i,r.nextScreenId+=1,r.activeScreenId=o,r.lastUpdated=Date.now()}),switchScreen:r=>e(o=>{o.screens[r]&&o.activeScreenId!==r?(o.activeScreenId=r,o.lastUpdated=Date.now()):o.screens[r]||console.warn(`Attempted to switch to non-existent screen ID: ${r}`)}),removeScreen:r=>e(o=>{var a;if(Object.keys(o.screens).filter(l=>{var c;return!((c=o.screens[l])!=null&&c.isDetached)}).length<=1&&!((a=o.screens[r])!=null&&a.isDetached)){console.warn("Cannot remove the last classic screen");return}if(!o.screens[r]){console.warn(`Attempted to remove non-existent screen ID: ${r}`);return}if(delete o.screens[r],o.nextScreenId=Object.keys(o.screens).filter(l=>!l.startsWith("detached-")).reduce((l,c)=>Math.max(l,parseInt(c)),0)+1,o.activeScreenId===r){const l=Object.keys(o.screens).filter(c=>{var u;return!((u=o.screens[c])!=null&&u.isDetached)}).sort((c,u)=>parseInt(c)-parseInt(u));o.activeScreenId=l[0]||Object.keys(o.screens)[0]||"1"}const s=new URL(window.location.href);s.searchParams.get("screen")===r&&(s.searchParams.set("screen",o.activeScreenId),window.history.replaceState({},"",s.toString())),o.lastUpdated=Date.now()}),duplicateScreen:r=>e(o=>{if(!o.screens[r]){console.warn(`Attempted to duplicate non-existent screen ID: ${r}`);return}const i=o.nextScreenId.toString(),s=o.screens[r];o.screens[i]=JSON.parse(JSON.stringify(s)),o.nextScreenId+=1,o.activeScreenId=i,o.lastUpdated=Date.now()}),detachArea:r=>e(o=>{const i=o.getAreaById(r);if(!i){console.warn(`Area ${r} not found`);return}const s=`detached-${o.nextScreenId}`;o.nextScreenId+=1,o.screens[s]={...or(),areas:{...or().areas},isDetached:!0,detachedFromAreaId:r};const a=o.screens[s].areas;a.areas[r]={...i},a.layout={[r]:{type:"area",id:r}},a.rootId=r,a.activeAreaId=r;const l=o.screens[o.activeScreenId];if(l){delete l.areas.areas[r];for(const u in l.areas.layout){const d=l.areas.layout[u];d.type==="area_row"&&(d.areas=d.areas.filter(h=>h.id!==r))}delete l.areas.layout[r],l.areas.rootId===r&&(l.areas.rootId=null);for(const u in l.areas.layout){const d=l.areas.layout[u];d.type==="area_row"&&d.areas.length===1&&Wr(l.areas,u)}}const c=["width=800","height=600","menubar=no","toolbar=no","location=no","status=no","scrollbars=yes","resizable=yes"].join(",");window.open(`?screen=${s}`,s,c),o.lastUpdated=Date.now()}),addArea:n.addArea,removeArea:n.removeArea,setActiveArea:n.setActiveArea,updateArea:n.updateArea,updateLayout:n.updateLayout,setAreaToOpen:n.setAreaToOpen,updateAreaToOpenPosition:n.updateAreaToOpenPosition,finalizeAreaPlacement:n.finalizeAreaPlacement,cleanupTemporaryStates:n.cleanupTemporaryStates,setViewports:n.setViewports,setRowSizes:n.setRowSizes,splitArea:n.splitArea,setJoinPreview:n.setJoinPreview,joinOrMoveArea:n.joinOrMoveArea,getLastSplitResult:n.getLastSplitResult,getActiveArea:n.getActiveArea,getAreaById:n.getAreaById,getAllAreas:n.getAllAreas,getAreaErrors:n.getAreaErrors,findParentRowAndIndices:rl}},jg=Math.random().toString(36).slice(2),N=lu()(du(Tp(zp(zg,{name:"KarmycRootStore"}),{name:"karmycRootState",partialize:e=>({screens:e.screens,activeScreenId:e.activeScreenId,nextScreenId:e.nextScreenId,lastUpdated:e.lastUpdated,options:e.options,layout_preset:e.layout_preset}),storage:jp(()=>localStorage),skipHydration:!1,onRehydrateStorage:()=>e=>{e||(console.warn("[KarmycStore] État invalide après hydratation, réinitialisation..."),N.setState({screens:{1:or()},activeScreenId:"1",nextScreenId:2,lastUpdated:Date.now(),options:{allowStackMixedRoles:!0}}))}}))),Tg=(e={})=>{const t=N.getState(),n={...t.options,...e};!t.screens||Object.keys(t.screens).length===0?N.setState({screens:{1:or()},activeScreenId:"1",nextScreenId:2,lastUpdated:Date.now(),options:n}):N.setState({options:n})};if(typeof window<"u"){let e=null;const t=50;window.addEventListener("storage",n=>{var r,o,i;if(n.key==="karmycRootState"){const s=localStorage.getItem("karmycRootState");if(!s)return;const a=JSON.parse(s);if(((r=a==null?void 0:a.state)==null?void 0:r.windowId)===jg)return;const l=N.getState(),c=((o=a==null?void 0:a.state)==null?void 0:o.screens)||{},u=((i=a==null?void 0:a.state)==null?void 0:i.lastUpdated)||0,d=l.lastUpdated||0,h=Object.keys(c).some(g=>{const S=c[g],m=l.screens[g];return!m||JSON.stringify(S)!==JSON.stringify(m)});e&&clearTimeout(e),e=setTimeout(()=>{h&&u>d&&N.setState(g=>({...g,screens:c,lastUpdated:u})),e=null},t)}})}function Ng(e={}){const t=E.useMemo(()=>({plugins:e.plugins??[],validators:e.validators??[],initialAreas:e.initialAreas??[],keyboardShortcutsEnabled:e.keyboardShortcutsEnabled??!0,builtInLayouts:e.builtInLayouts??[],initialLayout:e.initialLayout??"default",options:{resizableAreas:e.resizableAreas??!0,manageableAreas:e.manageableAreas??!0,multiScreen:e.multiScreen??!0,builtInLayouts:e.builtInLayouts??[]}}),[e.plugins,e.validators,e.initialAreas,e.keyboardShortcutsEnabled,e.builtInLayouts,e.initialLayout,e.resizableAreas,e.manageableAreas,e.multiScreen]);return E.useEffect(()=>{const n={areas:{types:[],layout:{}},actions:{plugins:t.plugins,validators:t.validators},contextMenu:{actions:[]}};return Wy.initialize(n),N.setState(r=>({...r,options:t.options})),()=>{}},[t]),t}const pt=()=>{const{options:e}=E.useContext(Rp);return{t:(n,r)=>e!=null&&e.t?e.t(n,r):r}},Pg=["area/addArea","area/removeArea","area/updateArea","area/moveArea","area/resizeArea","composition/update","composition/addElement","composition/removeElement","composition/updateElement","project/update","draw/addLine","draw/updateLine","draw/removeLine","draw/updateStrokeWidth","draw/updateColor","draw/updateZoom","draw/updatePan","draw/clearCanvas"],Rg={id:"history",priority:Sp.HIGH,actionTypes:Pg,handler:e=>{const{type:t,payload:n}=e;ol(t,n)}};function ol(e,t){const{t:n}=pt();switch(e){case"area/addArea":return n("action.area.add",`Ajout d'une zone ${t.type||""}`);case"area/removeArea":return n("action.area.remove","Suppression d'une zone");case"area/updateArea":return n("action.area.update","Mise à jour d'une zone");case"area/moveArea":return n("action.area.move","Déplacement d'une zone");case"area/resizeArea":return n("action.area.resize","Redimensionnement d'une zone");case"composition/addElement":return n("action.composition.add",`Ajout d'un élément ${t.elementType||""}`);case"composition/removeElement":return n("action.composition.remove","Suppression d'un élément");case"composition/updateElement":return n("action.composition.update","Mise à jour d'un élément");case"draw/addLine":return n("action.draw.addLine","Ajout d'une ligne");case"draw/updateLine":return n("action.draw.updateLine","Modification d'une ligne");case"draw/removeLine":return n("action.draw.removeLine","Suppression d'une ligne");case"draw/updateStrokeWidth":return n("action.draw.updateStrokeWidth",`Modification de l'épaisseur du trait : ${t.oldValue} → ${t.newValue}`);case"draw/updateColor":return n("action.draw.updateColor",`Modification de la couleur : ${t.oldValue} → ${t.newValue}`);case"draw/clearCanvas":return n("action.draw.clearCanvas","Effacement du dessin");default:return n("action.unknown",`Action ${e}`)}}function Dg(){const{addArea:e,removeArea:t,setActiveArea:n,updateArea:r,getActiveArea:o,getAreaById:i,getAllAreas:s,getAreaErrors:a}=N(),l=E.useCallback((w,p,f)=>{const v={id:"",type:w,state:p,position:f};if((W._roleMap||{})[w]===oe.LEAD){const x=B.getState().spaces,y=Object.keys(x);if(y.length>0){const I=B.getState().activeSpaceId;v.spaceId=I||y[0]}else{const I=B.getState().addSpace({name:`Space for ${w}`,sharedState:{}});I&&(v.spaceId=I)}}return e(v)},[e]),c=E.useCallback(w=>{t(w)},[t]),u=E.useCallback(w=>{n(w)},[n]),d=E.useCallback((w,p)=>{r({id:w,...p})},[r]),h=E.useCallback(()=>o(),[o]),g=E.useCallback(w=>i(w),[i]),S=E.useCallback(()=>s(),[s]),m=E.useCallback(()=>a(),[a]);return{createArea:l,removeArea:c,setActive:u,update:d,getActive:h,getById:g,getAll:S,getErrors:m}}const Lg=({options:e={},children:t})=>{const n=E.useRef(!1),{createArea:r}=Dg();return E.useEffect(()=>{var h;if(n.current)return;n.current=!0;const o=[Rg],i=e.plugins||[],s=[...o,...i],a=[];s.forEach(g=>{Q.registerPlugin(g),a.push(g.id)}),e.validators&&e.validators.forEach(({actionType:g,validator:S})=>{Q.registerValidator(g,S)});const l=N.getState(),c=l.activeScreenId,u=(h=l.screens[c])==null?void 0:h.areas;if(!((u==null?void 0:u.rootId)||Object.keys((u==null?void 0:u.areas)||{}).length>0)){const g=e.initialAreas||[],S=[];if(g.forEach((m,w)=>{let p;try{p=r(m.type,m.state)}catch(f){console.error(`[KarmycInitializer] Error calling createArea for area ${w+1}:`,f),p=void 0}p?S.push(p):console.warn(`[KarmycInitializer] Failed to create area or received empty/undefined ID for area ${w+1}.`)}),S.length>0){const m={id:"root",type:"area_row",orientation:"horizontal",areas:S.map(w=>({id:w,size:1/S.length}))};N.setState(w=>{var f;if(!((f=w.screens[w.activeScreenId])!=null&&f.areas))return console.error(`[KarmycInitializer] Active screen areas ${w.activeScreenId} not found during layout update.`),w;const p={...w.screens[w.activeScreenId].areas.layout||{},root:m,...S.reduce((v,C)=>(v[C]||(v[C]={type:"area",id:C}),v),{})};return w.screens[w.activeScreenId].areas.rootId="root",w.screens[w.activeScreenId].areas.layout=p,w},!1,"KarmycInitializer/setDefaultLayout")}else console.warn("[KarmycInitializer] No areas were successfully created (newAreaIds is empty). Skipping layout creation.")}return()=>{a.forEach(g=>{Q.unregisterPlugin(g)})}},[]),k.jsx(k.Fragment,{children:t})},br=new Map,ea=new Map;let Og=1;const Cr={registerShortcuts:(e,t)=>{br.set(e,t)},getShortcuts:e=>br.get(e)||[],clearShortcuts:e=>{br.delete(e)},unregisterShortcuts:e=>{br.delete(e)},register:e=>{const t=`kbd-${Og++}`;return ea.set(t,e),t},remove:e=>ea.delete(e),getAllShortcuts:()=>{const e=[];for(const t of br.values())e.push(...t);for(const t of ea.values())e.push(t);return e}};function $g(e,t){const n=Cr.getAllShortcuts();for(const o of n)if(o.key===e){const i=new Set(o.modifierKeys||[]);let s=!0;for(const a of i)if(!t.has(a)){s=!1;break}if(s){const a=new Set(o.optionalModifierKeys||[]);for(const l of t)if(!i.has(l)&&!a.has(l)){s=!1;break}}if(s)return!0}const r=[{key:"R",modifiers:["Control"]},{key:"S",modifiers:["Control"]},{key:"P",modifiers:["Control"]},{key:"F",modifiers:["Control"]},{key:"L",modifiers:["Control"]},{key:"U",modifiers:["Control"]},{key:"I",modifiers:["Control"]},{key:"J",modifiers:["Control"]},{key:"K",modifiers:["Control"]},{key:"N",modifiers:["Control"]},{key:"T",modifiers:["Control"]},{key:"W",modifiers:["Control"]}];for(const o of r)if(e===o.key){const i=new Set(o.modifiers);let s=!0;for(const a of i)if(!t.has(a)){s=!1;break}if(s&&t.size===i.size)return!0}return!1}const Rp=E.createContext({options:{}}),Fg=({children:e,options:t={}})=>{const n=E.useRef(!0),r=E.useRef(!1),o=E.useRef(null),i=E.useRef(0),s=E.useRef([]);E.useEffect(()=>{Tg(t)},[t]),E.useEffect(()=>{document.addEventListener("contextmenu",c=>c.preventDefault(),!1)},[]),E.useEffect(()=>{const u=new URLSearchParams(window.location.search).get("screen");if(u)if(N.getState().screens[u])N.setState({activeScreenId:u}),o.current=u;else{console.warn(`[KarmycProvider] Screen ID '${u}' from URL not found in store.`);const g=new URL(window.location.href);g.searchParams.delete("screen"),window.history.replaceState({},"",g.toString())}const d=setTimeout(()=>{n.current=!1},0);return()=>clearTimeout(d)},[]);const a=N(c=>c.activeScreenId),l=N(c=>c.screens);return E.useEffect(()=>{if(n.current||r.current)return;const c=N.getState(),u=Object.keys(c.screens).length;if(u!==i.current){const g=Object.keys(c.screens).sort((m,w)=>parseInt(m)-parseInt(w));if(s.current.length===0){s.current=g,i.current=u;return}const S=s.current.find(m=>!g.includes(m));if(S){const m=s.current.indexOf(S),w=s.current.indexOf(a);if(w>m){const p=w-1,f=g[p];f&&(N.setState({activeScreenId:f}),o.current=f)}}s.current=g,i.current=u;return}if(!c.screens[a]){console.warn(`[KarmycProvider] Invalid active screen ID '${a}', resetting to '1'`),N.setState({activeScreenId:"1"});return}if(o.current===a)return;const d=new URL(window.location.href),h=d.searchParams.get("screen");a!==h&&(r.current=!0,a?d.searchParams.set("screen",a):d.searchParams.delete("screen"),window.history.replaceState({},"",d.toString()),r.current=!1,o.current=a)},[a,l]),E.useEffect(()=>{const c=u=>{var p,f;if(u.key==="Control"||u.key==="Alt"||u.key==="Shift"||u.key==="Meta")return;const d=new Set;u.ctrlKey&&d.add("Control"),u.altKey&&d.add("Alt"),u.shiftKey&&d.add("Shift"),u.metaKey&&d.add("Command");const h=N.getState(),g=(p=h.screens[h.activeScreenId])==null?void 0:p.areas.activeAreaId,S=g?(f=h.getAreaById(g))==null?void 0:f.type:null,m=Cr.getAllShortcuts().filter(v=>v.isGlobal);for(const v of m)if(v.key.toUpperCase()===u.key.toUpperCase()){const C=new Set(v.modifierKeys||[]);let x=!0;for(const y of C)if(!d.has(y)){x=!1;break}if(x){const y=new Set(v.optionalModifierKeys||[]);for(const I of d)if(!C.has(I)&&!y.has(I)){x=!1;break}}if(x){u.preventDefault(),u.stopPropagation();try{v.fn(g||"",{})}catch(y){console.error(`Error executing global shortcut ${v.name}:`,y)}return}}if(!g||!S)return;const w=Cr.getShortcuts(S);for(const v of w)if(!v.isGlobal&&v.key.toUpperCase()===u.key.toUpperCase()){const C=new Set(v.modifierKeys||[]);let x=!0;for(const y of C)if(!d.has(y)){x=!1;break}if(x){const y=new Set(v.optionalModifierKeys||[]);for(const I of d)if(!C.has(I)&&!y.has(I)){x=!1;break}}if(x){u.preventDefault(),u.stopPropagation();try{v.fn(g,{})}catch(y){console.error(`Error executing area shortcut ${v.name}:`,y)}return}}$g(u.key,d)&&(u.preventDefault(),u.stopPropagation())};return window.addEventListener("keydown",c,!0),()=>window.removeEventListener("keydown",c,!0)},[]),k.jsx(Rp.Provider,{value:{options:t},children:k.jsx(Lg,{options:t,children:e})})},Hc={isVisible:!1,position:{x:0,y:0},items:[],errors:[],targetId:void 0,metadata:void 0,menuClassName:"menu",customContextMenuContent:null,menuType:void 0},Ve=lu()(du(e=>({...Hc,openContextMenu:t=>e(n=>{const{position:r,items:o,targetId:i,metadata:s}=t,a=t.menuClassName,l=Js(r);if(!l.isValid){console.warn("Position validation failed:",l.errors),n.errors=l.errors;return}const u=o.map(d=>Fc(d)).filter(d=>!d.isValid);if(u.length>0){console.warn("Items validation failed:",u),n.errors=u.flatMap(d=>d.errors||["Unknown item validation error"]);return}n.isVisible=!0,n.position=r,n.items=o,n.targetId=i,n.metadata=s,n.menuClassName=a||n.menuClassName||"menu",n.errors=[],n.menuType="default"}),openCustomContextMenu:t=>e(n=>{const{position:r,targetId:o,metadata:i,component:s}=t,a=t.menuClassName;if(!r){console.warn("Aucune position fournie à openCustomContextMenu"),n.errors=["Aucune position fournie au menu contextuel"];return}const l=Js(r);if(!l.isValid){console.warn("Position validation failed:",l.errors),n.errors=l.errors;return}n.isVisible=!0,n.position=r,n.targetId=o,n.metadata=i,n.errors=[],n.menuClassName=a+" menu",n.customContextMenuContent=s,n.menuType="custom"}),closeContextMenu:()=>e(t=>{Object.assign(t,Hc),t.menuType=void 0}),updateContextMenuPosition:t=>e(n=>{const r=Js(t);if(!r.isValid){n.errors=r.errors;return}n.position=t,n.errors=[]}),updateContextMenuItems:t=>e(n=>{const o=t.map(i=>Fc(i)).filter(i=>!i.isValid);if(o.length>0){n.errors=o.flatMap(i=>i.errors||["Unknown item validation error"]);return}n.items=t,n.errors=[]}),clearErrors:()=>e(t=>{t.errors=[]})}))),ps=()=>{const e=Ve(s=>s.isVisible),t=Ve(s=>s.position),n=Ve(s=>s.openContextMenu),r=Ve(s=>s.closeContextMenu),o=E.useCallback(s=>{n(s)},[n]),i=E.useCallback(()=>{r()},[r]);return{isVisible:e,position:t,open:o,close:i}};function Te(e,t,n){E.useEffect(()=>(Q.registerActionHandler(e,t,n),()=>{Q.unregisterActionHandler(e)}),[e,t,n])}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bg=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ug=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),Bc=e=>{const t=Ug(e);return t.charAt(0).toUpperCase()+t.slice(1)},Dp=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Vg=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bg=E.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:o="",children:i,iconNode:s,...a},l)=>E.createElement("svg",{ref:l,...Hg,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:Dp("lucide",o),...!i&&!Vg(a)&&{"aria-hidden":"true"},...a},[...s.map(([c,u])=>E.createElement(c,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(e,t)=>{const n=E.forwardRef(({className:r,...o},i)=>E.createElement(Bg,{ref:i,iconNode:t,className:Dp(`lucide-${bg(Bc(e))}`,`lucide-${e}`,r),...o}));return n.displayName=Bc(e),n};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=[["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}],["path",{d:"M10 4v4",key:"pp8u80"}],["path",{d:"M2 8h20",key:"d11cs7"}],["path",{d:"M6 4v4",key:"1svtjw"}]],Kg=J("app-window",Wg);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]],Yg=J("arrow-big-down",Qg);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=[["path",{d:"m16 22-1-4",key:"1ow2iv"}],["path",{d:"M19 13.99a1 1 0 0 0 1-1V12a2 2 0 0 0-2-2h-3a1 1 0 0 1-1-1V4a2 2 0 0 0-4 0v5a1 1 0 0 1-1 1H6a2 2 0 0 0-2 2v.99a1 1 0 0 0 1 1",key:"iw8jdu"}],["path",{d:"M5 14h14l1.973 6.767A1 1 0 0 1 20 22H4a1 1 0 0 1-.973-1.233z",key:"1soew8"}],["path",{d:"m8 22 1-4",key:"s3unb"}]],Xg=J("brush-cleaning",Gg);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9",key:"1dfufj"}]],fu=J("circle-slash",Jg);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],qg=J("clock",Zg);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Lp=J("copy",ev);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Wc=J("ellipsis-vertical",tv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nv=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],Kc=J("ellipsis",nv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ov=J("external-link",rv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],Op=J("file-down",iv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 12v6",key:"3ahymv"}],["path",{d:"m15 15-3-3-3 3",key:"15xj92"}]],$p=J("file-up",sv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const av=[["path",{d:"m6 14 1.45-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.55 6a2 2 0 0 1-1.94 1.5H4a2 2 0 0 1-2-2V5c0-1.1.9-2 2-2h3.93a2 2 0 0 1 1.66.9l.82 1.2a2 2 0 0 0 1.66.9H18a2 2 0 0 1 2 2v2",key:"1nmvlm"}],["circle",{cx:"14",cy:"15",r:"1",key:"1gm4qj"}]],lv=J("folder-open-dot",av);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uv=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],Qc=J("folder-open",uv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],dv=J("history",cv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fv=[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]],pv=J("keyboard",fv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hv=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],mv=J("link",hv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]],gv=J("lock-open",yv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vv=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Sv=J("lock",vv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],xv=J("maximize-2",wv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],Iv=J("minimize-2",kv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cv=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Fp=J("palette",Cv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Av=J("panels-top-left",Ev);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _v=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pu=J("plus",_v);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=[["path",{d:"M20.34 17.52a10 10 0 1 0-2.82 2.82",key:"fydyku"}],["circle",{cx:"19",cy:"19",r:"2",key:"17f5cg"}],["path",{d:"m13.41 13.41 4.18 4.18",key:"1gqbwc"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zv=J("radius",Mv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=[["path",{d:"M21 7v6h-6",key:"3ptur4"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7",key:"1kgawr"}]],Tv=J("redo",jv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Pv=J("rotate-ccw",Nv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],Dv=J("rotate-cw",Rv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],bp=J("square-pen",Lv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],$v=J("trash-2",Ov);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],bv=J("trash",Fv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=[["path",{d:"M3 7v6h6",key:"1v2h90"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13",key:"1r6uu6"}]],Vv=J("undo",Uv);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Up=J("x",Hv),Bv=()=>{const{t:e}=pt(),t=N(u=>u.screens),n=N(u=>u.activeScreenId),r=N(u=>u.switchScreen),o=N(u=>u.addScreen),i=N(u=>u.removeScreen),s=N(u=>u.duplicateScreen),{open:a}=ps();Te("open-new-window",u=>{u!=null&&u.screenId&&window.open(`?screen=${u.screenId}`,"_blank","noopener,noreferrer")}),Te("open-new-tab",u=>{u!=null&&u.screenId&&window.open(`?screen=${u.screenId}`,"_blank")}),Te("delete-screen",u=>{u!=null&&u.screenId&&(Object.keys(t).length>1?i(u.screenId):console.warn("Impossible de supprimer le dernier écran"))}),Te("duplicate-screen",u=>{u!=null&&u.screenId&&s(u.screenId)}),Te("add-screen",()=>{o()});const l=Object.keys(t).filter(u=>{var d;return!((d=t[u])!=null&&d.isDetached)}).sort((u,d)=>parseInt(u)-parseInt(d)),c=(u,d)=>{u.preventDefault(),a({position:{x:u.clientX,y:u.clientY},menuClassName:"screen-switcher-menu",items:[{id:"add",label:e("screen.menu.add","Add"),icon:pu,actionId:"add-screen",metadata:{}},{id:"duplicate",label:e("screen.menu.duplicate","Duplicate"),icon:Lp,actionId:"duplicate-screen",metadata:{screenId:d}},{id:"open-new-window",label:e("screen.menu.openNewWindow","Open in new window"),icon:Kg,actionId:"open-new-window",metadata:{screenId:d}},{id:"open-new-tab",label:e("screen.menu.openNewTab","Open in new tab"),icon:ov,actionId:"open-new-tab",metadata:{screenId:d}},{id:"delete",label:e("screen.menu.delete","Delete"),icon:bv,actionId:"delete-screen",metadata:{screenId:d},disabled:Object.keys(t).length<=1}],targetId:d})};return k.jsx("div",{style:{display:"flex",alignItems:"center",gap:"5px",padding:"0 10px"},children:l.map((u,d)=>k.jsx("button",{onClick:()=>r(u),onContextMenu:h=>c(h,u),style:{padding:"2px 8px",border:"1px solid #555",borderRadius:"3px",background:n===u?"#444":"#2a2a2a",color:n===u?"#eee":"#aaa",cursor:"pointer",minWidth:"25px",textAlign:"center"},disabled:n===u,children:d+1},u))})},kn={},il=new Set;function Wv(){il.forEach(e=>e())}function qe(e,t){const n=`${e}:${t}`,r=E.useCallback((i,s,a={})=>{const{order:l=0,alignment:c="left",width:u,allowedLayerTypes:d,callback:h}=a;kn[n]?kn[n]=kn[n].filter(S=>!(S.identifier.name===s.name&&S.identifier.type===s.type)):kn[n]=[];const g=Math.random().toString(36).substr(2,9);return kn[n].push({component:i,order:l,alignment:c,width:u,identifier:s,allowedLayerTypes:d,callback:h}),kn[n].sort((S,m)=>S.order-m.order),Wv(),g},[n]),o=E.useCallback(()=>kn[n]||[],[n]);return{registerComponent:r,getComponents:o}}function Kv(){const[,e]=rt.useReducer(t=>t+1,0);E.useEffect(()=>(il.add(e),()=>{il.delete(e)}),[])}const sl=({areaId:e,areaType:t="app",areaState:n={},children:r,viewport:o={top:0,left:0,width:"100%",height:"100%"}})=>{pt();const i=e||t;Kv();const{getComponents:s}=qe(i,"top-outer"),{getComponents:a}=qe(i,"bottom-outer"),{getComponents:l}=qe(i,"top-inner"),{getComponents:c}=qe(i,"bottom-inner"),u=s(),d=a(),h=l(),g=c(),S=N(M=>M.activeScreenId),m=N(M=>{var L;return(L=M.screens[S])==null?void 0:L.isDetached})||!1,w=N(M=>M.options.multiScreen)||!1,p=N(M=>{var P;const L=(P=M.screens[M.activeScreenId])==null?void 0:P.areas;if(L)return e?Object.values(L.areas).find(_=>_.id===e):void 0}),f=p==null?void 0:p.spaceId,v=E.useCallback(()=>{f&&B.getState().setActiveSpace(f)},[f]),C=u.length>0,x=d.length>0,y=C?vt:0,I=x?vt:0,z=(p==null?void 0:p.enableFullscreen)??!1,A=(M,L)=>{const P=M.filter(D=>D.alignment==="left"),_=M.filter(D=>D.alignment==="center"),j=M.filter(D=>D.alignment==="right");return P.length===0&&_.length===0&&j.length===0?null:L.includes("inner")||!m&&L.includes("outer")?k.jsxs("div",{className:`tools-bar tools-bar-${L}`,style:{height:vt,minHeight:vt},onFocusCapture:v,tabIndex:0,children:[k.jsx("div",{className:"tools-bar-section tools-bar-section--left",style:{display:P.length>0?"flex":"none"},children:P.map((D,R)=>{const F=D.component;return k.jsx(F,{areaState:n,onFocusCapture:v},`${D.identifier.type}-${D.identifier.name}-${R}`)})}),k.jsx("div",{className:"tools-bar-section tools-bar-section--center",style:{display:_.length>0?"flex":"none"},children:_.map((D,R)=>{const F=D.component;return k.jsx(F,{areaState:n,onFocusCapture:v},`${D.identifier.type}-${D.identifier.name}-${R}`)})}),k.jsxs("div",{className:"tools-bar-section tools-bar-section--right",style:{display:j.length>0?"flex":"none"},children:[j.map((D,R)=>{const F=D.component;return k.jsx(F,{areaState:n,onFocusCapture:v},`${D.identifier.type}-${D.identifier.name}-${R}`)}),w&&t==="app"&&L==="bottom-outer"&&k.jsx(Bv,{})]})]}):null};return k.jsxs("div",{className:"tools-container",style:{top:o.top,left:o.left,height:m||z?"100%":`calc(${o.height})`},onFocusCapture:v,tabIndex:0,children:[A(u,"top-outer"),k.jsxs("div",{className:"tools-content",style:{height:m||z?`calc(100% - ${I}px)`:`calc(${o==null?void 0:o.height}${typeof(o==null?void 0:o.height)=="string"?"":"px"} - ${y}px - ${I}px)`},children:[A(h,"top-inner"),r,A(g,"bottom-inner")]}),A(d,"bottom-outer")]})},Yc=e=>Symbol.iterator in e,Gc=e=>"entries"in e,Xc=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[o,i]of n)if(!Object.is(i,r.get(o)))return!1;return!0},Qv=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let o=n.next(),i=r.next();for(;!o.done&&!i.done;){if(!Object.is(o.value,i.value))return!1;o=n.next(),i=r.next()}return!!o.done&&!!i.done};function ir(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:Yc(e)&&Yc(t)?Gc(e)&&Gc(t)?Xc(e,t):Qv(e,t):Xc({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function Yv(e){const t=rt.useRef(void 0);return n=>{const r=e(n);return ir(t.current,r)?t.current:t.current=r}}var Vp={exports:{}},Hp={},Bp={exports:{}},Wp={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Er=E;function Gv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Xv=typeof Object.is=="function"?Object.is:Gv,Jv=Er.useState,Zv=Er.useEffect,qv=Er.useLayoutEffect,e0=Er.useDebugValue;function t0(e,t){var n=t(),r=Jv({inst:{value:n,getSnapshot:t}}),o=r[0].inst,i=r[1];return qv(function(){o.value=n,o.getSnapshot=t,ta(o)&&i({inst:o})},[e,n,t]),Zv(function(){return ta(o)&&i({inst:o}),e(function(){ta(o)&&i({inst:o})})},[e]),e0(n),n}function ta(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Xv(e,n)}catch{return!0}}function n0(e,t){return t()}var r0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?n0:t0;Wp.useSyncExternalStore=Er.useSyncExternalStore!==void 0?Er.useSyncExternalStore:r0;Bp.exports=Wp;var o0=Bp.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hs=E,i0=o0;function s0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var a0=typeof Object.is=="function"?Object.is:s0,l0=i0.useSyncExternalStore,u0=hs.useRef,c0=hs.useEffect,d0=hs.useMemo,f0=hs.useDebugValue;Hp.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var i=u0(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=d0(function(){function l(g){if(!c){if(c=!0,u=g,g=r(g),o!==void 0&&s.hasValue){var S=s.value;if(o(S,g))return d=S}return d=g}if(S=d,a0(u,g))return S;var m=r(g);return o!==void 0&&o(S,m)?(u=g,S):(u=g,d=m)}var c=!1,u,d,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,o]);var a=l0(e,i[0],i[1]);return c0(function(){s.hasValue=!0,s.value=a},[a]),f0(a),a};Vp.exports=Hp;var p0=Vp.exports;const h0=od(p0),{useSyncExternalStoreWithSelector:m0}=h0,y0=e=>e;function Kr(e,t=y0,n){const r=m0(e.subscribe,e.getState,e.getInitialState,t,n);return rt.useDebugValue(r),r}function Un(){const e=Kr(B,y=>y.spaces,ir),t=Kr(B,y=>y.activeSpaceId,ir),n=Kr(B,y=>y.openSpaceIds,ir),r=Kr(B,y=>y.pilotMode,ir),o=B(y=>y.addSpace),i=B(y=>y.removeSpace),s=B(y=>y.setActiveSpace),a=B(y=>y.openSpace),l=B(y=>y.closeSpace),c=B(y=>y.updateSpace),u=B(y=>y.updateSpaceGenericSharedState),d=E.useMemo(()=>Object.entries(e).map(([y,I])=>({id:y,name:I.name})),[e]),h=E.useMemo(()=>n.map(y=>e[y]).filter(y=>y!==void 0),[e,n]),g=E.useCallback((y,I={})=>o({name:y,sharedState:I}),[o]),S=E.useCallback(y=>{i(y)},[i]),m=E.useCallback(y=>{s(y)},[s]),w=E.useCallback(y=>{a(y)},[a]),p=E.useCallback(y=>{l(y)},[l]),f=E.useCallback((y,I)=>{u({spaceId:y,changes:I})},[u]),v=E.useCallback((y,I)=>{c({id:y,...I})},[c]),C=E.useCallback(y=>B.getState().spaces[y],[]),x=E.useCallback(y=>{B.getState().setPilotMode(y)},[]);return{spaceList:d,activeSpaceId:t,openSpaces:h,openSpaceIds:n,pilotMode:r,createSpace:g,deleteSpace:S,setActive:m,setPilotMode:x,openSpace:w,closeSpace:p,updateSharedState:f,updateSpaceProperties:v,getSpaceById:C}}const g0=()=>{const{open:e}=ps(),[t,n]=E.useState(!1),{spaceList:r,activeSpaceId:o,openSpaces:i,createSpace:s,setActive:a,openSpace:l,closeSpace:c,updateSpaceProperties:u}=Un(),d=E.useCallback(()=>{const m=r.find(C=>C.id===o);if(!m)return;const w=JSON.stringify(m,null,2),p="data:application/json;charset=utf-8,"+encodeURIComponent(w),f=`${m.name}.json`,v=document.createElement("a");v.setAttribute("href",p),v.setAttribute("download",f),v.click()},[r,o]),h=E.useCallback(()=>{const m=document.createElement("input");m.type="file",m.accept=".json",m.onchange=w=>{var v;const p=(v=w.target.files)==null?void 0:v[0];if(!p)return;const f=new FileReader;f.onload=C=>{var x;try{const y=JSON.parse((x=C.target)==null?void 0:x.result),I=s(y.name,y.sharedState);I&&a(I)}catch(y){console.error("Error importing space:",y)}},f.readAsText(p)},m.click()},[s,a]),g=E.useCallback(()=>{const m=r.find(p=>p.id===o);if(!m||!o)return;const w=prompt("Nouveau nom du space:",m.name);w&&w!==m.name&&u(o,{name:w})},[r,o,u]);E.useEffect(()=>(Q.registerActionHandler("space.new",()=>{const m=s("Nouveau Space");m&&a(m)}),Q.registerActionHandler("space.import",h),Q.registerActionHandler("space.export",d),Q.registerActionHandler("space.rename",g),Q.registerActionHandler("space.close",m=>{const w=m.spaceId||o;w&&c(w)}),Q.registerActionHandler("space.open",m=>{m.spaceId&&(l(m.spaceId),a(m.spaceId))}),()=>{Q.unregisterActionHandler("space.new"),Q.unregisterActionHandler("space.import"),Q.unregisterActionHandler("space.export"),Q.unregisterActionHandler("space.rename"),Q.unregisterActionHandler("space.close"),Q.unregisterActionHandler("space.open")}),[s,h,d,g,c,l,a,o]);const S=E.useCallback(m=>{m.preventDefault();const w=r.slice(-10).reverse(),p=!!o,f=[{id:"new",label:"Nouveau Space",actionId:"space.new",icon:pu},{id:"import",label:"Importer Space",actionId:"space.import",icon:$p},{id:"export",label:"Exporter Space",actionId:"space.export",icon:Op,disabled:!p},{id:"rename",label:"Renommer Space",actionId:"space.rename",icon:bp,disabled:!p},{id:"close",label:"Fermer Space Actif",actionId:"space.close",icon:Up,disabled:!p}];i.length>0&&f.push({id:"separator1",label:"---",actionId:"area.separator"},{id:"open",label:"Espaces Ouverts",actionId:"space.open",icon:Qc,children:i.map(v=>({id:`open-${v.id}`,label:v.name,actionId:"space.open",metadata:{spaceId:v.id}}))}),w.length>0&&f.push({id:"separator2",label:"---",actionId:"area.separator"},{id:"recent",label:"Spaces Récents",actionId:"space.recent",icon:dv,children:w.map(v=>({id:`recent-${v.id}`,label:v.name,actionId:"space.open",metadata:{spaceId:v.id}}))}),e({position:{x:m.clientX,y:m.clientY},items:f,menuClassName:"space-context-menu"})},[e,r,o,i]);return k.jsxs(k.Fragment,{children:[k.jsx("style",{children:`
                    .space-context-menu {
                        z-index: 9999 !important;
                    }
                `}),k.jsx("div",{onContextMenu:S,onClick:S,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{cursor:"pointer",padding:"8px",color:"white",display:"flex",alignItems:"center",gap:"8px",userSelect:"none",backgroundColor:t?"rgba(255, 255, 255, 0.1)":"transparent",transition:"background-color 0.2s ease"},children:k.jsx(Qc,{size:26})})]})},Kp=e=>!!e&&e[0]==="o",al=wr.unstable_batchedUpdates,Eo=(e,t)=>e===!0||!!(e&&e[t]),wt=(e,t)=>typeof e=="function"?e(t):e,ms=(e,t)=>(t&&Object.keys(t).forEach(n=>{const r=e[n],o=t[n];typeof o=="function"&&r?e[n]=(...i)=>{o(...i),r(...i)}:e[n]=o}),e),v0=e=>{if(typeof e!="string")return{top:0,right:0,bottom:0,left:0};const t=e.trim().split(/\s+/,4).map(parseFloat),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?n:t[1];return{top:n,right:r,bottom:isNaN(t[2])?n:t[2],left:isNaN(t[3])?r:t[3]}},na=e=>{for(;e;){if(e=e.parentNode,!e||e===document.body||!e.parentNode)return;const{overflow:t,overflowX:n,overflowY:r}=getComputedStyle(e);if(/auto|scroll|overlay|hidden/.test(t+r+n))return e}};function hu(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function Jc(e,t){for(let n=0;n<e.length;n++)if(e[n]===t)return n;return-1}const Ar=({block:e,element:t,modifiers:n,className:r})=>E.useMemo(()=>{const o=t?`${e}__${t}`:e;let i=o;n&&Object.keys(n).forEach(a=>{const l=n[a];l&&(i+=` ${o}--${l===!0?a:`${a}-${l}`}`)});let s=typeof r=="function"?r(n):r;return typeof s=="string"&&(s=s.trim(),s&&(i+=` ${s}`)),i},[e,t,n,r]),S0="szh-menu-container",fr="szh-menu",w0="arrow",Qp="item",x0="submenu",Yp=E.createContext(),mu=E.createContext({}),ll=E.createContext({}),Gp=E.createContext({}),k0=E.createContext({}),ys=E.createContext({}),Je=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),Se=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),Ao=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),ul=Object.freeze({FIRST:"first",LAST:"last"}),I0=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),Zc="absolute",Xp="none",Jp="menuitem",cl={preventScroll:!0},C0=({className:e,containerRef:t,containerProps:n,children:r,isOpen:o,theming:i,transition:s,onClose:a})=>{const l=Eo(s,"item"),c=({key:d})=>{switch(d){case Je.ESC:wt(a,{key:d,reason:Ao.CANCEL});break}},u=d=>{o&&!d.currentTarget.contains(d.relatedTarget)&&wt(a,{reason:Ao.BLUR})};return k.jsx("div",{...ms({onKeyDown:c,onBlur:u},n),className:Ar({block:S0,modifiers:E.useMemo(()=>({theme:i,itemTransition:l}),[i,l]),className:e}),style:{position:"absolute",...n==null?void 0:n.style},ref:t,children:r})},E0=()=>{let e,t=0;return{toggle:n=>{n?t++:t--,t=Math.max(t,0)},on:(n,r,o)=>{t?e||(e=setTimeout(()=>{e=0,r()},n)):o==null||o()},off:()=>{e&&(clearTimeout(e),e=0)}}},A0=e=>{const[t,n]=E.useState(),o=E.useRef({items:[],hoverIndex:-1,sorted:!1}).current,i=E.useCallback((a,l)=>{const{items:c}=o;if(!a)o.items=[];else if(l)c.push(a);else{const u=c.indexOf(a);u>-1&&(c.splice(u,1),a.contains(document.activeElement)&&(e.current.focus(cl),n()))}o.hoverIndex=-1,o.sorted=!1},[o,e]),s=E.useCallback((a,l,c)=>{const{items:u,hoverIndex:d}=o,h=()=>{if(o.sorted)return;const m=e.current.querySelectorAll(".szh-menu__item");u.sort((w,p)=>Jc(m,w)-Jc(m,p)),o.sorted=!0};let g=-1,S;switch(a){case Se.RESET:break;case Se.SET:S=l;break;case Se.UNSET:S=m=>m===l?void 0:m;break;case Se.FIRST:h(),g=0,S=u[g];break;case Se.LAST:h(),g=u.length-1,S=u[g];break;case Se.SET_INDEX:h(),g=c,S=u[g];break;case Se.INCREASE:h(),g=d,g<0&&(g=u.indexOf(l)),g++,g>=u.length&&(g=0),S=u[g];break;case Se.DECREASE:h(),g=d,g<0&&(g=u.indexOf(l)),g--,g<0&&(g=u.length-1),S=u[g];break}S||(g=-1),n(S),o.hoverIndex=g},[e,o]);return{hoverItem:t,dispatch:s,updateItems:i}},qc=(e,t)=>Math.round(e)===t?e:t,_0=e=>{const t=e.getBoundingClientRect();return t.width=qc(t.width,e.offsetWidth),t.height=qc(t.height,e.offsetHeight),t},M0=(e,t,n,r)=>{const o=_0(t),i=e.getBoundingClientRect(),s=n===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:n.getBoundingClientRect(),a=v0(r),l=S=>S+i.left-s.left-a.left,c=S=>S+i.left+o.width-s.right+a.right,u=S=>S+i.top-s.top-a.top,d=S=>S+i.top+o.height-s.bottom+a.bottom;return{menuRect:o,containerRect:i,getLeftOverflow:l,getRightOverflow:c,getTopOverflow:u,getBottomOverflow:d,confineHorizontally:S=>{let m=l(S);if(m<0)S-=m;else{const w=c(S);w>0&&(S-=w,m=l(S),m<0&&(S-=m))}return S},confineVertically:S=>{let m=u(S);if(m<0)S-=m;else{const w=d(S);w>0&&(S-=w,m=u(S),m<0&&(S-=m))}return S}}},z0=({arrowRef:e,menuY:t,anchorRect:n,containerRect:r,menuRect:o})=>{let i=n.top-r.top-t+n.height/2;const s=e.current.offsetHeight*1.25;return i=Math.max(s,i),i=Math.min(i,o.height-s),i},j0=({anchorRect:e,containerRect:t,menuRect:n,placeLeftorRightY:r,placeLeftX:o,placeRightX:i,getLeftOverflow:s,getRightOverflow:a,confineHorizontally:l,confineVertically:c,arrowRef:u,arrow:d,direction:h,position:g})=>{let S=h,m=r;g!=="initial"&&(m=c(m),g==="anchor"&&(m=Math.min(m,e.bottom-t.top),m=Math.max(m,e.top-t.top-n.height)));let w,p,f;return S==="left"?(w=o,g!=="initial"&&(p=s(w),p<0&&(f=a(i),(f<=0||-p>f)&&(w=i,S="right")))):(w=i,g!=="initial"&&(f=a(w),f>0&&(p=s(o),(p>=0||-p<f)&&(w=o,S="left")))),g==="auto"&&(w=l(w)),{arrowY:d?z0({menuY:m,arrowRef:u,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:w,y:m,computedDirection:S}},T0=({arrowRef:e,menuX:t,anchorRect:n,containerRect:r,menuRect:o})=>{let i=n.left-r.left-t+n.width/2;const s=e.current.offsetWidth*1.25;return i=Math.max(s,i),i=Math.min(i,o.width-s),i},N0=({anchorRect:e,containerRect:t,menuRect:n,placeToporBottomX:r,placeTopY:o,placeBottomY:i,getTopOverflow:s,getBottomOverflow:a,confineHorizontally:l,confineVertically:c,arrowRef:u,arrow:d,direction:h,position:g})=>{let S=h==="top"?"top":"bottom",m=r;g!=="initial"&&(m=l(m),g==="anchor"&&(m=Math.min(m,e.right-t.left),m=Math.max(m,e.left-t.left-n.width)));let w,p,f;return S==="top"?(w=o,g!=="initial"&&(p=s(w),p<0&&(f=a(i),(f<=0||-p>f)&&(w=i,S="bottom")))):(w=i,g!=="initial"&&(f=a(w),f>0&&(p=s(o),(p>=0||-p<f)&&(w=o,S="top")))),g==="auto"&&(w=c(w)),{arrowX:d?T0({menuX:m,arrowRef:u,anchorRect:e,containerRect:t,menuRect:n}):void 0,x:m,y:w,computedDirection:S}},P0=({arrow:e,align:t,direction:n,gap:r,shift:o,position:i,anchorRect:s,arrowRef:a,positionHelpers:l})=>{const{menuRect:c,containerRect:u}=l,d=n==="left"||n==="right";let h=d?r:o,g=d?o:r;if(e){const x=a.current;d?h+=x.offsetWidth:g+=x.offsetHeight}const S=s.left-u.left-c.width-h,m=s.right-u.left+h,w=s.top-u.top-c.height-g,p=s.bottom-u.top+g;let f,v;t==="end"?(f=s.right-u.left-c.width,v=s.bottom-u.top-c.height):t==="center"?(f=s.left-u.left-(c.width-s.width)/2,v=s.top-u.top-(c.height-s.height)/2):(f=s.left-u.left,v=s.top-u.top),f+=h,v+=g;const C={...l,anchorRect:s,placeLeftX:S,placeRightX:m,placeLeftorRightY:v,placeTopY:w,placeBottomY:p,placeToporBottomX:f,arrowRef:a,arrow:e,direction:n,position:i};switch(n){case"left":case"right":return j0(C);case"top":case"bottom":default:return N0(C)}},mi=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?E.useLayoutEffect:E.useEffect;function ed(e,t){typeof e=="function"?e(t):e.current=t}const yu=(e,t)=>E.useMemo(()=>e?t?n=>{ed(e,n),ed(t,n)}:e:t,[e,t]),td=-9999,Zp=({ariaLabel:e,menuClassName:t,menuStyle:n,arrow:r,arrowProps:o={},anchorPoint:i,anchorRef:s,containerRef:a,containerProps:l,externalRef:c,parentScrollingRef:u,align:d="start",direction:h="bottom",position:g="auto",overflow:S="visible",setDownOverflow:m,repositionFlag:w,captureFocus:p=!0,state:f,endTransition:v,isDisabled:C,menuItemFocus:x,gap:y=0,shift:I=0,children:z,onClose:A,focusProps:M,...L})=>{const[P,_]=E.useState({x:td,y:td}),[j,D]=E.useState({}),[R,F]=E.useState(),[T,O]=E.useState(h),[b]=E.useState(E0),[U,H]=E.useReducer(Y=>Y+1,1),{transition:Z,boundingBoxRef:ne,boundingBoxPadding:X,rootMenuRef:re,rootAnchorRef:q,scrollNodesRef:ye,reposition:Me,viewScroll:ue,submenuCloseDelay:ie}=E.useContext(ys),{submenuCtx:fe,reposSubmenu:Re=w}=E.useContext(ll),Ke=E.useRef(),Sn=E.useRef(),ce=E.useRef(!1),{hoverItem:ht,dispatch:Qe,updateItems:bt}=A0(Ke),De=Kp(f),No=Eo(Z,"open"),wn=Eo(Z,"close"),Ye=ye.current,Su=Y=>{switch(Y.key){case Je.HOME:Qe(Se.FIRST);break;case Je.END:Qe(Se.LAST);break;case Je.UP:Qe(Se.DECREASE,ht);break;case Je.DOWN:Qe(Se.INCREASE,ht);break;case Je.SPACE:Y.target&&Y.target.className.indexOf(fr)!==-1&&Y.preventDefault();return;default:return}Y.preventDefault(),Y.stopPropagation()},It=()=>{f==="closing"&&F(),wt(v)},Pt=Y=>{Y.stopPropagation(),b.on(ie,()=>{Qe(Se.RESET),Ke.current.focus(cl)})},xn=Y=>{Y.target===Y.currentTarget&&b.off()},Ge=E.useCallback(Y=>{var Iu;const Le=Ke.current,Ct=a.current;if(!Le||!Ct)return;const Rt=s?(Iu=s.current)==null?void 0:Iu.getBoundingClientRect():i?{left:i.x,right:i.x,top:i.y,bottom:i.y,width:0,height:0}:null;if(!Rt)return;Ye.menu||(Ye.menu=(ne?ne.current:na(re.current))||window);const Ie=M0(Ct,Le,Ye.menu,X);let{arrowX:Ro,arrowY:ph,x:hh,y:Do,computedDirection:mh}=P0({arrow:r,align:d,direction:h,gap:y,shift:I,position:g,anchorRect:Rt,arrowRef:Sn,positionHelpers:Ie});const{menuRect:yh}=Ie,ku=yh.height;if(!Y&&S!=="visible"){const{getTopOverflow:gh,getBottomOverflow:vh}=Ie;let jr,Ss;const ws=vh(Do);if(ws>0)jr=ku-ws,Ss=ws;else{const Lo=gh(Do);Lo<0&&(jr=ku+Lo,Ss=0-Lo,jr>=0&&(Do-=Lo))}jr>=0&&F({height:jr,overflowAmt:Ss})}r&&D({x:Ro,y:ph}),_({x:hh,y:Do}),O(mh)},[r,d,X,h,y,I,g,S,i,s,a,ne,re,Ye]);mi(()=>{De&&(Ge(),ce.current&&H()),ce.current=De},[De,Ge,Re]),mi(()=>{R&&!m&&(Ke.current.scrollTop=0)},[R,m]),mi(()=>bt,[bt]),E.useEffect(()=>{let{menu:Y}=Ye;if(!De||!Y)return;if(Y=Y.addEventListener?Y:window,!Ye.anchors){Ye.anchors=[];let Ie=na(q&&q.current);for(;Ie&&Ie!==Y;)Ye.anchors.push(Ie),Ie=na(Ie)}let Le=ue;if(Ye.anchors.length&&Le==="initial"&&(Le="auto"),Le==="initial")return;const Ct=()=>{Le==="auto"?al(()=>Ge(!0)):wt(A,{reason:Ao.SCROLL})},Rt=Ye.anchors.concat(ue!=="initial"?Y:[]);return Rt.forEach(Ie=>Ie.addEventListener("scroll",Ct)),()=>Rt.forEach(Ie=>Ie.removeEventListener("scroll",Ct))},[q,Ye,De,A,ue,Ge]);const Po=!!R&&R.overflowAmt>0;E.useEffect(()=>{if(Po||!De||!u)return;const Y=()=>al(Ge),Le=u.current;return Le.addEventListener("scroll",Y),()=>Le.removeEventListener("scroll",Y)},[De,Po,u,Ge]),E.useEffect(()=>{if(!De||typeof ResizeObserver!="function"||Me==="initial")return;const Y=[],Le=new ResizeObserver(Ie=>Ie.forEach(({target:Ro})=>{Y.indexOf(Ro)<0?Y.push(Ro):wr.flushSync(()=>{Ge(),H()})})),Ct={box:"border-box"};Le.observe(Ke.current,Ct);const Rt=s==null?void 0:s.current;return Rt&&Le.observe(Rt,Ct),()=>Le.disconnect()},[De,Me,s,Ge]),E.useEffect(()=>{if(!De){Qe(Se.RESET),wn||F();return}const{position:Y,alwaysUpdate:Le}=x||{},Ct=()=>{Y===ul.FIRST?Qe(Se.FIRST):Y===ul.LAST?Qe(Se.LAST):Y>=-1&&Qe(Se.SET_INDEX,void 0,Y)};if(Le)Ct();else if(p){const Rt=setTimeout(()=>{const Ie=Ke.current;Ie&&!Ie.contains(document.activeElement)&&(Ie.focus(cl),Ct())},No?170:100);return()=>clearTimeout(Rt)}},[De,No,wn,p,x,Qe]);const lh=E.useMemo(()=>({isParentOpen:De,submenuCtx:b,dispatch:Qe,updateItems:bt}),[De,b,Qe,bt]);let gs,vs;R&&(m?vs=R.overflowAmt:gs=R.height);const uh=E.useMemo(()=>({reposSubmenu:U,submenuCtx:b,overflow:S,overflowAmt:vs,parentMenuRef:Ke,parentDir:T}),[U,b,S,vs,T]),ch=gs>=0?{maxHeight:gs,overflow:S}:void 0,wu=E.useMemo(()=>({state:f,align:d,dir:T}),[f,d,T]),dh=E.useMemo(()=>({dir:T}),[T]),fh=Ar({block:fr,element:w0,modifiers:dh,className:o.className}),xu=k.jsxs("ul",{role:"menu","aria-label":e,...hu(C),...ms({onPointerEnter:fe==null?void 0:fe.off,onPointerMove:Pt,onPointerLeave:xn,onKeyDown:Su,onAnimationEnd:It},L),ref:yu(c,Ke),className:Ar({block:fr,modifiers:wu,className:t}),style:{...n,...ch,margin:0,display:f==="closed"?"none":void 0,position:Zc,left:P.x,top:P.y},children:[r&&k.jsx("li",{"aria-hidden":!0,...o,className:fh,style:{display:"block",position:Zc,left:j.x,top:j.y,...o.style},ref:Sn}),k.jsx(ll.Provider,{value:uh,children:k.jsx(mu.Provider,{value:lh,children:k.jsx(Yp.Provider,{value:ht,children:wt(z,wu)})})})]});return l?k.jsx(C0,{...l,isOpen:De,children:xu}):xu},gu=E.forwardRef(function({"aria-label":t,className:n,containerProps:r,initialMounted:o,unmountOnClose:i,transition:s,transitionTimeout:a,boundingBoxRef:l,boundingBoxPadding:c,reposition:u="auto",submenuOpenDelay:d=300,submenuCloseDelay:h=150,viewScroll:g="initial",portal:S,theming:m,onItemClick:w,...p},f){const v=E.useRef(null),C=E.useRef({}),{anchorRef:x,state:y,onClose:I}=p,z=E.useMemo(()=>({initialMounted:o,unmountOnClose:i,transition:s,transitionTimeout:a,boundingBoxRef:l,boundingBoxPadding:c,rootMenuRef:v,rootAnchorRef:x,scrollNodesRef:C,reposition:u,viewScroll:g,submenuOpenDelay:d,submenuCloseDelay:h}),[o,i,s,a,x,l,c,u,g,d,h]),A=E.useMemo(()=>({handleClick(L,P){L.stopPropagation||wt(w,L);let _=L.keepOpen;_===void 0&&(_=P&&L.key===Je.SPACE),_||wt(I,{value:L.value,key:L.key,reason:Ao.CLICK})},handleClose(L){wt(I,{key:L,reason:Ao.CLICK})}}),[w,I]);if(!y)return null;const M=k.jsx(ys.Provider,{value:z,children:k.jsx(Gp.Provider,{value:A,children:k.jsx(Zp,{...p,ariaLabel:t||"Menu",externalRef:f,containerRef:v,containerProps:{className:n,containerRef:v,containerProps:r,theming:m,transition:s,onClose:I}})})});return S===!0&&typeof document<"u"?wr.createPortal(M,document.body):S?S.target?wr.createPortal(M,S.target):S.stablePosition?null:M:M}),dl=0,fl=1,Bi=2,Wi=3,Ki=4,R0=5,qp=6,D0=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],eh=e=>({_s:e,status:D0[e],isEnter:e<Wi,isMounted:e!==qp,isResolved:e===Bi||e>Ki}),pl=e=>e?qp:R0,L0=(e,t)=>{switch(e){case fl:case dl:return Bi;case Ki:case Wi:return pl(t)}},O0=e=>typeof e=="object"?[e.enter,e.exit]:[e,e],$0=(e,t)=>setTimeout(()=>{isNaN(document.body.offsetTop)||e(t+1)},0),nd=(e,t,n,r,o)=>{clearTimeout(r.current);const i=eh(e);t(i),n.current=i,o&&o({current:i})},F0=({enter:e=!0,exit:t=!0,preEnter:n,preExit:r,timeout:o,initialEntered:i,mountOnEnter:s,unmountOnExit:a,onStateChange:l}={})=>{const[c,u]=E.useState(()=>eh(i?Bi:pl(s))),d=E.useRef(c),h=E.useRef(),[g,S]=O0(o),m=E.useCallback(()=>{const p=L0(d.current._s,a);p&&nd(p,u,d,h,l)},[l,a]),w=E.useCallback(p=>{const f=C=>{switch(nd(C,u,d,h,l),C){case fl:g>=0&&(h.current=setTimeout(m,g));break;case Ki:S>=0&&(h.current=setTimeout(m,S));break;case dl:case Wi:h.current=$0(f,C);break}},v=d.current.isEnter;typeof p!="boolean"&&(p=!v),p?!v&&f(e?n?dl:fl:Bi):v&&f(t?r?Wi:Ki:pl(a))},[m,l,e,t,n,r,g,S,a]);return[c,w,m]},b0=({initialOpen:e,initialMounted:t,unmountOnClose:n,transition:r,transitionTimeout:o=500,onMenuChange:i}={})=>{const s=Eo(r,"open"),a=Eo(r,"close"),[{status:l},c,u]=F0({initialEntered:e,mountOnEnter:!t,unmountOnExit:n,timeout:o,enter:s,exit:a,onStateChange:E.useCallback(({current:{isEnter:d,isResolved:h}})=>{!i||d&&s&&h||!d&&a&&h||i({open:d})},[i,s,a])});return[{state:I0[l],endTransition:u},c]},U0=e=>{const[t,n]=b0(e),[r,o]=E.useState(),i=(s,a)=>{o({position:s,alwaysUpdate:a}),n(!0)};return[{menuItemFocus:r,...t},n,i]},th=(e,t)=>{const n=E.memo(t),r=E.forwardRef((o,i)=>{const s=E.useRef(null);return k.jsx(n,{...o,itemRef:s,externalRef:i,isHovering:E.useContext(Yp)===s.current})});return r.displayName=`WithHovering(${e})`,r},nh=e=>{const[t,n]=E.useState(!1);return E.useEffect(()=>{!e&&n(!1)},[e]),[t,()=>!t&&n(!0),()=>n(!1)]},rh=(e,t,n)=>{mi(()=>{if(e)return;const r=t.current;return n(r,!0),()=>{n(r)}},[e,t,n])},V0=th("SubMenu",function({"aria-label":t,className:n,disabled:r,direction:o,label:i,openTrigger:s,onMenuChange:a,isHovering:l,instanceRef:c,itemRef:u,captureFocus:d,repositionFlag:h,itemProps:g={},...S}){const m=E.useContext(ys),{rootMenuRef:w,submenuOpenDelay:p,submenuCloseDelay:f}=m,{parentMenuRef:v,parentDir:C,overflow:x}=E.useContext(ll),{isParentOpen:y,submenuCtx:I,dispatch:z,updateItems:A}=E.useContext(mu),M=x!=="visible",[L,P,_]=U0({...m,onMenuChange:a}),[j,D,R]=nh(l),{state:F}=L,T=!!r,O=Kp(F),b=E.useRef(null),[U]=E.useState({v:0}),H=()=>{I.off(),U.v&&(clearTimeout(U.v),U.v=0)},Z=(...ce)=>{H(),ne(),!T&&_(...ce)},ne=()=>!l&&!T&&z(Se.SET,u.current),X=ce=>{ne(),s||(U.v=setTimeout(()=>al(Z),Math.max(ce,0)))},re=ce=>{T||(ce.stopPropagation(),D(),!(U.v||O)&&I.on(f,()=>X(p-f),()=>X(p)))},q=()=>{R(),H(),O||z(Se.UNSET,u.current)},ye=ce=>{if(l)switch(ce.key){case Je.ENTER:ce.preventDefault();case Je.SPACE:case Je.RIGHT:s!=="none"&&Z(ul.FIRST)}},Me=ce=>{let ht=!1;switch(ce.key){case Je.LEFT:O&&(u.current.focus(),P(!1),ht=!0);break;case Je.RIGHT:O||(ht=!0);break}ht&&(ce.preventDefault(),ce.stopPropagation())};rh(T,u,A),E.useEffect(()=>I.toggle(O),[I,O]),E.useEffect(()=>()=>{clearTimeout(U.v),I.toggle(!1)},[U,I]),E.useEffect(()=>{l&&y?u.current.focus():P(!1)},[l,y,P,u]),E.useImperativeHandle(c,()=>({openMenu:(...ce)=>{y&&Z(...ce)},closeMenu:()=>{O&&(u.current.focus(),P(!1))}}));const ue=E.useMemo(()=>({open:O,hover:j||l,disabled:T,submenu:!0}),[O,l,T,j]),{ref:ie,className:fe,...Re}=g,Ke=ms({onPointerEnter:I.off,onPointerMove:re,onPointerLeave:q,onKeyDown:ye,onClick:()=>s!=="none"&&Z()},Re),Sn=()=>{const ce=k.jsx(Zp,{...S,...L,ariaLabel:t||(typeof i=="string"?i:"Submenu"),anchorRef:u,containerRef:M?w:b,direction:o||(C==="right"||C==="left"?C:"right"),parentScrollingRef:M&&v,isDisabled:T}),ht=w.current;return M&&ht?wr.createPortal(ce,ht):ce};return k.jsxs("li",{className:Ar({block:fr,element:x0,className:n}),style:{position:"relative"},role:Xp,ref:b,onKeyDown:Me,children:[k.jsx("div",{role:Jp,"aria-haspopup":!0,"aria-expanded":O,...hu(T,l),...Ke,ref:yu(ie,u),className:Ar({block:fr,element:Qp,modifiers:ue,className:fe}),children:E.useMemo(()=>wt(i,ue),[i,ue])}),F&&Sn()]})}),H0=(e,t,n,r)=>{const[o,i,s]=nh(n),{submenuCloseDelay:a}=E.useContext(ys),{isParentOpen:l,submenuCtx:c,dispatch:u,updateItems:d}=E.useContext(mu),h=()=>{!n&&!r&&u(Se.SET,e.current)},g=()=>{!r&&u(Se.UNSET,e.current)},S=p=>{n&&!p.currentTarget.contains(p.relatedTarget)&&g()},m=p=>{r||(p.stopPropagation(),i(),c.on(a,h,h))},w=(p,f)=>{s(),c.off(),!f&&g()};return rh(r,e,d),E.useEffect(()=>{n&&l&&t.current&&t.current.focus()},[t,n,l]),{mouseOver:o,setHover:h,onBlur:S,onPointerMove:m,onPointerLeave:w}},Qr=th("MenuItem",function({className:t,value:n,href:r,type:o,checked:i,disabled:s,children:a,onClick:l,isHovering:c,itemRef:u,externalRef:d,...h}){const g=!!s,{mouseOver:S,setHover:m,...w}=H0(u,u,c,g),p=E.useContext(Gp),f=E.useContext(k0),v=o==="radio",C=o==="checkbox",x=!!r&&!g&&!v&&!C,y=v?f.value===n:C?!!i:!1,I=P=>{if(g){P.stopPropagation(),P.preventDefault();return}const _={value:n,syntheticEvent:P};P.key!==void 0&&(_.key=P.key),C&&(_.checked=!y),v&&(_.name=f.name),wt(l,_),v&&wt(f.onRadioChange,_),p.handleClick(_,C||v)},z=P=>{if(c)switch(P.key){case Je.ENTER:P.preventDefault();case Je.SPACE:x?u.current.click():I(P)}},A=E.useMemo(()=>({type:o,disabled:g,hover:S||c,checked:y,anchor:x}),[o,g,S,c,y,x]),M=ms({...w,onPointerDown:m,onKeyDown:z,onClick:I},h),L={role:v?"menuitemradio":C?"menuitemcheckbox":Jp,"aria-checked":v||C?y:void 0,...hu(g,c),...M,ref:yu(d,u),className:Ar({block:fr,element:Qp,modifiers:A,className:t}),children:E.useMemo(()=>wt(a,A),[a,A])};return x?k.jsx("li",{role:Xp,children:k.jsx("a",{href:r,...L})}):k.jsx("li",{...L})}),rd="karmyc_custom_layouts",B0=()=>{var C;ps();const[e,t]=E.useState(!1),[n,r]=E.useState("closed"),[o,i]=E.useState({x:0,y:0}),s=N(),a=((C=s.options)==null?void 0:C.builtInLayouts)||[],[l,c]=E.useState(()=>{const x=localStorage.getItem(rd);return x?JSON.parse(x):[]});E.useEffect(()=>{localStorage.setItem(rd,JSON.stringify(l))},[l]);const u=E.useMemo(()=>[...a,...l],[a,l]),d=E.useCallback(x=>{c(x),N.setState(y=>({...y,layout_preset:x}))},[]),h=E.useCallback(x=>{const y=JSON.stringify(x,null,2),I="data:application/json;charset=utf-8,"+encodeURIComponent(y),z=`${x.name}.json`,A=document.createElement("a");A.setAttribute("href",I),A.setAttribute("download",z),A.click()},[]),g=E.useCallback(()=>{const x=document.createElement("input");x.type="file",x.accept=".json",x.onchange=y=>{var A;const I=(A=y.target.files)==null?void 0:A[0];if(!I)return;const z=new FileReader;z.onload=M=>{var L;try{const _={...JSON.parse((L=M.target)==null?void 0:L.result),id:Date.now().toString(),isBuiltIn:!1};d([...l,_])}catch(P){console.error("Erreur lors de l'import du preset:",P)}},z.readAsText(I)},x.click()},[l,d]),S=E.useCallback(x=>{const y=prompt("Nouveau nom du preset:",x.name);y&&y!==x.name&&d(l.map(I=>I.id===x.id?{...I,name:y}:I))},[l,d]),m=E.useCallback(x=>{confirm(`Voulez-vous vraiment supprimer le preset "${x.name}" ?`)&&d(l.filter(y=>y.id!==x.id))},[l,d]),w=E.useCallback(()=>{const x=s.activeScreenId,y=s.screens[x];if(!y)return;const I=prompt("Nom du nouveau preset:");if(!I)return;const z={id:Date.now().toString(),name:I,config:{_id:y.areas._id,rootId:y.areas.rootId,errors:[],activeAreaId:y.areas.activeAreaId,joinPreview:null,layout:y.areas.layout,areas:y.areas.areas,viewports:y.areas.viewports,areaToOpen:null,lastSplitResultData:null,lastLeadAreaId:y.areas.lastLeadAreaId},isBuiltIn:!1};d([...l,z])},[s,l,d]),p=E.useCallback(x=>{const y=u.find(z=>z.id===x);if(!y)return;const I=s.activeScreenId;I&&N.setState(z=>{const A=z.screens[I];A&&(A.areas={_id:y.config._id,rootId:y.config.rootId,errors:[],activeAreaId:y.config.activeAreaId,joinPreview:null,layout:{...y.config.layout},areas:{...y.config.areas},viewports:{...y.config.viewports},areaToOpen:null,lastSplitResultData:null,lastLeadAreaId:y.config.lastLeadAreaId},z.lastUpdated=Date.now())})},[s,u]);E.useEffect(()=>(Q.registerActionHandler("layout.import",g),Q.registerActionHandler("layout.export",h),Q.registerActionHandler("layout.rename",S),Q.registerActionHandler("layout.delete",m),Q.registerActionHandler("layout.save",w),Q.registerActionHandler("layout.apply",p),()=>{Q.unregisterActionHandler("layout.import"),Q.unregisterActionHandler("layout.export"),Q.unregisterActionHandler("layout.rename"),Q.unregisterActionHandler("layout.delete"),Q.unregisterActionHandler("layout.save"),Q.unregisterActionHandler("layout.apply")}),[g,h,S,m,w,p]);const f=E.useCallback(x=>{x.preventDefault(),i({x:x.clientX,y:x.clientY}),r("open")},[]),v=E.useCallback(()=>{r("closed")},[]);return k.jsxs(k.Fragment,{children:[k.jsx("style",{children:`
                    .layout-context-menu {
                        z-index: 9999 !important;
                    }
                    .preset-item {
                        display: flex;
                        align-items: center;
                        justify-content: space-between;
                        width: 100%;
                        padding: 4px 8px;
                    }
                    .preset-actions {
                        display: flex;
                        gap: 4px;
                    }
                    .preset-actions button {
                        background: none;
                        border: none;
                        padding: 4px;
                        cursor: pointer;
                        color: inherit;
                    }
                    .preset-actions button:hover {
                        background: rgba(255, 255, 255, 0.1);
                        border-radius: 4px;
                    }
                `}),k.jsx("div",{onContextMenu:f,onClick:f,onMouseEnter:()=>t(!0),onMouseLeave:()=>t(!1),style:{cursor:"pointer",padding:"8px",color:"white",display:"flex",alignItems:"center",gap:"8px",userSelect:"none",backgroundColor:e?"rgba(255, 255, 255, 0.1)":"transparent",transition:"background-color 0.2s ease"},children:k.jsx(Av,{size:26})}),k.jsxs(gu,{anchorPoint:o,state:n,onClose:v,menuClassName:"layout-context-menu",children:[a.map(x=>k.jsx(Qr,{onClick:()=>p(x.id),children:x.name},x.id)),l.map(x=>k.jsx(Qr,{onClick:()=>p(x.id),children:k.jsxs("div",{className:"preset-item",children:[k.jsx("span",{children:x.name}),k.jsxs("div",{className:"preset-actions",children:[k.jsx("button",{onClick:y=>{y.stopPropagation(),S(x)},children:k.jsx(bp,{size:16})}),k.jsx("button",{onClick:y=>{y.stopPropagation(),m(x)},children:k.jsx($v,{size:16})}),k.jsx("button",{onClick:y=>{y.stopPropagation(),h(x)},children:k.jsx(Op,{size:16})})]})]})},x.id)),k.jsx("hr",{}),k.jsxs("div",{style:{display:"flex",flexDirection:"row",gap:"4px"},children:[k.jsxs(Qr,{onClick:w,children:[k.jsx(pu,{size:16,style:{marginRight:"8px"}}),"Nouveau"]}),k.jsxs(Qr,{onClick:g,children:[k.jsx($p,{size:16,style:{marginRight:"8px"}}),"Importer"]})]})]})]})};function oh(e,t){E.useEffect(()=>{const n=t.map(r=>({...r,areaType:r.isGlobal?void 0:e}));return Cr.registerShortcuts(e,n),()=>{Cr.unregisterShortcuts(e)}},[e,t])}const W0=()=>{const{t:e}=pt();return k.jsx("div",{className:"empty-area-message",children:k.jsx("span",{className:"empty-area-message__text",children:e("area.empty.message","No area initialized")})})};function vn(e,t,n,r){E.useEffect(()=>(W.registerComponent(e,t),W.registerInitialState(e,n),r&&(r.displayName&&W.registerDisplayName(e,r.displayName),r.icon&&W.registerIcon(e,r.icon),r.defaultSize&&W.registerDefaultSize(e,r.defaultSize),r.supportedActions&&W.registerSupportedActions(e,r.supportedActions),r.role&&(W._roleMap=W._roleMap||{},W._roleMap[e]=r.role),r.supportFullscreen!==void 0&&(W._supportFullscreenMap=W._supportFullscreenMap||{},W._supportFullscreenMap[e]=r.supportFullscreen)),()=>{W.unregisterAreaType(e)}),[e,t,n,r,r==null?void 0:r.displayName,r==null?void 0:r.defaultSize,r==null?void 0:r.supportedActions,r==null?void 0:r.icon,r==null?void 0:r.role,r==null?void 0:r.supportFullscreen])}const K0=()=>{const{updateArea:e}=N.getState(),{registerComponent:t}=qe("demo-area","top-inner"),n=r=>{const o=r.areaId;o&&e({id:o,type:"demo-area",state:W.getInitialState("demo-area")})};return E.useMemo(()=>{t(()=>k.jsx("div",{children:"Top Demo Area center slot"}),{name:"topOuterSlot",type:"menu"},{order:990,width:"auto",alignment:"center"})},[t]),oh("demo-area",[{key:"S",modifierKeys:["Control"],name:"Save Demo Area",fn:r=>{console.log(`Saving demo area ${r}`)},history:!0,isGlobal:!0},{key:"R",name:"Reset Demo Area",fn:r=>{console.log(`Resetting demo area ${r}`),e({id:r,type:"demo-area",state:W.getInitialState("demo-area")})}}]),vn("demo-area",W0,{},{displayName:"Demo area",defaultSize:{width:300,height:200},role:oe.LEAD,icon:fu}),Te("area.create-demo-area",n),null},Q0=""+new URL("karmyc_logo-DE65axty.svg",import.meta.url).href,Y0=()=>{const{updateArea:e}=N.getState(),t=n=>{const r=n.areaId;r&&e({id:r,type:"logo-karmyc-area",state:W.getInitialState("logo-karmyc-area")})};return oh("logo-karmyc-area",[{key:"L",modifierKeys:["Control"],name:"Toggle Logo Size",fn:n=>{console.log(`Toggling logo size for area ${n} in Karmyc Core DEMO!!`)}},{key:"H",name:"Hide/Show Logo",fn:n=>{console.log(`Toggling logo visibility for area ${n}  in Karmyc Core DEMO 2!!`)}}]),vn("logo-karmyc-area",()=>k.jsxs("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",gap:"8px",width:"100%",height:"100%"},children:[k.jsx("img",{src:Q0,style:{width:"75%"}}),k.jsx("strong",{children:"Karmyc core Demo"})]}),{},{displayName:"Logo Karmyc",defaultSize:{width:300,height:200},role:oe.SELF,icon:mv}),Te("area.create-logo-karmyc-area",t),null},G0=()=>{const{t:e}=pt(),t=Cr.getAllShortcuts(),n=t.filter(i=>i.isGlobal),o=t.filter(i=>!i.isGlobal).reduce((i,s)=>{const a=s.areaType||"Unknown";return i[a]||(i[a]=[]),i[a].push(s),i},{});return k.jsxs("div",{style:{padding:"15px",color:"white",height:"100%",overflow:"auto"},children:[k.jsxs("div",{style:{marginBottom:"30px"},children:[k.jsx("h3",{style:{borderBottom:"1px solid rgba(255,255,255,0.2)",paddingBottom:"10px",marginBottom:"15px"},children:e("shortcuts.global.title","Raccourcis Globaux")}),k.jsx("div",{style:{display:"grid",gap:"5px"},children:n.map((i,s)=>{var a;return k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"4px"},children:[k.jsx("span",{children:e(`shortcuts.${i.name}`,i.name)}),k.jsxs("span",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"2px 8px",borderRadius:"4px",fontFamily:"monospace"},children:[(a=i.modifierKeys)==null?void 0:a.map(l=>l).join(" + ")," + ",i.key]})]},s)})})]}),Object.entries(o).map(([i,s])=>k.jsxs("div",{style:{marginBottom:"30px"},children:[k.jsx("h3",{style:{borderBottom:"1px solid rgba(255,255,255,0.2)",paddingBottom:"10px",marginBottom:"15px"},children:e(`shortcuts.area.${i}`,i)}),k.jsx("div",{style:{display:"grid",gap:"10px"},children:s.map((a,l)=>{var c;return k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px",backgroundColor:"rgba(255,255,255,0.1)",borderRadius:"4px"},children:[k.jsx("span",{children:e(`shortcuts.${a.name}`,a.name)}),k.jsxs("span",{style:{backgroundColor:"rgba(255,255,255,0.2)",padding:"2px 8px",borderRadius:"4px",fontFamily:"monospace"},children:[(c=a.modifierKeys)==null?void 0:c.map(u=>u).join(" + ")," + ",a.key]})]},l)})})]},i))]})},X0=()=>{const{updateArea:e}=N.getState(),{registerComponent:t}=qe("demo-area","top-inner"),n=r=>{const o=r.areaId;o&&e({id:o,type:"keyboard-shortcuts-area",state:W.getInitialState("keyboard-shortcuts-area")})};return E.useMemo(()=>{t(()=>k.jsx("div",{children:"Top Demo Area center slot"}),{name:"topOuterSlot",type:"menu"},{order:990,width:"auto",alignment:"center"})},[t]),vn("keyboard-shortcuts-area",G0,{},{displayName:"Raccourcis Clavier",defaultSize:{width:400,height:600},role:oe.SELF,icon:pv}),Te("area.create-keyboard-shortcuts-area",n),null};function J0(e,t={}){var h,g,S,m,w,p;const{enabled:n=!0,maxHistorySize:r=50}=t,o=B(f=>f.undoSharedState),i=B(f=>f.redoSharedState),s=B(f=>e?f.spaces[e]:null),a=!!((g=(h=s==null?void 0:s.sharedState)==null?void 0:h.pastDiffs)!=null&&g.length),l=!!((m=(S=s==null?void 0:s.sharedState)==null?void 0:S.futureDiffs)!=null&&m.length),c=E.useCallback(()=>{!n||!e||!a||o(e)},[n,e,a,o]),u=E.useCallback(()=>{!n||!e||!l||i(e)},[n,e,l,i]),d=E.useCallback(()=>{!n||!e||B.setState(f=>{const v=f.spaces[e];v&&(v.sharedState.pastDiffs=[],v.sharedState.futureDiffs=[])})},[n,e]);return{canUndo:a,canRedo:l,undo:c,redo:u,clearHistory:d,pastDiffs:((w=s==null?void 0:s.sharedState)==null?void 0:w.pastDiffs)??[],futureDiffs:((p=s==null?void 0:s.sharedState)==null?void 0:p.futureDiffs)??[]}}const Z0=({id:e,viewport:t})=>{const{activeSpaceId:n}=Un(),{pastDiffs:r,futureDiffs:o,canUndo:i,canRedo:s,undo:a,redo:l}=J0(n),c=E.useCallback(u=>new Date(u).toLocaleTimeString(),[]);return k.jsxs("div",{style:{width:t.width,height:t.height,display:"flex",flexDirection:"column",background:"#1a1a1a",color:"white",padding:"16px",gap:"16px"},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:"1px solid #333",paddingBottom:"8px"},children:[k.jsxs("h3",{style:{margin:0,display:"flex",alignItems:"center",gap:"8px"},children:[k.jsx(qg,{size:20}),"Historique"]}),k.jsxs("div",{style:{display:"flex",gap:"8px"},children:[k.jsxs("button",{onClick:a,disabled:!i,style:{padding:"4px 8px",background:i?"#333":"#222",border:"none",borderRadius:"4px",color:"white",cursor:i?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"4px"},children:[k.jsx(Pv,{size:16}),"Annuler"]}),k.jsxs("button",{onClick:l,disabled:!s,style:{padding:"4px 8px",background:s?"#333":"#222",border:"none",borderRadius:"4px",color:"white",cursor:s?"pointer":"not-allowed",display:"flex",alignItems:"center",gap:"4px"},children:[k.jsx(Dv,{size:16}),"Rétablir"]})]})]}),k.jsxs("div",{style:{flex:1,overflowY:"auto",display:"flex",flexDirection:"column",gap:"8px"},children:[o.length>0&&k.jsxs("div",{style:{marginBottom:"16px"},children:[k.jsx("h4",{style:{color:"#666",margin:"0 0 8px 0"},children:"Actions futures"}),o.map((u,d)=>k.jsxs("div",{style:{padding:"8px",background:"#222",borderRadius:"4px",fontSize:"14px"},children:[k.jsx("div",{style:{color:"#888"},children:c(u.timestamp)}),k.jsx("div",{style:{marginTop:"4px"},children:ol(u.actionType,u.payload)})]},`future-${u.timestamp}`))]}),r.length>0?r.map((u,d)=>k.jsxs("div",{style:{padding:"8px",background:"#222",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},onMouseEnter:h=>{h.currentTarget.style.background="#2a2a2a"},onMouseLeave:h=>{h.currentTarget.style.background="#222"},onClick:()=>{},children:[k.jsx("div",{style:{color:"#888"},children:c(u.timestamp)}),k.jsx("div",{style:{marginTop:"4px"},children:ol(u.actionType,u.payload)})]},`past-${u.timestamp}`)):k.jsx("div",{style:{color:"#666",textAlign:"center",padding:"32px",background:"#222",borderRadius:"4px"},children:"Aucune action dans l'historique"})]})]})},q0=()=>{const{updateArea:e}=N.getState(),t=n=>{const r=n.areaId;r&&e({id:r,type:"history-area",state:W.getInitialState("history-area")})};return vn("history-area",Z0,{},{displayName:"History",defaultSize:{width:300,height:200},role:oe.FOLLOW,icon:fu}),Te("area.create-history-area",t),null},ih=e=>{const t=N(A=>A.setAreaToOpen),n=N(A=>A.updateAreaToOpenPosition),r=N(A=>A.finalizeAreaPlacement),o=N(A=>A.cleanupTemporaryStates),i=N(A=>A.updateLayout),s=N(A=>{var M;return(M=A.screens[A.activeScreenId])==null?void 0:M.areas.layout}),a=N(A=>{var M;return(M=A.screens[A.activeScreenId])==null?void 0:M.areas.rootId}),l=N(A=>{var M;return(M=A.screens[A.activeScreenId])==null?void 0:M.areas.areas}),c=N(A=>{var M;return(M=A.screens[A.activeScreenId])==null?void 0:M.areas.areaToOpen}),u=N(A=>{var M;return(M=A.screens[A.activeScreenId])==null?void 0:M.areas.viewports}),d=E.useRef(null),h=E.useRef(performance.now()),g=E.useRef(void 0),S=E.useRef(!1),m=E.useMemo(()=>ve.new(300,200),[]),w=E.useMemo(()=>{if(!c||!a||!u||Object.keys(u).length===0)return null;const A=ve.new(c.position.x,c.position.y);return _p(A,{layout:s},u,m)},[c==null?void 0:c.position.x,c==null?void 0:c.position.y,s,a,l,u,m]),p=E.useMemo(()=>w?u[w]:null,[w,u]),f=E.useMemo(()=>{if(!c||!p)return"stack";const A=ve.new(c.position.x,c.position.y);return Mp(p,A)},[p,c==null?void 0:c.position.x,c==null?void 0:c.position.y,c]),v=E.useCallback((A,M)=>{S.current||(S.current=!0,g.current=requestAnimationFrame(()=>{n({x:A,y:M}),S.current=!1}))},[n]),C=E.useCallback(A=>{A.preventDefault(),v(A.clientX,A.clientY)},[v]),x=E.useCallback(A=>{if(!(e!=null&&e.type)||!(e!=null&&e.id)||!(e!=null&&e.state)){console.warn("useAreaDragAndDrop - Missing required params for handleDragStart");return}const{type:M,id:L,state:P}=e;document.body.style.userSelect="none";const _=A.currentTarget.getBoundingClientRect();d.current={startX:A.clientX-_.left,startY:A.clientY-_.top,sourceId:L},h.current=performance.now();const j=document.createElement("div");j.style.width="1px",j.style.height="1px",j.style.position="fixed",j.style.top="-1px",j.style.left="-1px",j.style.opacity="0.01",j.style.pointerEvents="none",document.body.appendChild(j),A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("text/plain",JSON.stringify({type:"menubar",areaType:M,areaId:L})),A.dataTransfer.setDragImage(j,0,0),requestAnimationFrame(()=>{document.body.contains(j)&&document.body.removeChild(j),t({position:{x:A.clientX,y:A.clientY},area:{type:M,state:{...P,sourceId:L}}})}),document.addEventListener("dragover",C)},[e,t,C]),y=E.useCallback(A=>{A.dataTransfer.types.includes("karmyc/tab-drag-source")||(A.preventDefault(),A.dataTransfer.dropEffect="move")},[]),I=E.useCallback(A=>{let M;try{const j=A.dataTransfer.getData("text/plain");j&&(M=JSON.parse(j))}catch(j){console.warn("[DropZone] handleDrop - Could not parse drag data",j),o();return}if(M&&M.type==="tab"){console.warn('[DropZone] handleDrop - Received "tab" type drag, assuming handled by AreaTabs. Aborting here.'),o();return}if(A.preventDefault(),A.stopPropagation(),!M){console.warn("[DropZone] handleDrop - Invalid or missing source data type after tab check"),o();return}const L=M.areaId;let P=null;const _=document.elementsFromPoint(A.clientX,A.clientY);for(const j of _){if(j.classList.contains("global-drag-overlay")||j.classList.contains("areaToOpenContainer"))continue;const D=j.closest("[data-areaid]");if(D){const R=D.dataset.areaid;if(R&&R!=="-1"&&R!==L&&!Object.values(s).some(T=>T.type==="area_row"&&T.orientation==="stack"&&T.areas.some(O=>O.id===R))){P=R;break}}}if(!P){console.warn("[DropZone] handleDrop: no targetAreaId found"),o();return}try{if(v(A.clientX,A.clientY),Object.values(s).some(D=>D.type==="area_row"&&D.orientation==="stack"&&D.id===P)&&f==="stack"){const D=Object.values(s).find(R=>R.type==="area_row"&&R.orientation==="stack"&&R.id===P);if(D){const R=Object.values(s).find(T=>T.type==="area_row"&&T.areas.some(O=>O.id===L));if(R){const T=R.areas.filter(U=>U.id!==L),O=T.reduce((U,H)=>U+H.size,0),b=T.map(U=>({...U,size:O>0?U.size/O:1/T.length}));i({...R,areas:b})}const F={...D,areas:[...D.areas,{id:L,size:1}]};i(F),N.getState().updateArea({id:L,isLocked:!0}),o()}}else f==="stack"&&(N.getState().updateArea({id:L,isLocked:!0}),N.getState().updateArea({id:P,isLocked:!0})),r({targetId:P,placement:f}),o()}catch(j){console.error("[DropZone] handleDrop - Error during finalization:",j),o()}},[o,r,v,f,s,i]),z=E.useCallback(A=>{document.body.style.userSelect="",!(!d.current||(g.current&&cancelAnimationFrame(g.current),performance.now()-h.current<100))&&(d.current=null,o(),document.removeEventListener("dragover",C))},[o,C]);return E.useEffect(()=>()=>{g.current&&cancelAnimationFrame(g.current)},[]),{handleDragStart:x,handleDragOver:y,handleDragEnd:z,handleDrop:I,areaToOpenTargetId:w,areaToOpenTargetViewport:p,calculatedPlacement:f}},eS={lines:[],strokeWidth:3,color:"#000000",pastDiffs:[],futureDiffs:[]},tS=({id:e,viewport:t})=>{const n=N(_=>{var D;const j=(D=_.screens[_.activeScreenId])==null?void 0:D.areas;return j?j.areas[e]:void 0}),r=(n==null?void 0:n.spaceId)??null,{updateSharedState:o}=Un(),{undoSharedState:i,redoSharedState:s,getSpaceById:a}=B(),{sharedState:l,canUndo:c,canRedo:u}=B(Yv(_=>{var D,R,F,T;const j=r?_.spaces[r]:null;return{sharedState:(j==null?void 0:j.sharedState)??eS,canUndo:(((R=(D=j==null?void 0:j.sharedState)==null?void 0:D.pastDiffs)==null?void 0:R.length)??0)>0,canRedo:(((T=(F=j==null?void 0:j.sharedState)==null?void 0:F.futureDiffs)==null?void 0:T.length)??0)>0}})),{lines:d,strokeWidth:h,color:g}=l;Te("draw/addLine",_=>{var F,T;const{line:j,spaceId:D}=_;if(!D)return;const R=((T=(F=a(D))==null?void 0:F.sharedState)==null?void 0:T.lines)??[];o(D,{lines:[...R,j],actionType:"draw/addLine",payload:{line:j}})},{history:{enabled:!0,type:"draw/addLine",getDescription:()=>"Ajout d'une ligne",getPayload:_=>({line:_.line})}}),Te("draw/updateStrokeWidth",_=>{var F,T;const{width:j,spaceId:D}=_;if(!D)return;const R=(T=(F=a(D))==null?void 0:F.sharedState)==null?void 0:T.strokeWidth;o(D,{strokeWidth:j,actionType:"draw/updateStrokeWidth",payload:{oldValue:R,newValue:j}})},{history:{enabled:!0,type:"draw/updateStrokeWidth",getDescription:_=>`Modification de l'épaisseur : ${_.oldWidth} → ${_.width}`,getPayload:_=>({oldValue:_.oldWidth,newValue:_.width})}}),Te("draw/clearCanvas",_=>{var R,F;const{spaceId:j}=_;if(!j)return;const D=((F=(R=a(j))==null?void 0:R.sharedState)==null?void 0:F.lines)??[];o(j,{lines:[],actionType:"draw/clearCanvas",payload:{oldValue:D,newValue:[]}})},{history:{enabled:!0,type:"draw/clearCanvas",getDescription:()=>"Effacement du dessin",getPayload:_=>{var j,D;return{oldValue:((D=(j=a(_.spaceId))==null?void 0:j.sharedState)==null?void 0:D.lines)??[],newValue:[]}}}});const S=E.useRef(null),m=E.useCallback(_=>{if(!r)return;const j=parseInt(_.target.value);Q.executeAction("draw/updateStrokeWidth",{width:j,oldWidth:h,spaceId:r})},[r,h]),w=E.useCallback(()=>{r&&Q.executeAction("draw/clearCanvas",{spaceId:r})},[r]),p=E.useCallback(()=>{r&&i(r)},[r,i]),f=E.useCallback(()=>{r&&s(r)},[r,s]),{registerComponent:v}=qe(e,"bottom-outer");E.useMemo(()=>{v(()=>k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"white"},children:[k.jsx(zv,{}),k.jsx("input",{ref:S,id:`stroke-width-${e}`,type:"range",min:"1",max:"20",value:h,onChange:m,style:{width:"100px",cursor:"pointer",WebkitAppearance:"none",appearance:"none",height:"4px",borderRadius:"2px",background:"#ffffff"},className:"custom-range"}),k.jsx("span",{children:h})]}),{name:"topOuterSlot",type:"menu"},{order:990,width:"auto",alignment:"right"})},[e,m,h]);const{registerComponent:C}=qe(e,"bottom-inner");E.useMemo(()=>{C(()=>k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[k.jsx("button",{onClick:p,disabled:!c,children:k.jsx(Vv,{})}),k.jsx("button",{onClick:f,disabled:!u,children:k.jsx(Tv,{})}),k.jsx("button",{onClick:w,children:k.jsx(Xg,{})})]}),{name:"bottomInnerSlot",type:"menu"},{order:990,width:"auto",alignment:"center"})},[e,p,f,w,c,u]);const x=E.useRef(null),[y,I]=E.useState(!1),[z,A]=E.useState([]);E.useEffect(()=>{if(!x.current)return;const _=x.current,j=_.getContext("2d");if(!j)return;const D=Math.max(0,t.height-50);if(_.width=t.width,_.height=D,j.clearRect(0,0,_.width,_.height),!Array.isArray(d)){console.error(`[HistoryDrawingArea ${e}] Invalid drawingLines data detected (not an array):`,d);return}d.forEach((R,F)=>{if(!R||!Array.isArray(R.points)||R.points.length<2){console.warn(`[HistoryDrawingArea ${e}] Skipping invalid line data at index ${F}:`,R);return}j.beginPath(),j.moveTo(R.points[0].x,R.points[0].y);for(let T=1;T<R.points.length;T++)R.points[T]&&j.lineTo(R.points[T].x,R.points[T].y);j.strokeStyle=R.color,j.lineWidth=R.width,j.lineCap="round",j.lineJoin="round",j.stroke()})},[d,t.width,t.height,e]);const M=_=>{if(!x.current||!r)return;const D=x.current.getBoundingClientRect(),R=_.clientX-D.left,F=_.clientY-D.top;I(!0),A([{x:R,y:F}])},L=_=>{if(!y||!x.current||!r)return;const j=x.current,D=j.getBoundingClientRect(),R=_.clientX-D.left,F=_.clientY-D.top,T=[...z,{x:R,y:F}];A(T);const O=j.getContext("2d");if(!O||T.length<2)return;const b=T[T.length-2];O.beginPath(),O.moveTo(b.x,b.y),O.lineTo(R,F),O.strokeStyle=g,O.lineWidth=h,O.lineCap="round",O.lineJoin="round",O.stroke()},P=()=>{if(!y||z.length<2||!r){I(!1),A([]);return}I(!1);const _={id:`line-${Date.now()}`,points:z,color:g,width:h};Q.executeAction("draw/addLine",{line:_,spaceId:r}),A([])};return k.jsx("div",{style:{width:t.width,height:t.height,display:"flex",flexDirection:"column",background:"#ffffff",borderRadius:"4px",overflow:"hidden"},children:k.jsx("canvas",{ref:x,onMouseDown:M,onMouseMove:L,onMouseUp:P,onMouseLeave:P,style:{display:"block"}})})},nS=()=>{const{updateArea:e}=N.getState(),t=n=>{const r=n.areaId;r&&e({id:r,type:"draw-area",state:W.getInitialState("draw-area")})};return vn("draw-area",tS,{},{displayName:"Simple draw",defaultSize:{width:300,height:200},role:oe.LEAD,icon:fu,supportFullscreen:!0}),Te("area.create-draw-area",t),null},rS=({viewport:e})=>{const{activeSpaceId:t,createSpace:n,deleteSpace:r,setActive:o,updateSharedState:i,pilotMode:s,setPilotMode:a}=Un(),l=B().getAllSpaces(),c=Kr(N,f=>f.getAllAreas(),ir),[u,d]=E.useState(""),[h,g]=E.useState("#1890ff"),S=E.useMemo(()=>{const f={};for(const v in l)f[v]=[];return Object.values(c).forEach(v=>{const C=v.spaceId;C&&f[C]&&f[C].push(v)}),f},[l,c]),m=E.useMemo(()=>{const f=[];for(const v in l)if(Object.prototype.hasOwnProperty.call(l,v)){const C=l[v],x=S[v]||[];f.push({id:v,space:C,isActive:v===t,areasCount:x.length})}return f},[l,t,S]),w=()=>{u.trim()&&(n(u.trim(),{color:h}),d(""))},p=(f,v)=>{i(f,{color:v})};return k.jsx("div",{style:{width:e.width,height:e.height,padding:"1rem",display:"flex",flexDirection:"column",gap:"1rem",overflow:"auto"},children:k.jsxs("div",{style:{padding:"0.25rem",border:"1px solid #eee",borderRadius:"4px",background:"#f9f9f9",flex:1,overflowY:"auto"},children:[k.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem",padding:"0.5rem",borderBottom:"1px solid #eee"},children:k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[k.jsx("span",{children:"Pilot mode:"}),k.jsx("button",{onClick:()=>a(s==="MANUAL"?"AUTO":"MANUAL"),style:{padding:"0.25rem 0.5rem",borderRadius:"4px",border:"1px solid #ccc",background:s==="MANUAL"?"#1890ff":"white",color:s==="MANUAL"?"white":"black",cursor:"pointer"},children:s==="MANUAL"?"Manuel":"Automatique"})]})}),m.length===0&&k.jsx("p",{style:{color:"#999",fontStyle:"italic"},children:"No space created. Create your first space below."}),m.map(({id:f,space:v,isActive:C,areasCount:x})=>k.jsxs("div",{style:{padding:"1rem",marginBottom:"0.5rem",border:`2px solid ${C?"#1890ff":"#eee"}`,borderRadius:"4px",background:C?"#e6f7ff":"white",cursor:"pointer",transition:"all 0.2s"},onClick:()=>{o(f),a("MANUAL")},children:[k.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:[k.jsx("h4",{style:{margin:0},children:v.name}),k.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[k.jsx("input",{type:"color",value:v.sharedState.color||"#1890ff",onChange:y=>p(f,y.target.value),style:{height:"26px",width:"40px",padding:"0",border:"1px solid #ccc",borderRadius:"4px"},onClick:y=>y.stopPropagation()}),k.jsx("button",{onClick:y=>{y.stopPropagation(),window.confirm(`Supprimer l'espace "${v.name}" ?`)&&r(f)},style:{padding:"0.25rem 0.5rem",borderRadius:"4px",border:"none",background:"#ff4d4f",color:"white",cursor:"pointer"},children:"Delete"})]})]}),k.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:x===0?k.jsx("span",{style:{fontStyle:"italic"},children:"No area in this space"}):k.jsxs(k.Fragment,{children:[k.jsx("b",{children:x})," area",x>1?"s":""," in this space"]})})]},f)),k.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[k.jsx("input",{type:"text",value:u,onChange:f=>d(f.target.value),placeholder:"Space name",style:{padding:"0.5rem",borderRadius:"4px",border:"1px solid #ccc",flex:1}}),k.jsx("input",{type:"color",value:h,onChange:f=>g(f.target.value),style:{height:"38px",width:"50px",padding:"0",border:"1px solid #ccc",borderRadius:"4px"}}),k.jsx("button",{onClick:w,disabled:!u.trim(),style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"none",background:"#1890ff",color:"white",cursor:u.trim()?"pointer":"not-allowed",opacity:u.trim()?1:.6},children:"+"})]})]})})},oS=()=>{const{updateArea:e}=N.getState(),{registerComponent:t}=qe("space-manager-area","bottom-outer"),n=B().getAllSpaces(),r=o=>{const i=o.areaId;i&&e({id:i,type:"space-manager-area",state:W.getInitialState("space-manager-area")})};return E.useMemo(()=>{t(()=>k.jsxs("div",{style:{color:"white"},children:[Object.keys(n).length," available space",Object.keys(n).length>1?"s":""]}),{name:"bottomOuterSlot",type:"menu"},{order:990,width:"auto",alignment:"center"})},[t]),vn("space-manager-area",rS,{},{displayName:"Space Manager",defaultSize:{width:400,height:500},supportedActions:["delete","move","resize"],role:oe.SELF,icon:lv}),Te("area.create-space-manager-area",r),null};function iS(e){const t=parseInt(e.substring(1,3),16),n=parseInt(e.substring(3,5),16),r=parseInt(e.substring(5,7),16);return(.299*t+.587*n+.114*r)/255>.5?"#000000":"#ffffff"}const sS=({id:e,state:t,viewport:n,targetSpace:r})=>{var f,v,C,x;const{activeSpaceId:o,updateSharedState:i}=Un(),s=N(),a=s.activeScreenId,l=((f=s.screens[a])==null?void 0:f.areas.areas)||{},c=(v=s.screens[a])==null?void 0:v.areas.lastLeadAreaId,[u,d]=E.useState(r||o||"");E.useEffect(()=>{c&&u!==c&&d(c)},[c]);const h=c?l[c]:null,g=h==null?void 0:h.spaceId,S=B(),w=(g?(x=(C=S.spaces[g])==null?void 0:C.sharedState)==null?void 0:x.color:void 0)||t.color||"#ffffff",p=y=>{var L,P;const I=N.getState().activeScreenId,z=(L=N.getState().screens[I])==null?void 0:L.areas.lastLeadAreaId,A=((P=N.getState().screens[I])==null?void 0:P.areas.areas)||{},M=z?A[z]:null;M!=null&&M.spaceId&&i(M.spaceId,{color:y})};return k.jsxs("div",{style:{width:n.width,height:n.height},children:[k.jsx("style",{children:`
                input.color-picker::-webkit-color-swatch {
                    border: 0 none;
                    }
                input.color-picker::-moz-color-swatch {
                    border: 0 none;
                    }
                `}),k.jsx("input",{className:"color-picker",type:"color",value:w,onChange:y=>p(y.target.value),style:{width:"100%",height:"100%",border:"0 none",borderColor:w,cursor:"pointer",padding:"0",backgroundColor:w,outline:"0 none"}}),k.jsx("div",{style:{fontSize:"1.25rem",color:iS(w),position:"absolute",top:"0",left:"0",height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",textAlign:"center",pointerEvents:"none"},children:k.jsx("code",{children:w})})]})},aS=()=>{const{updateArea:e}=N.getState(),t=n=>{const r=n.areaId;r&&e({id:r,type:"color-picker-area",state:W.getInitialState("color-picker-area")})};return vn("color-picker-area",sS,{},{displayName:"Color Picker",defaultSize:{width:300,height:200},role:oe.FOLLOW,icon:Fp}),Te("area.create-color-picker-area",t),null},lS=({state:e,targetSpace:t})=>{var g,S,m,w;const{activeSpaceId:n}=Un(),r=N(),o=r.activeScreenId,i=((g=r.screens[o])==null?void 0:g.areas.areas)||{},s=(S=r.screens[o])==null?void 0:S.areas.lastLeadAreaId,[a,l]=E.useState(t||n||"");E.useEffect(()=>{s&&a!==s&&l(s)},[s]);const c=s?i[s]:null,u=c==null?void 0:c.spaceId,d=B(),h=u?(w=(m=d.spaces[u])==null?void 0:m.sharedState)==null?void 0:w.color:void 0;return k.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center",padding:"1rem",background:"#fff",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)"},children:[k.jsxs("div",{children:[k.jsx("strong",{children:"LEAD area"})," : ",c?`${c.type} (id : ${c.id})`:"Aucune"]}),k.jsxs("div",{children:[k.jsx("strong",{children:"Espace du LEAD"})," : ",u||"Aucun"]}),k.jsxs("div",{children:["Couleur du space du LEAD : ",k.jsx("span",{style:{color:h},children:h||"N/A"})]})]})},uS=()=>{const{updateArea:e}=N.getState(),t=n=>{const r=n.areaId;r&&e({id:r,type:"debug-area",state:W.getInitialState("debug-area")})};return vn("debug-area",lS,{},{displayName:"Debug",defaultSize:{width:300,height:200},role:oe.FOLLOW,icon:Fp}),Te("area.create-debug-area",t),null},cS=""+new URL("icon-CwewC0cV.svg",import.meta.url).href,dS=({})=>{const{registerComponent:e}=qe("apptitle","top-outer"),{registerComponent:t}=qe("app","top-outer"),{registerComponent:n}=qe("app","bottom-outer");return E.useMemo(()=>{n(()=>k.jsx("div",{style:{color:"white",padding:"8px"},children:"Screen management 💪==>"}),{name:"screen-status-bar",type:"status"},{order:990,alignment:"right",width:"auto"}),t(()=>k.jsx(g0,{}),{name:"topOuterLeftSlot",type:"menu"},{order:990,width:"auto",alignment:"left"}),t(()=>k.jsx(B0,{}),{name:"topOuterLayoutSlot",type:"menu"},{order:991,width:"auto",alignment:"left"}),e(()=>{const{activeSpaceId:r,getSpaceById:o}=Un(),i=r?o(r):null;return k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"white"},children:[k.jsx("img",{src:cS,style:{width:"28px",height:"28px"}}),k.jsx("strong",{children:"Karmyc core Demo"}),i&&k.jsx("span",{style:{marginLeft:"8px",opacity:.7},children:i.name})]})},{name:"topOuterLeftSlot",type:"menu"},{order:990,width:"auto",alignment:"left"}),e(()=>k.jsx("a",{href:"https://github.com/yannloosli/karmyc",target:"_blank",style:{display:"flex",alignItems:"center"},children:k.jsx("svg",{viewBox:"0 0 24 24",style:{width:"28px",height:"28px",fill:"white"},children:k.jsx("path",{d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})})}),{name:"github_link",type:"link"},{order:990,width:"auto",alignment:"right"})},[n,t,e]),k.jsxs(k.Fragment,{children:[k.jsx(K0,{}),k.jsx(Y0,{}),k.jsx(X0,{}),k.jsx(aS,{}),k.jsx(uS,{}),k.jsx(q0,{}),k.jsx(nS,{}),k.jsx(oS,{})]})};function fS(e,t){const n=Math.abs(t.x),r=Math.abs(t.y),o=n>r,i=r>n;if(o)switch(e){case"ne":case"se":return t.x<0;case"nw":case"sw":return t.x>0}else if(i)switch(e){case"ne":case"nw":return t.y>0;case"se":case"sw":return t.y<0}switch(e){case"ne":return t.x<0&&t.y>0;case"nw":return t.x>0&&t.y>0;case"se":return t.x<0&&t.y<0;case"sw":return t.x>0&&t.y<0;default:return console.warn("Direction de coin inconnue dans determineIfMovingInwards:",e),!1}}const pS=(e,t,n,r,o,i)=>{var z;if((z=N.getState().screens[N.getState().activeScreenId])==null?void 0:z.areas.isDetached)return;e.preventDefault();const a=ve.fromEvent(e);let l=a,c=null,u=null;const d=()=>{var M;const A=N.getState();return(M=A.screens[A.activeScreenId])==null?void 0:M.areas},h=d();if(!h){console.error("handleAreaDragFromCorner: Could not get active screen state.");return}const g=h.layout,S=h.rootId;if(!S||!g||!g[S]){console.error("handleAreaDragFromCorner: Invalid initial active screen state (rootId or layout missing/invalid)");return}const w=An(g)[n];function p(A){const M=A?r.width:r.height,L=Hi*2;if(M<L){v(),c&&c(l);return}const P=N.getState().getAreaById(n);if(!P){console.error("Source area data not found");return}const _=N.getState().splitArea({areaIdToSplit:n,parentRowId:w,horizontal:A,corner:t});if(!_||!_.newRowId||_.separatorIndex===void 0){console.error("Failed to split area or get split result info. Switching to join/move."),v(),c&&c(l);return}const{newRowId:j,separatorIndex:D}=_;setTimeout(()=>{const F=d();if(!F){console.error("Failed to get active screen state after split");return}const T=F.layout[j];if(!T||T.type!=="area_row"){console.error(`Split seemed successful but row ${j} not found or not a row in active screen state.`);return}if(!T.areas.every(H=>H.size>=.1)){console.error("Invalid sizes detected in new row layout");return}const b=T.areas[D].id;N.getState().updateArea({id:b,type:P.type,state:{...P.state}});const U=T.areas.map(()=>1/T.areas.length);N.getState().setRowSizes({rowId:j,sizes:U}),f(T,D,o),c&&c(l)},0)}function f(A,M,L){var Z,ne;const P=A.orientation==="horizontal",_=(Z=A.areas[M-1])==null?void 0:Z.id,j=(ne=A.areas[M])==null?void 0:ne.id;if(!_||!j){console.error("Cannot set up resize handlers: invalid separator index or missing areas.",{rowToResize:A,sepIndex:M}),c=null,u=()=>{};return}const D=A.areas.map(X=>X.size),R=D[M-1]+D[M];if(R<=0){console.error("Invalid total size for resize operation"),c=null,u=()=>{};return}let F=null;const T=75;let O=.5;const b=X=>{if(X.some(ye=>ye<.1)){console.warn("Invalid sizes detected, adjusting to minimum values");const ye=X.map(ie=>Math.max(ie,.1)),Me=ye.reduce((ie,fe)=>ie+fe,0),ue=ye.map(ie=>ie/Me);N.getState().setRowSizes({rowId:A.id,sizes:ue})}else N.getState().setRowSizes({rowId:A.id,sizes:X})},U=X=>{F!==null&&clearTimeout(F),F=setTimeout(()=>{F=null,b(X)},T)},H=()=>{F!==null&&(clearTimeout(F),F=null)};c=X=>{const re=d();if(!re)return;const q=re.layout,ye=q[A.id],Me=re.rootId;if(!ye||!Me||ye.type!=="area_row"){console.warn("Resize handler: Row or rootId not found/invalid in current active screen state.");return}const ue=Ir(q,Me,Io()),ie=ue[_],fe=ue[j];if(!ie||!fe){console.warn("Resize handler: Viewports for adjacent areas not found.");return}const Re=P?{left:ie.left,top:ie.top,width:ie.width+fe.width,height:ie.height}:{left:ie.left,top:ie.top,width:ie.width,height:ie.height+fe.height},Ke=P?Re.width:Re.height;if(Ke<=0){console.warn("Resize handler: Shared viewport size is zero or negative.");return}const Sn=Math.max(.1,Hi/Ke),ce=P?Re.left:Re.top,ht=ce+Ke,Qe=P?X.x:X.y,bt=Ap(Sn,1-Sn,(Qe-ce)/(ht-ce));O=bt,L({rowId:A.id,separatorIndex:M,t:bt});const De=bt*R,No=(1-bt)*R,wn=ye.areas.map((It,Pt)=>Pt===M-1?De:Pt===M?No:It.size),Ye=.1;if(wn.some(It=>It<Ye)){console.warn("Invalid sizes detected in preview, adjusting to minimum values");const It=wn.map(Ge=>Math.max(Ge,Ye)),Pt=It.reduce((Ge,Po)=>Ge+Po,0),xn=It.map(Ge=>Ge/Pt);U(xn)}else{const It=wn.reduce((Pt,xn)=>Pt+xn,0);if(It>0){const Pt=wn.map(xn=>xn/It);U(Pt)}else console.warn("Resize handler: Debounce skipped, zero total size.")}},u=()=>{var ie;H();const X=O*R,re=(1-O)*R,q=(ie=d())==null?void 0:ie.layout[A.id];if(!q||q.type!=="area_row"){console.error("Resize mouseup: Cannot find final row state."),L(null),c=null,u=null;return}const ye=q.areas.map((fe,Re)=>Re===M-1?X:Re===M?re:fe.size),Me=ye.reduce((fe,Re)=>fe+Re,0);let ue=ye;if(Me>0)ue=ye.map(fe=>fe/Me);else{console.error("Resize mouseup: Final total size is zero, cannot normalize. Using equal distribution as fallback.");const fe=q.areas.length;ue=Array(fe).fill(1/fe)}b(ue),setTimeout(()=>L(null),0),c=null,u=null}}function v(){const A=w?g[w]:null;if(!A||A.type!=="area_row"){console.error("Join/Move setup: Source area does not have a valid parent row. Cannot determine siblings."),c=null,u=()=>{N.getState().setJoinPreview(null)};return}const M=A.areas.findIndex(D=>D.id===n);if(M===-1){console.error(`Join/Move setup: Source area ${n} not found within its supposed parent row ${w}.`),c=null,u=()=>{N.getState().setJoinPreview(null)};return}const L=A.areas.filter((D,R)=>R!==M).map(D=>D.id),P=M>0?A.areas[M-1].id:null,_=M<A.areas.length-1?A.areas[M+1].id:null,j=[P,_].filter(D=>D!==null);c=D=>{var H;const R=d();if(!R)return;const F=R.layout,T=R.rootId;if(!T)return;const O=Ir(F,T,Io());let b=null,U=null;for(const Z of j){const ne=O[Z];if(ne&&D.x>=ne.left&&D.x<=ne.left+ne.width&&D.y>=ne.top&&D.y<=ne.top+ne.height){b=Z;const X=O[n];if(X){const re=ne,q=re.left+re.width/2-(X.left+X.width/2),ye=re.top+re.height/2-(X.top+X.height/2);A.orientation==="horizontal"?U=q>0?"e":"w":U=ye>0?"s":"n"}break}}b&&U?N.getState().setJoinPreview({areaId:b,movingInDirection:U,eligibleAreaIds:L}):((H=d())==null?void 0:H.joinPreview)!==null&&N.getState().setJoinPreview(null)},u=()=>{var F;const D=d(),R=D==null?void 0:D.joinPreview;R&&R.areaId&&R.movingInDirection&&j.includes(R.areaId)&&N.getState().joinOrMoveArea({sourceAreaId:n,targetAreaId:R.areaId,direction:R.movingInDirection}),((F=d())==null?void 0:F.joinPreview)!==null&&N.getState().setJoinPreview(null),c=null,u=null}}let C=!1;const x=A=>{const M=new ve(A.x-a.x,A.y-a.y);if(M.length()<10)return;window.removeEventListener("mousemove",y),window.removeEventListener("mouseup",I);const P=fS(t,M),_=Math.abs(M.x),j=Math.abs(M.y),D=_>j;P?p(D):v(),C=!0,c&&c(A)},y=A=>{const M=ve.fromEvent(A);l=M,C?c&&c(M):x(M)},I=A=>{var M;document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",I),C?u?u():console.warn("Mouse up, direction determined but no final handler set."):((M=d())==null?void 0:M.joinPreview)!==null&&N.getState().setJoinPreview(null)};document.addEventListener("mousemove",y),document.addEventListener("mouseup",I)};class hS extends rt.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Area error:",t,n)}render(){var n;if(this.state.hasError)return k.jsxs("div",{style:{position:"absolute",left:this.props.viewport.left,top:this.props.viewport.top,width:this.props.viewport.width,height:this.props.viewport.height,backgroundColor:"#fff5f5",border:"1px solid #feb2b2",borderRadius:"4px",padding:"16px",color:"#c53030"},children:[k.jsx("h3",{children:pt().t("area.error.title","Une erreur est survenue dans la zone")}),k.jsx("p",{children:(n=this.state.error)==null?void 0:n.message})]});const t=this.props.component;return k.jsx("div",{"data-areatype":this.props.type,children:k.jsx(t,{id:this.props.areaId,state:this.props.areaState,type:this.props.type,viewport:this.props.viewport,Component:t})})}}const mS=rt.memo(({rowId:e,row:t,areas:n})=>{const r=N(w=>w.updateLayout),o=N(w=>w.setActiveArea);N(w=>{var p;return(p=w.screens[w.activeScreenId])==null?void 0:p.areas.activeAreaId});const{t:i}=pt(),[s,a]=E.useState({targetId:null,position:null}),[l,c]=E.useState(null),u=w=>{const p=n[w];p&&(r({id:e,activeTabId:w}),o(w),p.spaceId&&B.getState().setActiveSpace(p.spaceId))},d=(w,p)=>{w.stopPropagation(),c(p),w.dataTransfer.setData("text/plain",JSON.stringify({type:"tab",areaId:p,sourceRowId:e})),w.dataTransfer.setData("karmyc/tab-drag-source","true"),w.dataTransfer.effectAllowed="move"},h=(w,p)=>{if(w.dataTransfer.types.includes("karmyc/tab-drag-source")){w.preventDefault(),w.dataTransfer.dropEffect="move";const v=w.currentTarget.getBoundingClientRect(),C=v.left+v.width/2,x=w.clientX<C?"before":"after";(s.targetId!==p||s.position!==x)&&a({targetId:p,position:x})}},g=w=>{w.currentTarget.contains(w.relatedTarget)||a({targetId:null,position:null})},S=(w,p)=>{try{const f=w.dataTransfer.getData("text/plain");if(!f){a({targetId:null,position:null});return}const v=JSON.parse(f);if(v.type==="tab"&&v.sourceRowId===e){w.preventDefault(),w.stopPropagation();const C=v.areaId,{targetId:x,position:y}=s;if(C===p&&x!==p){a({targetId:null,position:null});return}if(C===p&&x===p&&y===null){a({targetId:null,position:null});return}const I=[...t.areas],z=I.findIndex(_=>_.id===C),A=t.areas.findIndex(_=>_.id===p);if(z===-1||A===-1){a({targetId:null,position:null});return}const[M]=I.splice(z,1);let L=A;z<A&&L--,C===p&&(L=z);let P=L;x===p&&y==="after"&&(P=L+1),I.splice(P,0,M),r({id:e,areas:I,activeTabId:t.activeTabId})}}catch(f){console.error("Error handling tab drop:",f)}a({targetId:null,position:null}),c(null)},m=w=>{c(null),a({targetId:null,position:null})};return k.jsx("div",{className:"area-tabs",onDragLeave:g,children:t.areas.map(({id:w})=>{const p=n[w];if(!p)return null;const f=t.activeTabId===w,C=s.targetId===w?`drop-indicator-${s.position}`:"",x=l===w;return k.jsxs("div",{className:`area-tab ${f?"area-tab--active":""} ${C} ${x?"is-dragging-source":""}`,onClick:()=>u(w),draggable:p.isLocked,onDragStart:y=>p.isLocked?d(y,w):void 0,onDragOver:y=>h(y,w),onDrop:y=>S(y,w),onDragEnd:m,"data-areaid":w,children:[k.jsx("span",{className:"area-tab-label",children:i(`area.tab.${p.type}`,`Area: ${p.type}`)}),k.jsx("button",{className:"area-tab-close",onClick:y=>{y.stopPropagation(),u(w)},title:i("area.tab.close","Close"),children:"×"})]},w)})})}),yS=rt.memo(({id:e,layout:t,areas:n,viewport:r,setResizePreview:o})=>{var l;const i=t.activeTabId||((l=t.areas[0])==null?void 0:l.id),s=i?n[i]:null;if(!s)return null;const a=W.getComponent(s.type);return a?k.jsxs("div",{className:"area-stack",style:{left:r.left,top:r.top,width:r.width,height:r.height},"data-areaid":e,children:[k.jsx(mS,{rowId:t.id,row:t,areas:n}),k.jsx("div",{className:"area-stack__content",children:k.jsx(vu,{isChildOfStack:!0,id:i,Component:a,state:s.state,type:s.type,viewport:{left:0,top:0,width:r.width,height:r.height},setResizePreview:o,raised:!!s.raised})})]}):null}),gS=()=>W._roleMap||{},sh=()=>{const{t:e}=pt();ps();const t=Ve(h=>h.isVisible&&h.menuType==="custom"),n=Ve(h=>h.position),r=Ve(h=>h.closeContextMenu),o=Ve(h=>h.targetId)||"",i=gS(),s=Array.from(W.getRegisteredTypes()),a=B(h=>h.spaces),l=B(h=>h.activeSpaceId),c=[{role:oe.LEAD,title:e("area.role.lead","LEAD"),items:[]},{role:oe.FOLLOW,title:e("area.role.follow","FOLLOW"),items:[]},{role:oe.SELF,title:e("area.role.self","SELF"),items:[]}];s.forEach(h=>{const g=i[h]||oe.SELF,S=c.find(m=>m.role===g);S&&S.items.push(h)});const u=h=>{N.getState().updateArea({id:o,type:h}),r&&r()},d=h=>{N.getState().updateArea({id:o,spaceId:h}),r&&r()};return Te("switch-area-type",h=>{h!=null&&h.areaId&&(h!=null&&h.newType)&&console.log(e("area.switch.log",`Switching area ${h.areaId} to type ${h.newType}`))}),k.jsx(gu,{anchorPoint:n,state:t?"open":"closed",onClose:r,transition:!0,direction:"right",menuClassName:"switch-area-type-context-menu",children:c.map(h=>k.jsxs("div",{style:{flex:1,margin:"0 8px",width:"250px"},children:[k.jsx("div",{style:{padding:"4px 0 16px",marginBottom:8,textAlign:"left",borderBottom:"2px ridge #444",paddingBottom:4},children:h.title}),h.items.map(g=>{const S=W.getIcon(g);return k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",marginBottom:4},onClick:()=>u(g),onMouseDown:m=>m.preventDefault(),children:[k.jsx(S,{style:{width:16,height:16}}),e(`area.type.${g}`,W.getDisplayName(g))]},g)}),h.role===oe.LEAD&&k.jsxs(k.Fragment,{children:[k.jsx("div",{style:{padding:"4px 0 16px",marginTop:16,marginBottom:8,textAlign:"left",borderBottom:"2px ridge #444",paddingBottom:4},children:e("area.spaces.title","SPACES")}),Object.entries(a).map(([g,S])=>{var m;return k.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",marginBottom:4,backgroundColor:g===l?"rgba(255, 255, 255, 0.1)":"transparent",padding:"4px 8px",borderRadius:4},onClick:()=>d(g),onMouseDown:w=>w.preventDefault(),children:[k.jsx("div",{style:{width:12,height:12,borderRadius:"50%",backgroundColor:((m=S.sharedState)==null?void 0:m.color)||"#666"}}),e(`space.${g}.name`,S.name)]},g)})]})]},h.role))})},vS=({state:e,type:t,id:n,style:r})=>{var z,A,M,L,P;const[o,i]=E.useState(!1),s=N(_=>_.updateArea),a=N(_=>{var j;return((j=_.getAreaById(n))==null?void 0:j.isLocked)||!1}),l=N(_=>{var j;return((j=_.options)==null?void 0:j.manageableAreas)??!0}),c=N(_=>_.getAreaById(n)),u=(c==null?void 0:c.enableFullscreen)??!1,d=((z=W._supportFullscreenMap)==null?void 0:z[t])??!1;N(_=>_.updateLayout),N(_=>{var j;return(j=_.screens[_.activeScreenId])==null?void 0:j.areas.rootId});const{handleDragStart:h,handleDragOver:g,handleDrop:S,handleDragEnd:m}=ih({type:t,id:n,state:e}),w=Ve(_=>_.openCustomContextMenu),p=E.useRef(null);E.useRef(null);const f=_=>{if(l&&p.current){const j=p.current.getBoundingClientRect();w({targetId:n,position:{x:j.left,y:j.top},component:k.jsx(sh,{})})}},v=B(_=>_.getSpaceById((c==null?void 0:c.spaceId)||""));let C=((A=v==null?void 0:v.sharedState)==null?void 0:A.color)||"#0000ff";if((c==null?void 0:c.role)==="FOLLOW"){const _=N.getState().activeScreenId,j=(M=N.getState().screens[_])==null?void 0:M.areas.lastLeadAreaId,D=((L=N.getState().screens[_])==null?void 0:L.areas.areas)||{},R=j?D[j]:null,F=R==null?void 0:R.spaceId;if(F){const T=B.getState().spaces[F];T&&((P=T.sharedState)!=null&&P.color)&&(C=T.sharedState.color)}}const x=_=>{l&&(_.stopPropagation(),N.getState().detachArea(n))},y=_=>{l&&(_.stopPropagation(),N.getState().removeArea(n))},I=_=>{var D,R;if(!l)return;_.stopPropagation();const j=document.querySelector(`[data-areaid="${n}"]`);if(j)if(u)document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen(),s({id:n,enableFullscreen:!1,previousLayout:void 0,previousRootId:void 0});else{const F=(D=N.getState().screens[N.getState().activeScreenId])==null?void 0:D.areas.layout,T=(R=N.getState().screens[N.getState().activeScreenId])==null?void 0:R.areas.rootId;s({id:n,enableFullscreen:!0,previousLayout:F,previousRootId:T}),j.requestFullscreen?j.requestFullscreen():j.webkitRequestFullscreen?j.webkitRequestFullscreen():j.msRequestFullscreen&&j.msRequestFullscreen();const O=()=>{!document.fullscreenElement&&!document.webkitFullscreenElement&&!document.msFullscreenElement&&(s({id:n,enableFullscreen:!1,previousLayout:void 0,previousRootId:void 0}),document.removeEventListener("fullscreenchange",O),document.removeEventListener("webkitfullscreenchange",O),document.removeEventListener("msfullscreenchange",O))};document.addEventListener("fullscreenchange",O),document.addEventListener("webkitfullscreenchange",O),document.addEventListener("msfullscreenchange",O)}};return k.jsxs("div",{className:"select-area-button",draggable:l&&!a&&!u,onDragStart:_=>{!l||u||(i(!0),h(_),requestAnimationFrame(()=>{p.current&&(p.current.style.pointerEvents="none",p.current.style.opacity="0.5")}))},onDragOver:_=>{!l||u||g(_)},onDrop:_=>{!l||u||o||S(_)},onDragEnd:_=>{!l||u||(i(!1),p.current.style.pointerEvents="auto",p.current.style.opacity="1",m(_))},onContextMenu:_=>{!l||u||(_.preventDefault(),f())},style:{cursor:!l||u||a?"default":o?"grabbing":"grab","--space-color":C,pointerEvents:"auto",height:vt+"px",...r},ref:p,children:[k.jsxs("div",{className:"select-area-button__main",children:[E.createElement(W.getIcon(t),{className:"select-area-button__icon",style:{color:C}}),W.getDisplayName(t)]}),k.jsxs("div",{className:"select-area-button__action-icons",children:[l&&!a&&k.jsxs(k.Fragment,{children:[k.jsx("button",{className:"select-area-icons select-area-button__detach",onClick:x,children:k.jsx(Lp,{})}),k.jsx("button",{className:"select-area-icons select-area-button__close",onClick:y,children:k.jsx(Up,{})})]}),l&&k.jsxs(k.Fragment,{children:[d&&k.jsx("button",{className:"select-area-icons select-area-button__fullscreen",onClick:I,children:u?k.jsx(Iv,{}):k.jsx(xv,{})}),k.jsx("button",{className:`select-area-icons select-area-button__lock-icon ${a?"locked":""}`,onClick:_=>{_.stopPropagation(),s({id:n,isLocked:!a})},children:a?k.jsx(Sv,{}):k.jsx(gv,{})})]})]})]})},vu=({id:e,Component:t,state:n,type:r,viewport:o,raised:i,isChildOfStack:s=!1,setResizePreview:a})=>{o||(console.warn(`No viewport found for area ${e}, using default viewport`),o={left:0,top:0,width:100,height:100});const l=N(x=>{var y;return((y=x.screens[x.activeScreenId])==null?void 0:y.areas.activeAreaId)===e}),c=N(x=>x.setActiveArea),u=E.useRef(null),d=N(x=>x.getAreaById(e)),h=B(x=>x.setActiveSpace),g=B(x=>x.activeSpaceId),S=B(x=>x.pilotMode),m=B(x=>x.spaces),w=N(x=>{var y;return((y=x.options)==null?void 0:y.resizableAreas)??!0}),p=N(x=>{var y;return((y=x.options)==null?void 0:y.manageableAreas)??!0});E.useEffect(()=>{var x,y;if(g)if(S==="AUTO"&&(d==null?void 0:d.role)===oe.FOLLOW){const I=N.getState().activeScreenId,z=(x=N.getState().screens[I])==null?void 0:x.areas.lastLeadAreaId,A=((y=N.getState().screens[I])==null?void 0:y.areas.areas)||{},M=z?A[z]:null;M&&M.spaceId===g&&c(M.id)}else S==="MANUAL"&&(d==null?void 0:d.spaceId)!==g&&N.getState().updateArea({id:e,spaceId:g})},[g,d==null?void 0:d.role,S]);const f=()=>{if(!l&&(c(e),(d==null?void 0:d.role)===oe.LEAD&&S!=="MANUAL"))if(d.spaceId)h(d.spaceId);else{const x=Object.keys(m);if(x.length>0){const y=g||x[0];N.getState().updateArea({id:e,spaceId:y}),h(y)}else{const y=B.getState().addSpace({name:`Space for ${d.type}`,sharedState:{}});y&&(N.getState().updateArea({id:e,spaceId:y}),h(y))}}},v=N(x=>x.activeScreenId),C=N(x=>{var y;return(y=x.screens[v])==null?void 0:y.isDetached})||!1;return k.jsxs(cg.Provider,{value:e,children:[!C&&!s&&k.jsx(vS,{id:e,state:n,type:r}),k.jsx(sl,{areaId:e,areaType:r,areaState:n,viewport:o,children:k.jsxs("div",{ref:u,"data-areaid":e,className:`area ${i?"area--raised":""}`,style:{width:"100%",height:C||d!=null&&d.enableFullscreen?"100%":`calc(${typeof o.height=="string"?o.height:o.height+"px"} - ${vt}px)`},onClick:f,children:[!C&&!s&&w&&p&&["ne","nw","se","sw"].map(x=>k.jsx("div",{className:`area__corner area__corner--${x}`,onMouseDown:y=>pS(y.nativeEvent,x,e,o,a)},x)),k.jsx("div",{className:`area-main-content-wrapper ${r}`,"data-areatype":r,style:{opacity:l?1:.9,height:"100%",width:d!=null&&d.enableFullscreen?"100vw":"100%",top:d!=null&&d.enableFullscreen?0:"auto",left:d!=null&&d.enableFullscreen?0:"auto",zIndex:d!=null&&d.enableFullscreen?9999:"auto"},children:k.jsx(hS,{component:t,areaId:e,areaState:n,type:r,viewport:{left:0,top:0,width:d!=null&&d.enableFullscreen?window.innerWidth:o.width,height:d!=null&&d.enableFullscreen?window.innerHeight:o.height-(C?0:vt)}})})]})})]})},SS=rt.memo(({id:e,viewport:t,setResizePreview:n})=>{const r=N(P=>P.getAreaById(e)),o=N(P=>{var _;return(_=P.screens[P.activeScreenId])==null?void 0:_.areas.layout[e]}),i=N(P=>{var _;return(_=P.screens[P.activeScreenId])==null?void 0:_.areas.areas}),s=N(P=>P.activeScreenId),a=N(P=>{var _;return(_=P.screens[s])==null?void 0:_.isDetached})||!1,l=N(P=>{var j;const _=(j=P.screens[P.activeScreenId])==null?void 0:j.areas.layout;if(!_)return!1;for(const[,D]of Object.entries(_))if(D.type==="area_row"&&D.orientation==="stack"&&D.areas.some(R=>R.id===e))return!0;return!1}),c=(o==null?void 0:o.type)==="area_row",u=c?o:null,d=c&&u.orientation==="stack",h=c&&!d,g=r!=null&&r.type?W.getComponent(r.type):null;let S=e,m=r,w=g;d&&(u.activeTabId?(S=u.activeTabId,m=i==null?void 0:i[S],w=m!=null&&m.type?W.getComponent(m.type):null):(m=void 0,w=null));const{getComponents:p}=qe((m==null?void 0:m.type)||"","top-outer"),{getComponents:f}=qe((m==null?void 0:m.type)||"","bottom-outer"),v=p(),C=f(),x=v.length>0,y=C.length>0,I=x?vt:0,z=y?vt:0,A=E.useMemo(()=>a?t:{...t,top:t.top,height:t.height-(I+z)},[t,a,I,z,e]),M=E.useMemo(()=>({left:0,top:0,width:t.width||0,height:A.height||0}),[t.width,A.height]),L={position:"absolute",left:`${t.left||0}px`,top:a?"0px":`${A.top||0}px`,width:`${t.width||0}px`,height:a?"100%":`${t.height||0}px`,boxSizing:"border-box",overflow:"hidden"};return l&&!d?null:(!e.includes("row-")||d)&&e!=="root"&&k.jsxs("div",{className:"area-container "+e,style:L,"data-areaid":e,"data-areatype":d?"stack-row":h?`${u==null?void 0:u.orientation}-row`:(r==null?void 0:r.type)||"unknown-leaf",children:[d&&u&&k.jsx(yS,{id:e,areas:i,layout:u,viewport:M,setResizePreview:n}),!c&&w&&m&&k.jsx(vu,{id:m.id,Component:w,state:m.state,type:m.type,viewport:M,raised:!!m.raised,setResizePreview:n,isChildOfStack:!1})]})});function wS(e,t){document.body.style.userSelect="none";const n=o=>{e(o)},r=()=>{document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",r),document.body.style.userSelect="",t()};document.addEventListener("mousemove",n),document.addEventListener("mouseup",r)}const xS=(e,t,n,r,o)=>{var O,b;if((O=N.getState().screens[N.getState().activeScreenId])==null?void 0:O.areas.isDetached)return;if(!t||!t.areas||t.areas.length===0){console.error("Invalid row data for resize");return}if(r<1||r>=t.areas.length){console.error("Invalid areaIndex for resize:",{areaIndex:r,areasLength:t.areas.length});return}const s=N.getState(),a=s.activeScreenId,l=(b=s.screens[a])==null?void 0:b.areas;if(!l||!l.layout||!l.rootId){console.error("Invalid active screen area state for resize:",l);return}const c=l.layout,u=l.rootId,d=dg(u,c),h=Io();if(!h){console.error("Unable to get root viewport");return}const g=Ir(c,u,h),S=t.areas[r-1],m=t.areas[r];if(!S||!m){console.error("Invalid area indices:",{areaIndex:r,areas:t.areas});return}let w=g[S.id],p=g[m.id];if(!w||!p){console.error("Missing initial viewports:",{a0:S.id,a1:m.id,viewports:g});return}const f=U=>{const H=c[U];if(!H||H.type==="area")return 1;const Z=d[H.id];return n?(Z==null?void 0:Z.width)??1:(Z==null?void 0:Z.height)??1},v=f(S.id),C=f(m.id);let x=S.size+m.size;(isNaN(x)||x<=0)&&(x=1);const y={width:n?w.width+p.width:w.width,height:n?w.height:w.height+p.height,left:w.left,top:w.top},I=n?y.width:y.height;if(I<=0){console.error("Invalid viewport size:",I);return}const z=Hi*v/I,A=Hi*C/I;if(z+A>=.99){console.warn("Not enough space to resize:",{tMin0:z,tMin1:A});return}let M=0;const L=16;let P=null,_=null;const j=U=>{const H=performance.now();H-M<L||(M=H,N.getState().setRowSizes({rowId:t.id,sizes:U}))},D=U=>{if(!_){_=U;return}const H=n?y.left:y.top,Z=n?y.left+y.width:y.top+y.height,ne=n?U.x:U.y,X=Ap(z,1-A,(ne-H)/(Z-H));o({rowId:t.id,separatorIndex:r,t:X});const re=[X,1-X].map(q=>tl(0,x,q));if(!re.some(q=>isNaN(q)||q<0)){const q=t.areas.map((Me,ue)=>{var fe,Re;if(ue===r-1)return re[0];if(ue===r)return re[1];const ie=c[t.id];return((Re=(fe=ie==null?void 0:ie.areas)==null?void 0:fe[ue])==null?void 0:Re.size)||0}),ye=q.reduce((Me,ue)=>Me+ue,0);if(ye>0&&Math.abs(ye-1)>.001){const Me=q.map(ue=>ue/ye);j(Me)}else j(q)}},R=()=>{_&&D(_),P=requestAnimationFrame(R)},F=U=>{_=U,P||(P=requestAnimationFrame(R))},T=()=>{P!==null&&(cancelAnimationFrame(P),P=null),_=null};wS(U=>{const H=ve.fromEvent(U);F(H)},()=>{T(),setTimeout(()=>o(null),0)})},kS=e=>{const{row:t,setResizePreview:n,offset:r}=e;N(d=>d.setRowSizes);const o=N(d=>{var h;return((h=d.screens[d.activeScreenId])==null?void 0:h.areas.layout)??{}}),i=N(d=>{var h;return(h=d.screens[d.activeScreenId])==null?void 0:h.areas.rootId}),s=N(d=>{var h;return(h=d.screens[d.activeScreenId])==null?void 0:h.areas.viewports}),a=N(d=>{var h;return((h=d.options)==null?void 0:h.resizableAreas)??!0}),{t:l}=pt();if(t.orientation==="stack"||!t||!t.areas||t.areas.length<=1||!o||!i||!t.areas.every(d=>s[d.id]&&o[d.id]))return null;const u=[];for(let d=0;d<t.areas.length-1;d++){const h=t.areas[d],g=t.areas[d+1];if(!h||!g)continue;const S=s[h.id],m=s[g.id];if(!o[h.id]||!o[g.id]||!S||!m)continue;const w=t.orientation==="horizontal";let p;if(w?p={left:m.left-ei,top:m.top+vt-r,width:ei*2,height:Math.max(m.height-vt,5)}:p={left:m.left,top:m.top-ei-r,width:Math.max(m.width,5),height:ei*2},isNaN(p.left)||isNaN(p.top)||isNaN(p.width)||isNaN(p.height))continue;p.width=Math.max(0,p.width),p.height=Math.max(0,p.height);const f=v=>{v.stopPropagation(),xS(v.nativeEvent,t,w,d+1,n)};u.push(k.jsx("div",{className:`area-separator ${w?"area-separator--horizontal":""}`,style:{...p,flexDirection:w?"column":"row",zIndex:w?2001:2e3,cursor:a?void 0:"default"},onMouseDown:a?f:void 0,title:l("area.separator.resize","Resize"),children:a&&(w?k.jsxs(k.Fragment,{children:[k.jsx(Wc,{size:32}),k.jsx(Wc,{size:32})]}):k.jsxs(k.Fragment,{children:[k.jsx(Kc,{size:32}),k.jsx(Kc,{size:32})]}))},`sep-${h.id}-${g.id}`))}return k.jsx(k.Fragment,{children:u})},IS=rt.memo(({areaToOpen:e,dimensions:t})=>{const{t:n}=pt(),r=W.getComponent(e.area.type);return r?k.jsxs("div",{className:"area-preview",style:{left:e.position.x,top:e.position.y},children:[k.jsx(vu,{id:"-1",Component:r,raised:!0,isChildOfStack:!1,state:e.area.state,type:e.area.type,viewport:{left:0,top:0,height:t.y,width:t.x},setResizePreview:()=>{}}),k.jsx("div",{className:"area-preview-content",children:n(`area.preview.${e.area.type}`,`Preview of ${e.area.type}`)})]}):null}),CS=rt.memo(({areaToOpen:e,dimensions:t,setAreaToOpenDimensions:n})=>{const r=N(g=>g.setViewports),o=N(g=>{var S;return(S=g.screens[g.activeScreenId])==null?void 0:S.areas.viewports}),{t:i}=pt(),{handleDragOver:s,handleDrop:a,areaToOpenTargetId:l,areaToOpenTargetViewport:c,calculatedPlacement:u}=ih();E.useEffect(()=>{if(!l||!c)return;const g=ve.new(c.width,c.height);(g.x!==t.x||g.y!==t.y)&&n(g)},[l,c,t,n]),E.useEffect(()=>{r(o)},[o,r]);const d=E.useMemo(()=>{if(!c)return{lines:[],placementLines:{}};const g=c,S=Math.min(g.width,g.height)*lg,m=ve.new(S,S),w=g.width,p=g.height,f=ve.new(0,0),v=ve.new(w,0),C=ve.new(w,p),x=ve.new(0,p),y=f.add(m),I=v.add(m.scaleX(-1)),z=C.add(m.scale(-1)),A=x.add(m.scaleY(-1));return{lines:[[f,y],[v,I],[x,A],[C,z],[y,I],[I,z],[z,A],[A,y]],placementLines:{left:[f,y,A,x],top:[f,v,I,y],right:[I,v,C,z],bottom:[x,A,z,C],stack:[y,I,z,A]}}},[c]),h=E.useMemo(()=>!c||!d.placementLines||!d.placementLines[u]?"":d.placementLines[u].map(S=>[S.x,S.y].join(",")).map((S,m)=>[m===0?"M":"L",S].join(" ")).join(" ")+" Z",[c,d.placementLines,u]);return c?k.jsxs("div",{className:`drop-zone ${c?"active":""}`,onDragOver:s,onDrop:a,children:[k.jsx("div",{className:"drop-zone-content",children:i("dropzone.message","Drop here")}),c&&k.jsxs("svg",{width:c.width,height:c.height,className:"area-to-open-overlay__placement",style:{left:c.left,top:c.top},children:[d.lines.map(([g,S],m)=>k.jsx("line",{x1:g.x,y1:g.y,x2:S.x,y2:S.y},m)),k.jsx("path",{d:h})]})]}):null}),ES=rt.memo(()=>{const e=N(o=>{var i;return(i=o.screens[o.activeScreenId])==null?void 0:i.areas.areaToOpen}),t=E.useMemo(()=>ve.new(100,100),[]),[n,r]=E.useState(t);return e?k.jsxs(k.Fragment,{children:[k.jsx(IS,{areaToOpen:e,dimensions:n}),k.jsx(CS,{areaToOpen:e,dimensions:n,setAreaToOpenDimensions:r})]}):null}),AS=e=>{const{viewport:t,movingInDirection:n}=e,{t:r}=pt(),o=Math.min(256,Math.min(t.width,t.height)*5);return k.jsxs("div",{className:"join-area-preview",style:{left:t.left,top:t.top,width:t.width,height:t.height},children:[k.jsx("div",{className:`join-area-preview__arrow-container join-area-preview__arrow-container--${n}`,children:k.jsx("div",{className:`join-area-preview__arrow join-area-preview__arrow--${n}`,style:{width:o,height:o},children:k.jsx(Yg,{size:o+"px",style:{color:"transparent"}})})}),k.jsx("div",{className:"join-area-preview-content",children:r("area.join.preview","Join areas")})]})};function ah(e,t){const{t:n}=pt();return e.map(r=>r.children&&r.children.length>0?k.jsx(V0,{label:n(`menu.${r.id}.label`,r.label),disabled:r.disabled,children:ah(r.children,t)},r.id):r.actionId==="area.separator"||r.label.match(/^[-\u2500]+$/)?k.jsx("div",{style:{margin:"4px 0",borderBottom:"1px solid #ccc"}},r.id):k.jsxs(Qr,{disabled:r.disabled,onClick:()=>t(r.actionId,r.metadata,r),children:[r.icon&&rt.createElement(r.icon),n(`menu.${r.id}.label`,r.label)]},r.id))}const _S=()=>{const e=Ve(a=>a.isVisible&&a.menuType==="default"),t=Ve(a=>a.items),n=Ve(a=>a.position),r=Ve(a=>a.closeContextMenu),o=Ve(a=>a.metadata),i=Ve(a=>a.menuClassName),s=(a,l,c)=>{Q.executeAction(a,{...o,...l}),r&&r()};return e?k.jsx(gu,{anchorPoint:n,state:e?"open":"closed",onClose:r,transition:!0,direction:"right",menuClassName:i,children:ah(t,s)}):null},MS=({children:e})=>k.jsxs(k.Fragment,{children:[e,k.jsx(_S,{}),k.jsx(sh,{})]});function zS(){const e=N(r=>r.activeScreenId),t=N(r=>{var o;return(o=r.screens[e])==null?void 0:o.isDetached}),n=N(r=>r.removeScreen);return E.useEffect(()=>{if(!t)return;const r=()=>{n(e)};return window.addEventListener("beforeunload",r),()=>window.removeEventListener("beforeunload",r)},[e,t,n]),null}function jS(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const o of n){if(!t.hasOwnProperty(o))return!1;const i=e[o],s=t[o];if(i.left!==s.left||i.top!==s.top||i.width!==s.width||i.height!==s.height)return!1}return!0}const TS=e=>{var t;return(t=e.screens[e.activeScreenId])==null?void 0:t.areas},NS=({offset:e=0})=>{const t=N(TS),n=N(S=>{var m;return(m=S.screens[S.activeScreenId])==null?void 0:m.isDetached}),r=E.useMemo(()=>t==null?void 0:t.rootId,[t==null?void 0:t.rootId]),o=E.useMemo(()=>(t==null?void 0:t.layout)??{},[t==null?void 0:t.layout]),i=E.useMemo(()=>t==null?void 0:t.joinPreview,[t==null?void 0:t.joinPreview]),s=E.useMemo(()=>t==null?void 0:t.areaToOpen,[t==null?void 0:t.areaToOpen]),a=E.useRef(null),[l,c]=E.useState(()=>n?{left:0,top:0,width:window.innerWidth,height:window.innerHeight}:Io()),[u,d]=E.useState(null),h=N(S=>S.setViewports);E.useEffect(()=>{if(!n){const S=document.querySelector(".area-root");if(S){const m=S.getBoundingClientRect();c({left:0,top:0,width:m.width,height:m.height})}}},[n]),E.useEffect(()=>{const S=()=>{if(n){const m={left:0,top:0,width:window.innerWidth,height:window.innerHeight};(!a.current||m.width!==a.current.width||m.height!==a.current.height)&&c(m)}else{const m=document.querySelector(".area-root");if(m){const w=m.getBoundingClientRect(),p={left:0,top:0,width:w.width,height:w.height};(!a.current||p.width!==a.current.width||p.height!==a.current.height)&&c(p)}}};return window.addEventListener("resize",S),()=>window.removeEventListener("resize",S)},[n]),E.useEffect(()=>{var w;const S=Object.keys(o).length,m=r?o[r]:null;if(!r||!m||S===0){a.current!==null&&(a.current=null,h({}));return}if(!(!l||l.width<=0||l.height<=0))try{const p=Ir(o,r,{...l,top:l.top+e}),f=(w=N.getState().screens[N.getState().activeScreenId])==null?void 0:w.areas.viewports;jS(f,p)||Object.keys(p).some(C=>{const x=f==null?void 0:f[C],y=p[C];return x?Math.abs(x.left-y.left)>1||Math.abs(x.top-y.top)>1||Math.abs(x.width-y.width)>1||Math.abs(x.height-y.height)>1:!0})&&(a.current=l,h(p))}catch(p){console.error("[Karmyc] Erreur lors du calcul du viewportMap:",p)}},[o,r,l,u,h]);const g=E.useCallback(S=>{var y;const m=N.getState(),w=m.screens[m.activeScreenId],p=(w==null?void 0:w.areas.viewports)||{},f=p[S];if(w!=null&&w.isDetached)return{...f,left:0,top:0,width:window.innerWidth,height:window.innerHeight};if(!u)return f;let v,C=-1;if(v=Object.values(o).filter(I=>I.type==="area_row").find(I=>{const z=I.areas.findIndex(A=>A.id===S);return z!==-1?(C=z,!0):!1}),!v||v.id!==u.rowId)return f;const x=u.separatorIndex;if(C===x-1||C===x){const I=C===x-1?x:x-1,z=(y=v.areas[I])==null?void 0:y.id;if(!z)return f;const A=p[z];if(!A)return f;const M=C===x-1,L=u.t;if(!p[v.id])return f;const _=M?f:A,j=M?A:f,D={left:_.left,top:_.top,width:_.width+j.width,height:_.height+j.height};if(v.orientation==="horizontal"){const R=D.width,F=Math.max(0,Math.floor(R*L)),T=Math.max(0,R-F),O=M?F:T,b=M?D.left:D.left+F;return isNaN(O)||isNaN(b)?(console.warn(`[VisViewport] ${S}: NaN detected in horizontal calc.`),f):{...f,width:O,left:b}}else if(v.orientation==="vertical"){const R=D.height,F=Math.max(0,Math.floor(R*L)),T=Math.max(0,R-F),O=M?F:T,b=M?D.top:D.top+F;return isNaN(O)||isNaN(b)?(console.warn(`[VisViewport] ${S}: NaN detected in vertical calc.`),f):{...f,height:O,top:b}}else if(v.orientation==="stack")return f}return f},[o,u]);return k.jsxs(MS,{children:[k.jsx(zS,{}),k.jsxs("div",{className:"area-root",children:[Object.values(o).map(S=>{var m;if(S.type==="area_row"){const w=S,p=((m=N.getState().screens[N.getState().activeScreenId])==null?void 0:m.areas.viewports)||{};if(w.areas.every(v=>p[v.id]))return k.jsx(kS,{offset:e,row:w,setResizePreview:d},S.id)}return null}),Object.entries(o).map(([S])=>{const m=g(S);return m?k.jsx(SS,{id:S,viewport:{...m,top:m.top-e},setResizePreview:d},S):null}),i&&i.areaId&&(()=>{var w;const m=(((w=N.getState().screens[N.getState().activeScreenId])==null?void 0:w.areas.viewports)||{})[i.areaId];return m?k.jsx(AS,{viewport:m,movingInDirection:i.movingInDirection}):null})(),s&&k.jsx(ES,{})]})]})},PS=()=>{const e={plugins:[],initialAreas:[{id:"area-1",type:"demo-area",state:{},role:oe.LEAD},{id:"area-2",type:"logo-karmyc-area",state:{},role:oe.SELF},{id:"area-3",type:"keyboard-shortcuts-area",state:{},role:oe.SELF}],keyboardShortcutsEnabled:!0,builtInLayouts:[{id:"default",name:"Layout par défaut",config:{_id:10,rootId:"root",errors:[],activeAreaId:"area-1",joinPreview:null,layout:{root:{id:"root",type:"area_row",orientation:"horizontal",areas:[{id:"area-1",size:.3},{id:"area-2",size:.4},{id:"area-3",size:.3}]},"area-1":{type:"area",id:"area-1"},"area-2":{type:"area",id:"area-2"},"area-3":{type:"area",id:"area-3"}},areas:{"area-1":{id:"area-1",type:"demo-area",state:{},role:oe.LEAD},"area-2":{id:"area-2",type:"logo-karmyc-area",state:{},role:oe.SELF},"area-3":{id:"area-3",type:"keyboard-shortcuts-area",state:{},role:oe.SELF}},viewports:{},areaToOpen:null,lastSplitResultData:null,lastLeadAreaId:"area-1"},isBuiltIn:!0},{id:"minimal",name:"Layout minimal",config:{_id:10,rootId:"root",errors:[],activeAreaId:"area-1",joinPreview:null,layout:{root:{id:"root",type:"area_row",orientation:"vertical",areas:[{id:"area-1",size:.7},{id:"area-2",size:.3}]},"area-1":{type:"area",id:"area-1"},"area-2":{type:"area",id:"area-2"}},areas:{"area-1":{id:"area-1",type:"demo-area",state:{},role:oe.LEAD},"area-2":{id:"area-2",type:"logo-karmyc-area",state:{},role:oe.SELF}},viewports:{},areaToOpen:null,lastSplitResultData:null,lastLeadAreaId:"area-1"},isBuiltIn:!0}],initialLayout:"default",resizableAreas:!0,manageableAreas:!0,multiScreen:!0},t=Ng(e);return k.jsxs(Fg,{options:t,children:[k.jsx(dS,{}),k.jsx(sl,{areaType:"apptitle",children:k.jsx(sl,{areaType:"app",children:k.jsx(NS,{offset:vt*2})})})]})};vp(document.getElementById("root")).render(k.jsx(E.StrictMode,{children:k.jsx(PS,{})}));
